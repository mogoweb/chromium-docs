<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="/_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/audio-video","deleted":false,"title":"Audio/Video","dir":"ltr"}];
  var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttp://sites.google.com/a/chromium.org/dev/audio-video\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"http://csi.gstatic.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["http://www.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["http://www.gstatic.com/sites/p/56e332/system/js/codemirror.js","http://www.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","http://www.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","http://www.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","http://www.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":null,"parentWuid":null,"siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Audio/Video","locale":"en","wuid":"wuid:gx:30122b00053e13ac","revision":15,"path":"/audio-video","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"audio-video","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Audio/Video - The Chromium Projects" />
<meta itemprop="name" content="Audio/Video - The Chromium Projects" />
<meta property="og:title" content="Audio/Video - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="http://www.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/overlay.css?cb=beigeandblueundefineda100%25%25150goog-ws-leftthemedefaultstandard" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Audio/Video - The Chromium Projects</title>
<meta itemprop="image" content="http://www.chromium.org/_/rsrc/1304732546623/audio-video/ChromiumMediaPlayerFSStack%20%281%29.png" />
<meta property="og:image" content="http://www.chromium.org/_/rsrc/1304732546623/audio-video/ChromiumMediaPlayerFSStack%20%281%29.png" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="http://www.chromium.org/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="http://www.chromium.org/" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-projects" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/Home" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-os" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/for-testers/bug-reporting-guidelines" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/developers/discussion-groups" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
</div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Audio/Video</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr">Everything you need to know about audio/video inside Chromium and Chromium OS!<div><br /></div><div><h3><a name="TOC-Who-To-Contact"></a>Who To Contact</h3><div>It's best to have discussion on chromium-dev@chromium.org, but failing that feel free to email me (scherkus@chromium.org).</div><div><br /></div><div>We are <a href="http://code.google.com/p/chromium/issues/list?can=2&amp;q=Cr%3DInternals-Media">Cr-Internals-Media</a> on the Chromium bug tracker.</div><h3><a name="TOC-Documentation"></a>Documentation</h3><div>Here's our (somewhat outdated) <a href="http://www.chromium.org/developers/design-documents/video">design doc for HTML5 audio/video</a>.</div><div><div><h3><a name="TOC-Codec-Support"></a>Codec Support</h3></div><div>As of February 2014, Chromium supports the following:</div></div><div><font face="'courier new', monospace">Vorbis audio codec</font></div><div><font face="'courier new', monospace">Theora video codec</font></div><div><font face="'courier new', monospace">Opus audio codec</font></div><div><font face="'courier new', monospace">VP8 video codec</font></div><div><font face="'courier new', monospace">VP9 video codec</font></div><div><span style="font-family:courier new,monospace">PCM 8-bit unsigned integer</span></div><div><span style="font-family:courier new,monospace">PCM 16-bit signed integer little endian</span></div><div><span style="font-family:courier new,monospace">PCM 32-bit float little endian</span></div><div><span style="font-family:courier new,monospace"><span style="font-family:Arial,Verdana,sans-serif"><div><font face="'courier new', monospace">Ogg container format</font></div><div><font face="'courier new', monospace">WebM container format</font></div><div><font face="'courier new', monospace">WAV container format</font></div></span></span></div><div><br /></div><div>When building Google Chrome, the following codecs/containers are also included:</div><div><font face="'courier new', monospace">MP3 audio codec</font></div><div><font face="'courier new', monospace">AAC audio codec (Main only, not AAC-LC, AAC-SSR, HE-AAC)</font></div><div><font face="'courier new', monospace">H.264 video codec</font></div><div><font face="'courier new', monospace">MP4 container format</font></div><br />In terms of file extensions, Chromium recognizes the following (defined in <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/base/mime_util.cc?view=markup">src/net/base/mime_util.cc</a>):<div><font face="'courier new', monospace">mp4, </font><span style="font-family:courier new,monospace">m4v, </span><span style="font-family:courier new,monospace">m4a, </span><span style="font-family:courier new,monospace">mp3, </span><font face="'courier new', monospace">ogv, </font><span style="font-family:courier new,monospace">ogm, </span><span style="font-family:courier new,monospace">ogg, </span><span style="font-family:courier new,monospace">oga, </span><span style="font-family:courier new,monospace">webm, </span><span style="font-family:courier new,monospace">wav</span></div><br />When build Google Chrome OS, the following codecs/containers are also included:</div><div><font face="'courier new', monospace">FLAC audio codec</font></div><div><font face="'courier new', monospace">MPEG-4 video codec</font></div><div><font face="'courier new', monospace">AMR-NB audio codec</font></div><div><font face="'courier new', monospace">AMR-WB audio codec</font></div><div><font face="'courier new', monospace">PCM μ-law</font></div><div><br /></div><div>In terms of file extensions, Google Chrome OS recognizes the following (defined in <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/base/mime_util.cc?view=markup">src/net/base/mime_util.cc</a>):</div><div><font face="'courier new', monospace">amr, avi, flac, 3gp</font><span>    </span></div><div><br /><div><h3><a name="TOC-Code-Location"></a>Code Location</h3><div><b>Chromium</b></div><font face="'courier new', monospace">src/media/ - Home to all things multimedia!<br />src/media/audio - OS audio input/output abstractions<br />src/media/video/capture - OS camera input abstraction<br />src/media/video - software/hardware video decoder interfaces + implementations<br />deps/third_party/ffmpeg - Chromium's copy of FFmpeg<br />deps/third_party/libvpx - Chromium's copy of libvpx</font><div><div></div><div><br /></div><div><b>WebKit</b></div><div><font face="'courier new', monospace">Source/WebCore/html/HTMLMediaElement.{cpp,h,idl} - media element base class</font></div><div><font face="'courier new', monospace">Source/WebCore/html/HTMLAudioElement.{cpp,h,idl} - audio element implementation</font></div><div><font face="'courier new', monospace">Source/WebCore/html/HTMLVideoElement.{cpp,h,idl} - video element implementation</font></div><div><font face="'courier new', monospace">Source/WebCore/platform/graphics/MediaPlayer.{cpp,h} - encapsulates media playback inside WebKit</font></div><div><font face="'courier new', monospace"><div style="font-family:Arial,Verdana,sans-serif"><b><br />Particularly Interesting Bits</b></div><div style="font-family:Arial,Verdana,sans-serif"><font face="'courier new', monospace">src/net/base/mime_util.cpp - defines canPlayType() behaviour and file extension mapping</font></div><div style="font-family:Arial,Verdana,sans-serif"><font face="'courier new', monospace">src/webkit/media/buffered_data_source.{cc,h} - Chromium's main implementation of DataSource for the media pipeline</font></div><div style="font-family:Arial,Verdana,sans-serif"><font face="'courier new', monospace">src/webkit/media/buffered_resource_loader.{cc,h} - Implements the sliding window buffering strategy (see below)</font></div><div style="font-family:Arial,Verdana,sans-serif"><span style="font-family:courier new,monospace">src/webkit/media/webmediaplayer_impl.{cc,h} - Chromium's implementation of WebMediaPlayer</span></div><div>Source/WebKit/chromium/public/WebMediaPlayer.h - Chromium's interface for providing HTML5 audio/video functionality</div></font><h3><a name="TOC-How-does-everything-get-instantiated-"></a>How does everything get instantiated?</h3><div><font face="'courier new', monospace">WebViewClient::createMediaPlayer(WebFrame*, WebMediaPlayerClient*)</font> is the WebKit embedder API for creating a WebMediaPlayer and passing it back to WebKit. Every HTML5 audio/video element will ask to create a WebMediaPlayer object from the embedder.</div><div><br /></div><div>For Chromium (the entire browser) this is handled in <font face="'courier new', monospace">RenderView</font>:</div><div><font face="'courier new', monospace">src/content/renderer/render_view.cc</font> </div><div><br /></div><div>For Test Shell this is handled in <font face="'courier new', monospace">TestWebViewDelegate</font>:</div><div><font face="'courier new', monospace">src/webkit/tools/test_shell/test_webview_delegate.h</font></div><div><h3><a name="TOC-What-s-with-all-these-abstraction-layers-"></a>What's with all these abstraction layers!?</h3><div>Necessary in order to properly isolate Chromium from WebKit. Although it looks confusing, really all you need to worry about is WebKit's MediaPlayer and Chromium's WebMediaPlayerImpl. The rest of it amounts to simple method forwarding.</div><div><div style="display:block;text-align:left"><div style="display:block;margin-right:auto;margin-left:auto;text-align:center"><a href="http://www.chromium.org/audio-video/ChromiumMediaPlayerFSStack%20%281%29.png?attredirects=0" imageanchor="1"><img border="0" src="http://www.chromium.org/_/rsrc/1304732546623/audio-video/ChromiumMediaPlayerFSStack%20%281%29.png" /></a></div><br /></div></div><h3><a name="TOC-GYP-Flags"></a>GYP Flags</h3>There are a few GYP flags which can alter the behaviour of Chromium's HTML5 audio/video implementation.</div><div><br /></div><div><font face="'courier new', monospace">ffmpeg_branding</font></div><div><font face="'courier new', monospace">  Overrides which version of FFmpeg to use</font></div><div><font face="'courier new', monospace">  Default: $(branding)</font></div><div><font face="'courier new', monospace">  Values:</font></div><div><font face="'courier new', monospace">    Chrome - includes additional proprietary codecs (MP3, etc..) for use with Google Chrome</font></div><div><font face="'courier new', monospace">    Chromium - builds default set of codecs</font></div><div><font face="'courier new', monospace"><br /></font></div><div><font face="'courier new', monospace">proprietary_codecs</font></div><div><font face="'courier new', monospace">  Alters the list of codecs Chromium claims to support, which affects &lt;source&gt; and canPlayType() behaviour</font></div><div><font face="'courier new', monospace">  Default: 0</font></div><div><font face="'courier new', monospace">  Values:</font></div><div><font face="'courier new', monospace">    0 - &lt;source&gt; and canPlayType() assume the default set of codecs</font></div><div><font face="'courier new', monospace">    1 - &lt;source&gt; and canPlayType() assume they support additional proprietary codecs</font></div><div><font face="'courier new', monospace"><br /></font></div><div><font face="'courier new', monospace">use_system_ffmpeg</font></div><div><font face="'courier new', monospace">  Will build Chromium using the host system's version of FFmpeg</font></div><div><font face="'courier new', monospace">  Default: 0</font></div><div><font face="'courier new', monospace">  Values:</font></div><div><font face="'courier new', monospace">    0 - Build Chromium using the copy of FFmpeg included with Chromium</font></div><div><font face="'courier new', monospace">    1 - Build Chromium using the host system's version of FFmpeg</font></div></div></div></div></div><h3><a name="TOC-LayoutTests"></a>LayoutTests</h3><div>We run the following layout tests:</div><div><font face="'courier new', monospace">Source/LayoutTests/media</font></div><div><font face="'courier new', monospace">Source/LayoutTests/http/tests/media</font></div><div><br /></div><div>If these are failing, let us know!</div><div><br /></div><h3><a name="TOC-How-the-does-buffering-work-"></a>How the %#$&amp; does buffering work?</h3><div>Chromium uses a combination of range requests and an in-memory sliding window to buffer media. We have a low and high watermark that is used to determine when to purposefully stall the HTTP request and when the resume the HTTP request.</div><div><br /></div><div>It's complicated, so here's a picture:</div><div><div style="display:block;margin-right:auto;margin-left:auto;text-align:center"><a href="http://www.chromium.org/audio-video/ChromiumMediaBuffering.png?attredirects=0" imageanchor="1"><img border="0" src="http://www.chromium.org/_/rsrc/1304634256144/audio-video/ChromiumMediaBuffering.png" /></a></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages" class="sites-canvas-bottom-panel-wrapper" style="">
<div class="sites-subpages">
            Subpages <span id="subpages-total-number">(1):</span>
<span>
<a href="/audio-video/media-internals" dir="ltr">Media Internals</a>
</span>
</div>
</div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=http://sites.google.com/a/chromium.org/dev/audio-video">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/recentChanges">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="http://www.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9wQLqYmK-RFEJaGYhuJBME1hSJUYeaZSQHEeqPocNeOPx8Mqdi_wk4_k95ezfxoR0DEXU0CeAZFsIJNPEQjLDUNC6pZFzyu_cHP6JPuLcoMtyDx9k/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('http://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'http://csi.gstatic.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
