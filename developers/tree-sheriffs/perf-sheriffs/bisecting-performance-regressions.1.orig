<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="/_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/tree-sheriffs","deleted":false,"title":"Tree Sheriffs","dir":"ltr"},{"path":"/developers/tree-sheriffs/perf-sheriffs","deleted":false,"title":"Perf Sheriffing","dir":"ltr"},{"path":"/developers/tree-sheriffs/perf-sheriffs/bisecting-performance-regressions","deleted":false,"title":"Bisecting Performance Regressions","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/developers/tree-sheriffs/perf-sheriffs/bisecting-performance-regressions\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers/tree-sheriffs/perf-sheriffs","parentWuid":"wuid:gx:419c54269013995f","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Bisecting Performance Regressions","locale":"en","wuid":"wuid:gx:455aab19bca6ca7","revision":80,"path":"/developers/tree-sheriffs/perf-sheriffs/bisecting-performance-regressions","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"bisecting-performance-regressions","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Bisecting Performance Regressions - The Chromium Projects" />
<meta itemprop="name" content="Bisecting Performance Regressions - The Chromium Projects" />
<meta property="og:title" content="Bisecting Performance Regressions - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/overlay.css?cb=beigeandblueundefineda100%25%25150goog-ws-leftthemedefaultstandard" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Bisecting Performance Regressions - The Chromium Projects</title>
<meta itemprop="image" content="https://lh4.googleusercontent.com/CGyEqhUKmyW48BjUt_H8vHE0ECu5kr2aeCYlhfqpqBwYah5FuBaEFIXLhw0uY7bQjip4cm59AWHJJF5FG39egKiBzwTKaEeL6LIjA747s4ryVbsm1o2LvWk_" />
<meta property="og:image" content="https://lh4.googleusercontent.com/CGyEqhUKmyW48BjUt_H8vHE0ECu5kr2aeCYlhfqpqBwYah5FuBaEFIXLhw0uY7bQjip4cm59AWHJJF5FG39egKiBzwTKaEeL6LIjA747s4ryVbsm1o2LvWk_" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="https://www.chromium.org/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="https://www.chromium.org/" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-projects" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/Home" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-os" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/for-testers/bug-reporting-guidelines" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/developers/discussion-groups" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="/developers" dir="ltr">For Developers</A>‎ &gt; ‎<A href="/developers/tree-sheriffs" dir="ltr">Tree Sheriffs</A>‎ &gt; ‎<A href="/developers/tree-sheriffs/perf-sheriffs" dir="ltr">Perf Sheriffing</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Bisecting Performance Regressions</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div><b><font size="2"><div>   <div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed" style="width:250px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-3"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Summary"><strong>1 </strong>Summary</a></li><li class="goog-toc"><a href="#TOC-Supported-Platforms"><strong>2 </strong>Supported Platforms</a></li><li class="goog-toc"><a href="#TOC-Run-on-try-bot"><strong>3 </strong>Run on try bot</a></li><li class="goog-toc"><a href="#TOC-Run-Locally"><strong>4 </strong>Run Locally</a></li><li class="goog-toc"><a href="#TOC-Tips"><strong>5 </strong>Tips</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Gotchas"><strong>5.1 </strong>Gotchas</a></li></ol></li><li class="goog-toc"><a href="#TOC-Addidtional-Details"><strong>6 </strong>Addidtional Details</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Assumptions"><strong>6.1 </strong>Assumptions</a></li><li class="goog-toc"><a href="#TOC-Known-Issues"><strong>6.2 </strong>Known Issues</a></li></ol></li></ol></div></div></div></div></div><br /></font></b></div><h2><a name="TOC-Summary"></a><b><font size="4">Summary</font></b></h2><div>A Python script for automating the process of syncing, building, and testing commits for performance regressions.<br /><div><br /></div><div>The script works by syncing to both revisions specified on the command line, building them, and running performance tests to get baseline values for the bisection. After that, it will perform a binary search on the range of commits between the known good and bad revisions. If the pinpointed revision turns out to be a change in Blink, V8, or Skia, the script will attempt to gather a range of revisions for that repository and continue bisecting.</div><div><br /></div><div><font face="arial, sans-serif" size="2">The same bisect try server can also be used to <a href="https://www.chromium.org/developers/telemetry/performance-try-bots">try performance tests with particular patches</a>.</font></div><h2><a name="TOC-Supported-Platforms"></a>Supported Platforms</h2></div><p>Supported platforms include Android, Linux, Mac, and Windows. See <a href="http://build.chromium.org/p/tryserver.chromium.perf/builders">http://build.chromium.org/p/tryserver.chromium.perf/builders</a>.</p><h2><a name="TOC-Run-on-try-bot"></a>Run on try bot</h2><div><span><div><p><font face="arial, sans-serif"><span style="font-size:13px;font-weight:normal">The performance try server is </span><a href="http://build.chromium.org/p/tryserver.chromium.perf/waterfall" style="font-size:10pt;font-weight:normal;background-color:transparent">tryserver.chromium.perf</a><span style="font-size:13px;font-weight:normal">.</span></font></p></div><ul style="margin-top:0pt;margin-bottom:0pt"><li><span style="font-family:Arial;line-height:1.15;white-space:pre-wrap;font-size:10pt">Create new git branch or check out existing branch.</span></li><li><span style="line-height:1.15;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Edit </span><span style="line-height:1.15;font-family:Arial;color:rgb(0,96,0);vertical-align:baseline;white-space:pre-wrap"><code>tools/auto_bisect/bisect.cfg</code></span><span style="line-height:1.15;font-family:Arial;vertical-align:baseline;white-space:pre-wrap"> (instructions </span><a href="https://code.google.com/p/chromium/codesearch#chromium/src/tools/run-bisect-perf-regression.cfg" style="line-height:1.15;font-family:Arial;text-decoration:none" target="_blank"><span style="color:rgb(71,18,100);text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">in file</span></a><span style="line-height:1.15;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">).</span></li><ul style="margin-top:0pt;margin-bottom:0pt"><li><span style="line-height:1.15;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Take care to strip any </span><span style="line-height:1.15;font-family:Arial;color:rgb(0,96,0);vertical-align:baseline;white-space:pre-wrap"><code>src/</code></span><span style="line-height:1.15;font-family:Arial;vertical-align:baseline;white-space:pre-wrap"> directories from the head of relative path names.</span></li><li><span style="white-space:pre-wrap;line-height:1.15;font-family:Arial">You can search through the stdio from performance tests for <code>run_benchmark</code> help figure out the command to use.</span></li><li><span style="white-space:pre-wrap;line-height:1.15;font-family:Arial">You cannot specify a blink, v8, or skia revision range directly. You can only specify a range of chrome revisions, and the tool will extract other revision ranges by looking at the .DEPS.git file.</span></li><li><span style="white-space:pre-wrap;line-height:1.15;font-family:Arial">Also note that cycle times for the bots can be vastly different. Often linux bisects are the fastest, followed by windows, mac, and android.</span></li><li style="list-style-type:circle;font-size:13px;font-family:Arial;vertical-align:baseline"><img height="202px;" src="https://lh4.googleusercontent.com/CGyEqhUKmyW48BjUt_H8vHE0ECu5kr2aeCYlhfqpqBwYah5FuBaEFIXLhw0uY7bQjip4cm59AWHJJF5FG39egKiBzwTKaEeL6LIjA747s4ryVbsm1o2LvWk_" style="display:block;margin-right:auto;text-align:left" width="376px;" /></li></ul><li style="list-style-type:disc;font-size:13px;font-family:Arial;vertical-align:baseline"><p style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap">Commit your changes locally; if 2nd+ change to branch, amend via </span><span style="font-size:13px;color:rgb(0,96,0);vertical-align:baseline;white-space:pre-wrap"><code>git commit --amend</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"> (else trychange.py can't determine the diff).</span></p></li><li style="list-style-type:disc;vertical-align:baseline"><p style="font-family:Arial;font-size:13px;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap">You can run a try job using Rietveld like soRun the try job like so; you can substitute a specific bisect bot name for</span><span style="line-height:1.15;font-size:13px;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"> the <font color="#006000">--bot</font></span><span style="background-color:transparent;font-size:13px;line-height:1.15;white-space:pre-wrap"> </span><span style="white-space:pre-wrap;font-size:13px;background-color:transparent">parameter.
</span></p><div class="sites-codeblock sites-codesnippet-block"><span style="color:rgb(0,96,0);line-height:1;background-color:rgb(239,239,239)"><code>git cl upload --bypass-hooks</code><br /></span><span style="color:rgb(0,96,0);line-height:1;background-color:rgb(239,239,239)"><code>git cl try --email=&lt;email&gt;@chromium.org -m tryserver.chromium.perf --bot=linux_perf_bisect</code></span></div></li><li style="list-style-type:disc;font-size:13px;font-family:Arial;vertical-align:baseline"><p style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="line-height:1.15;vertical-align:baseline;white-space:pre-wrap;background-color:transparent">You can also see the results on the bisect try server waterfall page.</span></p></li><li><p style="font-family:Arial;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="vertical-align:baseline;white-space:pre-wrap">The try bot will send an email on completion as a regular "Try Success" email, showing whether bisect was successful and linking to output (the Results </span><span style="vertical-align:baseline;white-space:pre-wrap">stdio</span><span style="vertical-align:baseline;white-space:pre-wrap"> link at the bottom).</span></p><p style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="vertical-align:baseline;white-space:pre-wrap"><font face="Arial">Also note that the trybots run o</font><font face="arial, sans-serif">n LKGR, n</font><font face="Arial">ot ToT. If you just a made change to the bisect script themselves, make sure you pass -r REV to ensure the bisect script contains your revision.</font></span></p></li><ul><li><span style="font-family:Arial;line-height:1.15;white-space:pre-wrap;font-size:10pt"><div style="display:block;text-align:left"><a href="https://www.chromium.org/developers/tree-sheriffs/perf-sheriffs/bisecting-performance-regressions/Screenshot%20from%202013-08-20%2009%3A14%3A59.png?attredirects=0" imageanchor="1" style="font-size:10pt;line-height:1.15"><img border="0" src="https://www.chromium.org/_/rsrc/1377015379625/developers/tree-sheriffs/perf-sheriffs/bisecting-performance-regressions/Screenshot%20from%202013-08-20%2009%3A14%3A59.png" /></a></div></span></li></ul></ul><ul style="margin-top:0pt;margin-bottom:0pt"><li><span style="font-family:Arial;line-height:1.15;white-space:pre-wrap;font-size:10pt">If the bot seems to be down, you can try pining a trooper.</span></li></ul><div><font face="Arial"><span style="line-height:15.3333320617676px;white-space:pre-wrap"><br /></span></font></div></span></div><h2><a name="TOC-Run-Locally"></a>Run Locally</h2><div>You probably don't want to run locally, except to debug proper settings before sending to a try bot, or if running overnight, since the test will run in your local session and make your computer impossible to use. Further, you won't be able to run anything without interfering with the tests.</div><div><ul><li><span style="color:rgb(34,34,34);font-family:arial,sans-serif;font-size:10pt">Recommended that you set power management features to "performance" mode.</span></li><ul><li><span style="color:rgb(34,34,34);font-family:arial,sans-serif;font-size:10pt">For googlers:</span></li></ul></ul></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div class="sites-codeblock sites-codesnippet-block"><span style="font-size:10pt;color:rgb(34,34,34);font-family:arial,sans-serif"><code>sudo </code></span><span style="font-size:10pt;background-color:rgb(255,255,204);color:rgb(34,34,34);font-family:arial,sans-serif"><code>goobuntu</code></span><span style="font-size:10pt;color:rgb(34,34,34);font-family:arial,sans-serif"><code>-config set powermanagement performance</code></span></div></div></blockquote></blockquote><div><ul><li><span style="font-size:10pt">Run locally in private checkout (recommended way of running locally); first change to <code>CHROMIUM_DIR="$CHROMIUM_ROOT/src"</code></span></li></ul></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div class="sites-codeblock sites-codesnippet-block"><code>cd "$CHROMIUM_DIR"</code></div></div></blockquote></blockquote><div><ul><ul><li><span style="font-size:10pt">Edit <code>tools/run-bisect-perf-regression.cfg</code> </span>(instructions in file)</li></ul></ul></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div class="sites-codeblock sites-codesnippet-block"><code>tools/run-bisect-perf-regression.py -w .. -p "$GOMA_DIR"</code></div></div></blockquote></blockquote><div><ul><ul><ul><li><span style="font-size:10pt"><code>-w</code> Working directory to store private copy of depot</span></li><li><span style="font-size:10pt"><code>-p</code> Path to goma's directory (optional).</span></li></ul></ul><li><span style="font-size:10pt">Run locally from &lt;chromium&gt;/src:</span></li><br /><div class="sites-codeblock sites-codesnippet-block"><code>tools/run-bisect-perf-regression.py -c "out/Release/performance_ui_tests --gtest_filter=PageCyclerTest.MozFile" -g 179776 -b 179782 -m times/t</code><br /><code>tools/run-bisect-perf-regression.py -c "out/Release/performance_ui_tests --gtest_filter=ShutdownTest.SimpleUserQuit" -g 1f6e67861535121c5c819c16a666f2436c207e7b -b b732f23b4f81c382db0b23b9035f3dadc7d925bb -m shutdown/simple-user-quit</code></div></ul></div><div><h2><a name="TOC-Tips"></a>Tips</h2><div><ul><li>Often you can get a clearer regression by looking at the other metrics in the same test. For example, if the metric is warm_times/page_load_time for a page_cycler regression, look at the individual pages. Often there's a page where the regression clearly stands out that you can bisect on.</li><li>With tests that suddenly become noisy, bisecting on changes in the mean isn't all that useful. There's a "bisect_mode" parameter in the config that allows you to specify "std_dev", and the bisect script will bisect on changes in standard deviation instead. There is currently no way to do this from the dashboard, so you'll have to initiate the bisect manually. The list of available modes can be found in <a href="https://code.google.com/p/chromium/codesearch#chromium/src/tools/auto_bisect/bisect_utils.py&amp;q=bisect_mode&amp;sq=package:chromium&amp;type=cs&amp;l=138" target="_blank">bisect_utils.py</a>: 'mean', 'std_dev', and 'return_code' are the values as of January 2015. 'error_code' can be used to find the point where perf tests begin failing (when metrics aren't being produced).</li><li>You can use the bisect script to find functional breakages as well. Specify "return_code" for the "bisect_mode". You can leave "metric" empty since this won't be used. There is currently no way to do this from the dashboard, so you'll have to initiate the bisect manually.</li></ul></div><h3><a name="TOC-Gotchas"></a>Gotchas</h3><div><ul><li>If you suspect a Blink/V8/Skia roll, be sure that the range you specify includes when the DEPS file was submitted; t<span style="font-size:10pt;background-color:transparent">he script will attempt to detect this situation and expand the range to include the DEPS roll.</span></li><li>Remove "src" from paths in command</li><li>Remove <code>--browser_executable</code> flag and <code>--output-trace-tag=_ref</code></li><li>Use <code>--browser=release</code></li></ul></div></div><h2><a name="TOC-Addidtional-Details"></a>Addidtional Details</h2><h3><a name="TOC-Assumptions"></a><b><font size="3">Assumptions</font></b></h3><div><ul><li>You are running the script from &lt;chromium&gt;/src.</li><li>You have 'master' checked out on src.</li><li>You are on the LKGR (may not be HEAD)</li><li>(You may be able to instead use a .diff file, as above.)</li></ul></div><div><h3><a name="TOC-Known-Issues"></a><b>Known Issues</b></h3></div><p>Known issues: See <a href="https://code.google.com/p/chromium/issues/list?can=2&amp;q=label%3ACr-Tests-AutoBisect&amp;colspec=ID+Pri+M+Iteration+ReleaseBlock+Cr+Status+Owner+Summary+OS+Modified&amp;x=status&amp;y=type&amp;mode=grid&amp;cells=tiles">label Cr-Tests-AutoBisect on the issue tracker</a>.</p><div><br /></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/developers/tree-sheriffs/perf-sheriffs/bisecting-performance-regressions">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/recentChanges">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXukca4jaDOG9SuQz_G8t7HlLgiMO1iq7YrYiItOKiC5sQe5DVkvCJL79_2F4feyumctDGjtR5WDqGa882ULtkeZy3LTZYYTT_Behgmg4kRUOLyaPOSlrWJZaRl0oYO7bu7xW2Rs/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
