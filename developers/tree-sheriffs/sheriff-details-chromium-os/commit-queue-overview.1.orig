<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="/_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/tree-sheriffs","deleted":false,"title":"Tree Sheriffs","dir":"ltr"},{"path":"/developers/tree-sheriffs/sheriff-details-chromium-os","deleted":false,"title":"Sheriff FAQ: Chromium OS","dir":"ltr"},{"path":"/developers/tree-sheriffs/sheriff-details-chromium-os/commit-queue-overview","deleted":false,"title":"Chromium OS Commit Queue Overview","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/developers/tree-sheriffs/sheriff-details-chromium-os/commit-queue-overview\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers/tree-sheriffs/sheriff-details-chromium-os","parentWuid":"wuid:gx:79e029161c9e8b0c","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Chromium OS Commit Queue Overview","locale":"en","wuid":"wuid:gx:359411dde4d9a4a3","revision":64,"path":"/developers/tree-sheriffs/sheriff-details-chromium-os/commit-queue-overview","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"commit-queue-overview","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Chromium OS Commit Queue Overview - The Chromium Projects" />
<meta itemprop="name" content="Chromium OS Commit Queue Overview - The Chromium Projects" />
<meta property="og:title" content="Chromium OS Commit Queue Overview - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/overlay.css?cb=beigeandblueundefineda100%25%25150goog-ws-leftthemedefaultstandard" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Chromium OS Commit Queue Overview - The Chromium Projects</title>
<meta itemprop="image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<meta property="og:image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="https://www.chromium.org/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="https://www.chromium.org/" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-projects" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/Home" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-os" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/for-testers/bug-reporting-guidelines" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/developers/discussion-groups" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="/developers" dir="ltr">For Developers</A>‎ &gt; ‎<A href="/developers/tree-sheriffs" dir="ltr">Tree Sheriffs</A>‎ &gt; ‎<A href="/developers/tree-sheriffs/sheriff-details-chromium-os" dir="ltr">Sheriff FAQ: Chromium OS</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Chromium OS Commit Queue Overview</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div class="sites-embed-align-right-wrapping-on"><div class="sites-embed-border-off sites-embed" style="width:250px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-How-do-I-submit-my-change-to-the-Commit-Queue-"><strong>1 </strong>How do I submit my change to the Commit Queue?</a></li><li class="goog-toc"><a href="#TOC-How-does-the-Commit-Queue-verify-changes-"><strong>2 </strong>How does the Commit Queue verify changes?</a></li><li class="goog-toc"><a href="#TOC-How-does-the-commit-queue-decide-when-to-pick-up-a-change-"><strong>3 </strong>How does the commit queue decide when to pick up a change?</a></li><li class="goog-toc"><a href="#TOC-Why-wasn-t-my-change-picked-up-by-Commit-Queue-"><strong>4 </strong>Why wasn't my change picked up by Commit Queue?</a></li><li class="goog-toc"><a href="#TOC-When-should-I-mark-my-changes-as-Trybot-Ready-"><strong>5 </strong>When should I mark my changes as Trybot Ready?</a></li><li class="goog-toc"><a href="#TOC-Will-the-Commit-Queue-respect-dependent-changes-in-Gerrit-"><strong>6 </strong>Will the Commit Queue respect dependent changes in Gerrit?</a></li><li class="goog-toc"><a href="#TOC-How-do-I-specify-the-dependencies-of-a-change-"><strong>7 </strong>How do I specify the dependencies of a change?</a></li><li class="goog-toc"><a href="#TOC-How-can-I-launch-a-non-PreCQ-trybot-for-my-change-"><strong>8 </strong>How can I launch a non-PreCQ trybot for my change?</a></li><li class="goog-toc"><a href="#TOC-What-repositories-are-currently-managed-by-the-Commit-Queue-"><strong>9 </strong>What repositories are currently managed by the Commit Queue?</a></li><li class="goog-toc"><a href="#TOC-How-do-I-watch-what-the-Commit-Queue-is-currently-doing-"><strong>10 </strong>How do I watch what the Commit Queue is currently doing?</a></li><li class="goog-toc"><a href="#TOC-The-Commit-Queue-didn-t-like-my-change-what-can-I-do-"><strong>11 </strong>The Commit Queue didn't like my change, what can I do?</a></li><li class="goog-toc"><a href="#TOC-Will-the-Commit-Queue-commit-my-CL-when-the-Tree-is-Closed-"><strong>12 </strong>Will the Commit Queue commit my CL when the Tree is Closed?</a></li><li class="goog-toc"><a href="#TOC-How-can-I-bypass-the-Commit-Queue-"><strong>13 </strong>How can I bypass the Commit Queue?</a></li><li class="goog-toc"><a href="#TOC-Can-I-bypass-the-hardware-test-step-"><strong>14 </strong>Can I bypass the hardware test step?</a></li><li class="goog-toc"><a href="#TOC-Does-the-Commit-Queue-ever-pick-up-changes-that-haven-t-been-verified-by-PreCQ-trybots-"><strong>15 </strong>Does the Commit Queue ever pick up changes that haven't been verified by (PreCQ) trybots?</a></li><li class="goog-toc"><a href="#TOC-What-should-I-do-if-the-Commit-Queue-itself-is-down-"><strong>16 </strong>What should I do if the Commit Queue itself is down?</a></li><li class="goog-toc"><a href="#TOC-More-Questions"><strong>17 </strong>More Questions</a></li></ol></div></div></div></div>
<p>This page describes the Gerrit Commit Queue for Chromium OS (also known by the code name "Paladin")</p>
<p>The goal of the Commit Queue is to vet changes (build and test them on multiple platforms) and push them on behalf of developers.  It is responsible for not only committing changes, but also doing the Portage voodoo (uprevving ebuilds) necessary for other developers to see each others changes.</p>
<h3><a name="TOC-How-do-I-submit-my-change-to-the-Commit-Queue-"></a>How do I submit my change to the Commit Queue?</h3><p>
If your change has been reviewed and marked as +2 ("Looks good to me, approved"), you can submit your change by selecting the Reply button and marking your change as both "Verified" and "Ready".
</p><h3><a name="TOC-How-does-the-Commit-Queue-verify-changes-"></a>How does the Commit Queue verify changes?</h3>
<p>We first launch trybots to sanity check your change. This step is called PreCQ (Pre-Commit Queue). The trybots will compile your change, build images, and run unit and VM (virtual machine) tests on major platforms or <a href="http://www.chromium.org/chromium-os/build/bypassing-tests-on-a-per-project-basis">platforms configured for the corresponding repositories/directories</a> . This check only includes your change and related changes, and takes about 40 minutes.</p>
<p>The commit queue runs approximately once an hour, and picks up all changes that have been fully verified by PreCQ. It builds a full image (on a set of representative platforms) and runs tests on both virtual machines and real hardware. Each commit queue run takes approximately an hour.</p>
<h3><a name="TOC-How-does-the-commit-queue-decide-when-to-pick-up-a-change-"></a>How does the commit queue decide when to pick up a change?</h3>
<p>The Commit Queue only picks up changes that have been approved, verified and marked ready, and only if all their dependencies are similarly approved, verified, and marked ready (see the "How do I specify the dependencies of a change?" section below).</p><ul><li><span style="font-size:10pt">If the tree is <span style="background-color:rgb(0,255,0)">open</span>, the Commit Queue will start a normal run and pick up all eligible changes.</span></li><li><span style="font-size:10pt;background-color:transparent">If the tree is </span><span style="font-size:10pt;background-color:rgb(255,255,0)">throttled</span><span style="font-size:10pt;background-color:transparent">, the Commit Queue will pick up CQ+2 changes if they are available, or pick up a set of changes to test. In the latter case, the changes will not be rejected even if the build fails because the tree is considered not sane (since it is throttled). After a failed run, the subsequent run will attempt with a smaller set of changes.</span></li><li><span style="font-size:10pt">If the tree is <font style="background-color:rgb(255,0,0)">closed</font> or <span style="background-color:rgb(180,167,214)">under maintenance</span>, CQ will not pick up any changes.</span></li></ul><h3><a name="TOC-Why-wasn-t-my-change-picked-up-by-Commit-Queue-"></a>Why wasn't my change picked up by Commit Queue?</h3><p>If your change was picked up by the Commit Queue when the tree was <span style="background-color:rgb(255,255,0)">throttled</span> and the run failed, the Commit Queue would attempt to progress by selecting a smaller set of changes in the next run. As the results, your CL may be skipped for the subsequent run. The Commit Queue will continue reducing the number of CLs until a run completes successfully. <u>You do not need to do anything because the Commit Queue will pick up your change for sure once the tree is open or it completes a successful run.</u> If you still suspect there was some wrongdoing of the Commit Queue, please contact the build deputy to triage the issue.</p><h3><a name="TOC-When-should-I-mark-my-changes-as-Trybot-Ready-"></a>When should I mark my changes as Trybot Ready?</h3><p><span style="font-size:10pt;background-color:transparent">The trybot ready flag lets committers kick off trybots before your change is approved. Select the "Trybot Ready" flag in Gerrit and it'll kick off a trybot. The status will be reported back to Gerrit. If you later mark the same patch as "Commit Ready", the trybot will already be complete, so your CL may be committed up to an hour faster.</span></p><p><span style="font-size:10pt;background-color:transparent">You don't have to use the Trybot Ready flag -- if you don't, the CQ will kick off trybots anyway when your CL is approved.</span></p>
<h3><a name="TOC-Will-the-Commit-Queue-respect-dependent-changes-in-Gerrit-"></a>Will the Commit Queue respect dependent changes in Gerrit?</h3>
<p>Yes. This means that the Commit Queue will not try a change that depends on another until both it and the change it depends on are marked as ready for commit.</p>
<h3><a name="TOC-How-do-I-specify-the-dependencies-of-a-change-"></a>How do I specify the dependencies of a change?</h3>
<p>If you commit a stack of CLs to a branch locally, and upload them all together, Gerrit will already know about your dependencies and the commit queue will honor these dependencies.</p>
<p>If you want to specify a dependency on other CLs, you can specify a dependency on any CL in Gerrit by using CQ-DEPEND. Here's how it works:</p>
<ul>
<li>Specify dependencies in the last paragraph of your change, using CQ-DEPEND=CL:12345</li>
<li>You can specify multiple dependencies. Each dependency should be separated with a comma and a space. (E.g. CQ-DEPEND=CL:12345, CL:4321). You can also split dependencies into multiple CQ-DEPEND lines, if needed.</li>
<li>Internal dependencies should be prefixed with an asterisk. To depend on an internal change, use CL:*12345. To depend on an external change, use CL:12345.</li>
<li>Atomic transactions are supported. If a stack of changes need to go in atomically, the first change in the series should have a dependency on the last change in the series. This ensures that the Commit Queue will only push the whole group of CLs at once.</li>
</ul>
<p>Here's an example:</p>
<div class="sites-codeblock sites-codesnippet-block"><font face="courier new, monospace"><code>Add file to install to 9999 ebuild file.</code>
<br />
<br />
<code>BUG=chromium:99999</code><br />
<code>TEST=Tested with dependent CL's in trybot.</code><br />
<code>CQ-DEPEND=CL:12345, CL:*4321</code></font></div>
<h3><a name="TOC-How-can-I-launch-a-non-PreCQ-trybot-for-my-change-"></a>How can I launch a non-PreCQ trybot for my change?</h3>
<p><span style="font-size:10pt;background-color:transparent">If you want to test your change with non-PreCQ configs, see the </span><a href="http://goto.google.com/remote-trybot" style="font-size:10pt;background-color:transparent">remote trybot documentation</a><span style="font-size:10pt;background-color:transparent">.</span></p>
<h3><a name="TOC-What-repositories-are-currently-managed-by-the-Commit-Queue-"></a>What repositories are currently managed by the Commit Queue?</h3>
<p>All projects under chromiumos/* and chromeos/* in gerrit and gerrit-int respectively are managed by the commit queue.</p>
<h3><a name="TOC-How-do-I-watch-what-the-Commit-Queue-is-currently-doing-"></a>How do I watch what the Commit Queue is currently doing?</h3>
<p>In order to see what the Commit Queue is doing, you can view its current work on the <a href="http://build.chromium.org/" style="font-size:10pt">internal</a><span style="font-size:10pt"> </span><span style="font-size:10pt">and</span><span style="font-size:10pt"> </span><a href="http://build.chromium.org/" style="font-size:10pt">external</a><span style="font-size:10pt"> </span><span style="font-size:10pt">waterfalls.</span></p>
<ul><li>The <b>CommitQueueSync</b> step shows what builds the current Commit Queue build is testing </li>
<li>The <b>CommitQueueCompletion</b> step is responsible for submitting changes when they pass these tests</li></ul>
<h3><a name="TOC-The-Commit-Queue-didn-t-like-my-change-what-can-I-do-"></a>The Commit Queue didn't like my change, what can I do?</h3>
<p>There are three places where the commit queue can fail to commit your change.</p>
<ol><li>When <b>applying</b> a change: If your change conflicts with another change, your change will be rejected and you will need to rebase your change locally and resolve the conflicts.</li>
<li>When <b>verifying</b> a change: This is the standard failure where either we fail to build or test your change. Please read the error message and verify that the failure was not caused by your change. If your change was not at fault, you may mark it as Ready again.</li>
<li>When <b>submitting </b>a change: This can happen if either you already submitted your change while the commit queue was working or someone else bypassed the commit queue and submitted a change that conflicts with your change. If the latter, follow (1).</li>
</ol>
<p>If you need more information about a build failure, you can look at the commit-queue builders on the <a href="http://build.chromium.org/">internal</a> and <a href="http://build.chromium.org/">external</a> waterfalls and find the build run which has your CL in the <b>CommitQueueSync </b>stage.  These are the same logs other builders would have so delve accordingly.  The Commit Queue also sends a snippet of the build log and a link to help you debug the issue.</p>
<h3><a name="TOC-Will-the-Commit-Queue-commit-my-CL-when-the-Tree-is-Closed-"></a>Will the Commit Queue commit my CL when the Tree is Closed?</h3>
<p>No. However, it will commit any CLs it is processing if the tree is Throttled.</p><p><span style="font-size:10pt;background-color:transparent">e.g. Tree is open, CQ picks up your CL, tree goes to throttled, CQ finishes testing &amp; merges your CL.</span></p>
<h3><a name="TOC-How-can-I-bypass-the-Commit-Queue-"></a>How can I bypass the Commit Queue?</h3>
<p>Please do not bypass the commit queue unless it is necessary. That said, to bypass the commit queue, hit the submit patch button and select "Yes, I'm a chump".</p>
<h3><a name="TOC-Can-I-bypass-the-hardware-test-step-"></a>Can I bypass the hardware test step?</h3>
<p>Each repository has a <a href="https://www.chromium.org/chromium-os/build/bypassing-tests-on-a-per-project-basis">COMMIT-QUEUE.ini file</a>. You can control what steps to skip <a href="https://www.chromium.org/chromium-os/build/bypassing-tests-on-a-per-project-basis">using this file</a>.
</p>
<h3><a name="TOC-Does-the-Commit-Queue-ever-pick-up-changes-that-haven-t-been-verified-by-PreCQ-trybots-"></a>Does the Commit Queue ever pick up changes that haven't been verified by (PreCQ) trybots?</h3>
<p>If the Commit Queue finds that there are no changes that have been verified by trybots, the commit queue will start picking up unverified changes. This should only happen either at off-hours (when few developers are submitting changes) or when the trybot waterfall is having issues.</p>
<h3><a name="TOC-What-should-I-do-if-the-Commit-Queue-itself-is-down-"></a>What should I do if the Commit Queue itself is down?</h3>
<p>If the Commit Queue is down or consistently broken, please close the tree and contact a Build Sheriff or trooper immediately (chrome-troopers [at] google.com).</p>
<h3><a name="TOC-More-Questions"></a>More Questions</h3>
<p>Contact: chromium-os-dev@chromium.org</p></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages" class="sites-canvas-bottom-panel-wrapper" style="">
<div class="sites-subpages">
            Subpages <span id="subpages-total-number">(1):</span>
<span>
<a href="/developers/tree-sheriffs/sheriff-details-chromium-os/commit-queue-overview/bypassing-tests-on-a-per-project-basis" dir="ltr">Bypassing tests on a per-project basis</a>
</span>
</div>
</div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/developers/tree-sheriffs/sheriff-details-chromium-os/commit-queue-overview">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/recentChanges">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9RbkE_KPqrOdCwAZa1viLMReBBVLUtBdSK_37wBJXLqiV1cS7Sbe_B_wZsfM-prpU701YCoVW9ASZ9YDLsxQcuWRG6u56S0hH1sFacqwVIkZ1Ngqy/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
