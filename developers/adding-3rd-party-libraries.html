<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="../_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/adding-3rd-party-libraries","deleted":false,"title":"Adding third_party Libraries","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/developers/adding-3rd-party-libraries\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers","parentWuid":"wuid:gx:982466121d9f2cd","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Adding third_party Libraries","locale":"en","wuid":"wuid:gx:30e4f2632bf81b4c","revision":55,"path":"/developers/adding-3rd-party-libraries","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"adding-3rd-party-libraries","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Adding third_party Libraries - The Chromium Projects" />
<meta itemprop="name" content="Adding third_party Libraries - The Chromium Projects" />
<meta property="og:title" content="Adding third_party Libraries - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1441580320000/system/app/css/overlay.css%3Fcb=beigeandblueundefineda100%2525%2525150goog-ws-leftthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Adding third_party Libraries - The Chromium Projects</title>
<meta itemprop="image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<meta property="og:image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="../index.html" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="../_/rsrc/1438879449147/config/customLogo.gif%3Frevision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="../index.html" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://www.chromium.org/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../chromium-projects.html" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../Home.1.html" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../chromium-os.1.html" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../for-testers/bug-reporting-guidelines.html" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="discussion-groups.html" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../developers.1.html" dir="ltr">For Developers</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Adding third_party Libraries</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><h2><a name="TOC-1"></a><span style="font-size:10pt;font-weight:normal"><div><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed sites-embed-full-width" style="width:100%;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Getting-the-Code"><strong>1 </strong>Getting the Code</a></li><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Put-the-Code-in-the-right-third_party"><strong>2 </strong>Put the Code in (the right) third_party</a></li><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Document-the-Code-s-Context"><strong>3 </strong>Document the Code's Context</a><ol class="goog-toc"><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Add-OWNERS"><strong>3.1 </strong>Add OWNERS</a></li><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Add-a-README.chromium"><strong>3.2 </strong>Add a README.chromium</a></li><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Add-a-LICENSE-file-and-run-related-checks"><strong>3.3 </strong>Add a LICENSE file and run related checks</a></li><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Modify-DEPS"><strong>3.4 </strong>Modify DEPS</a></li></ol></li><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Setting-up-ignore"><strong>4 </strong>Setting up ignore</a></li><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Get-a-Review"><strong>5 </strong>Get a Review</a></li><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Ask-the-infrastructure-team-to-add-a-git-mirror-for-the-dependency-or-configure-the-git-repo-if-using-googlesource.com-"><strong>6 </strong>Ask the infrastructure team to add a git mirror for the dependency (or configure the git repo, if using googlesource.com)</a></li><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Odds-n-Ends"><strong>7 </strong>Odds n' Ends</a><ol class="goog-toc"><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Handling-licenses_check-checklicenses.py-failures"><strong>7.1 </strong>Handling licenses_check (checklicenses.py) failures</a></li><li class="goog-toc"><a href="adding-3rd-party-libraries.html#TOC-Handling-webview_licenses.py-failures"><strong>7.2 </strong>Handling webview_licenses.py failures</a></li></ol></li></ol></div></div></div></div></div><br /></span></h2>Using third party code can save time and is consistent with our values - no need to reinvent the wheel! We put all code that isn't written by Chromium developers into <a href="http://src.chromium.org/viewvc/chrome/trunk/src/third_party/" style="color:rgb(85,26,139)">src/third_party</a> (even if you end up modifying just a few functions). We do this to make it easy to track license compliance, security patches, and supply the right credit and attributions. It also makes it a lot easier for other projects that embed our code to track what is Chromium licensed and what is covered by other licenses. <div><h2><a name="TOC-Getting-the-Code"></a>Getting the Code</h2><span style="font-size:10pt">When you find code you want to use, get it. This often means downloading: from Sourceforge, from the hosting feature of Google Code, or from somewhere else. Sometimes it can mean negotiating a license with another company and receiving the code another way. Please describe the source in the </span>README.chromium file, described below.</div><div>For security reasons, please retrieve the code as securely as you can, using HTTPS and GPG signatures if available.</div><div><span style="font-size:10pt">If retrieving a tarball, please do not check the tarball itself into the tree, but do list the source and the SHA-512 hash (for verification) in the </span><span style="font-size:10pt">README.chromium and Change List. The SHA-512 hash can be computed via the <code>shasum</code> (</span><span style="color:rgb(0,96,0);font-family:monospace">sha512sum</span><span style="font-size:10pt">) or <code>openssl</code> utilities.</span></div><div><span style="font-size:10pt">If retrieving from a git repository, please list the SHA-512 hash.</span></div><div><h2><a name="TOC-Put-the-Code-in-the-right-third_party"></a>Put the Code in (the right)<font face="courier new, monospace"> third_party</font></h2>By default, all code should be checked into <a href="http://src.chromium.org/viewvc/chrome/trunk/src/third_party/" style="color:rgb(85,26,139)">src/third_party</a>. <span style="font-size:10pt">It is OK to have third_party subdirectories that are not top-level (e.g. src/net/third_party), but don't add more third_party directories than necessary.</span><h2><a name="TOC-Document-the-Code-s-Context"></a>Document the Code's Context</h2>
<h3><a name="TOC-Add-OWNERS"></a><span style="background-color:rgb(255,255,255)">Add OWNERS</span></h3><div><span style="background-color:rgb(255,255,255)">Your OWNERS file must include 2 Chromium developer accounts. This will ensure accountability for maintenance of the code over time. </span><span style="color:rgb(34,34,34);font-family:arial,sans-serif;font-size:10pt">While there isn't always an ideal or obvious set of people that should go in OWNERS, this is critical for first-line triage of any issues that crop up in the code.</span></div><div><br /></div><div><span style="background-color:rgb(255,255,255)">As an OWNER, you're expected to:</span></div><div><ul><li><span style="color:rgb(34,34,34);font-family:arial,sans-serif;font-size:10pt">Remove the dependency when/if it is no longer needed</span></li><li><span style="font-size:10pt;color:rgb(34,34,34);font-family:arial,sans-serif">Update the dependency when </span><span style="font-size:10pt;background-color:rgb(255,255,204);color:rgb(34,34,34);font-family:arial,sans-serif">a</span><span style="font-size:10pt;color:rgb(34,34,34);font-family:arial,sans-serif"> security or stability bug is fixed upstream</span></li><li><span style="color:rgb(34,34,34);font-family:arial,sans-serif;font-size:10pt">Help ensure the Chrome feature that uses the dependency continues to </span><span style="color:rgb(34,34,34);font-family:arial,sans-serif;font-size:10pt">use the dependency in the best way, as the feature and the dependency </span><span style="color:rgb(34,34,34);font-family:arial,sans-serif;font-size:10pt">change over time.</span></li></ul></div><div><h3><a name="TOC-Add-a-README.chromium"></a>Add a README.chromium</h3><span style="font-size:10pt">You need a README.chromium file with information about the project from which you're re-using code. See </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/third_party/README.chromium.template" style="font-size:10pt" target="_blank">README.chromium.template</a><span style="font-size:10pt"> for a list of fields to include. A presubmit check will check this has the right format.</span><br /><h3><a name="TOC-Add-a-LICENSE-file-and-run-related-checks"></a>Add a LICENSE file and run related checks</h3><span style="font-size:10pt">You need a LICENSE file. Example: </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/third_party/libjpeg/LICENSE?revision=42288&amp;view=markup" style="font-size:10pt">third_party/libjpeg/LICENSE</a>.</div><div><span style="font-size:10pt"><br /></span></div><div><span style="font-size:10pt">Run the following scripts:</span></div><div><ul><li><span style="font-size:10pt"><font face="courier new, monospace">src/tools/licenses.py scan</font><font face="arial, sans-serif"> - This will complain about incomplete or missing data for third_party checkins. We use 'licenses.py credits' to generate the about:credits page in Google Chrome builds.</font></span></li><li><span style="font-size:10pt"><font face="courier new, monospace">src/tools/checklicenses/checklicenses.py</font><font face="arial, sans-serif"> - See below for info how to handle possible failures.</font></span></li><li><span style="font-size:10pt"><font face="arial, sans-serif">If you are ad</font>ding code that will be present in the content layer, please make sure that the license used is compliant with Android tree requirements because this code will also be used in Android WebView. You need to run <font face="courier new, monospace">src/android_webview/tools/webview_licenses.py scan</font></span></li></ul><div><font face="arial, sans-serif">See the "Odds n Ends" Section below if you run into any failures running these.</font></div><div><h3><a name="TOC-Modify-DEPS"></a>Modify DEPS</h3><div><span style="font-size:10pt">If the code is applicable and will be compiled on </span><b style="font-size:10pt">all</b><span style="font-size:10pt"> supported Chromium platforms (Windows, Mac, Linux, ChromeOS, iOS, Android), check it in to </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/third_party/" style="font-size:10pt">src/third_party</a>. <br /><span style="font-size:10pt"><br /></span></div><div><span style="font-size:10pt">If the code is only applicable to certain platforms, check it in to </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/third_party/" style="font-size:10pt">src/third_party</a><span style="font-size:10pt"> and add an entry to the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/DEPS" style="font-size:10pt">DEPS</a><span style="font-size:10pt"> file that causes the code to be checked out from </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/third_party/" style="font-size:10pt">src/third_party</a><span style="font-size:10pt"> into src/third_party by gclient.</span></div><div><br /><span style="font-size:10pt"><i>Explanation: Checking it into src/third_party causes all developers to need to check out your code. This wastes disk space cause syncing to take longer for developers that don't need your code. When all platforms really do need the code, checking it in to src/third_party allows some slight improvements over DEPS.</i></span></div></div><div><span style="font-size:10pt"><i><br /></i></span></div><div>As for specifying the path where the library is fetched, a path like <font face="courier new, monospace">src/third_party/&lt;project_name&gt;/<b>src</b></font> is highly recommended so that you can put the file like OWNERS or README.chromium at <font face="courier new, monospace">third_party/&lt;project_name&gt;</font>. If you have a wrong path in DEPS and want to change the path of the existing library in DEPS, please ask the infrastructure team before committing the change.</div><h2><a name="TOC-Setting-up-ignore"></a>Setting up ignore</h2><div><span style="font-size:10pt">If your code is synced via DEPS, you should add the new directory to <font face="courier new, monospace">.gitignore</font>.</span></div><div><span style="font-size:10pt"><br /></span></div><div><span style="font-size:10pt">You also need to set the <font face="courier new, monospace">svn:ignore</font> property on the folder.  This requires an svn checkout and isn't reviewable. It's best to use a clean checkout to avoid accidentally pulling in other changes.</span></div><div><span style="font-size:10pt"><br /></span></div><div><span style="font-size:10pt">Here is a recipe for adding a dep that will get checked out into third_party/jarjar:</span></div></div><div><ol><ol><li>Do a bare checkout of the folder above.  <code>svn checkout --depth empty svn://svn.chromium.org/chrome/trunk/src/third_party</code></li><li>Edit the svn properties.  <code>cd third_party; svn propedit svn:ignore .</code> (this list is usually sorted).  If the path is like <font face="courier new, monospace">third_party/&lt;project_name&gt;/src</font>, create a new directory and set svn:ignore there. <i style="font-weight:bold">Important</i>: the <font face="courier new, monospace">svn:ignore</font> property is set on the parent directory of the directory that you want to ignore and contains a list of children to ignore. Don't set it on the directory that you want to ignore itself.</li><li><span style="font-size:10pt">Double check with svn status and svn diff that you are only changing props.</span></li><li>Commit.  <code>svn commit</code> (this will launch editor to create your message, and then commit directly without review)</li></ol></ol></div><div><div><h2 style="background-color:transparent"><a name="TOC-Get-a-Review"></a>Get a Review</h2><div><span style="font-size:10pt">All third party additions and substantive changes like re-licensing need the following sign-offs. Some of these are accessible to Googlers only. Non-Googlers can email one of the people in third_party/OWNERS for help.</span></div><div><ul><li><span style="font-size:10pt;background-color:transparent">Chrome Eng Review. Googlers should see <a href="http://go/chrome-eng-review">go/chrome-eng-review</a></span></li><li><span style="font-size:10pt;background-color:transparent">open-source-third-party-reviews@google</span><span style="font-size:10pt">.com</span><span style="font-size:10pt"> (</span><span style="font-size:10pt;background-color:transparent">ping the list with relevant details and a link to the CL</span><span style="font-size:10pt;background-color:transparent">).</span></li><li><span style="font-size:10pt">security@chromium.org (</span><span style="font-size:10pt;background-color:transparent">ping the list with relevant details and a link to the CL</span><span style="font-size:10pt;background-color:transparent">).</span></li></ul></div><div><span style="font-size:10pt">Third party code is a hot spot for security vulnerabilities. When adding a new package that could potentially carry security risk, make sure to highlight risk to security@chromium.org. You may be asked to add a README.security or, in dangerous cases, README.SECURITY.URGENTLY file. When you update your code, be mindful of security-related mailing lists for the project and relevant CVE to update your package.</span></div></div><div><span style="background-color:rgb(255,255,255)"><br />Subsequent changes don't require third-part</span>y-owners approval; you can modify the code as much as you want.</div><h2><a name="TOC-Ask-the-infrastructure-team-to-add-a-git-mirror-for-the-dependency-or-configure-the-git-repo-if-using-googlesource.com-"></a>Ask the infrastructure team to add a git mirror for the dependency (or configure the git repo, if using googlesource.com)</h2><div><span style="font-size:10pt">Before committing the DEPS, you need to ask the infra team to create a git mirror for your dependency. <a href="https://code.google.com/p/chromium/issues/entry?template=Build%20Infrastructure" target="_blank">Create a ticket</a> for infra and ask the infra team.</span></div><div><span style="font-size:10pt"><br /></span></div><div><font size="2">If you are using a git repo from googlesource.com then you must ensure that the </font>repository<font size="2"> is configured to give the build bots unlimited quota, or else the builders will fail to checkout with an "Over Quota" error. </font><a href="https://code.google.com/p/chromium/issues/entry?template=Build%20Infrastructure" style="font-size:10pt;background-color:transparent" target="_blank">Create a ticket</a><span style="font-size:10pt;background-color:transparent"> </span><span style="font-size:10pt;background-color:transparent">for infra and ask the infra team what needs to be done. Note that you'll need unlimited quota for at least two role accounts. See the quota status of <font face="courier new, monospace">boringssl</font> as an example.</span></div><div><h2><a name="TOC-Odds-n-Ends"></a><span style="background-color:transparent;font-family:arial,sans-serif"><font size="5">Odds n' Ends</font></span></h2></div><div style="background-color:transparent"><h3><a name="TOC-Handling-licenses_check-checklicenses.py-failures"></a><span style="font-size:14pt;font-family:Arial;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Handling licenses_check (checklicenses.py) failures</span></h3><span style="font-size:10pt;font-family:Arial;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">This is needed for Issue <a href="http://code.google.com/p/chromium/issues/detail?id=28291">28291</a>: </span><span style="background-color:transparent;font-size:10pt">Pass the Ubuntu license check script:</span></div><div><font face="Arial" style="background-color:transparent"><span style="white-space:pre-wrap"><br /></span></font><div dir="ltr" style="background-color:transparent"><table style="border-top-style:none;border-right-style:none;border-bottom-style:none;border-left-style:none;border-width:initial;border-color:initial;border-collapse:collapse"><colgroup><col width="203" /><col width="420" /></colgroup><tbody><tr style="height:0px"><td style="border-top-width:1px;border-right-width:1px;border-bottom-width:1px;border-left-width:1px;border-top-style:dotted;border-right-style:dotted;border-bottom-style:dotted;border-left-style:dotted;border-top-color:rgb(170,170,170);border-right-color:rgb(170,170,170);border-bottom-color:rgb(170,170,170);border-left-color:rgb(170,170,170);padding-top:7px;padding-right:7px;padding-bottom:7px;padding-left:7px"><span style="font-size:10pt;font-family:Arial;font-weight:bold;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"> If the failure looks like ...</span></td><td style="border-top-width:1px;border-right-width:1px;border-bottom-width:1px;border-left-width:1px;border-top-style:dotted;border-right-style:dotted;border-bottom-style:dotted;border-left-style:dotted;border-top-color:rgb(170,170,170);border-right-color:rgb(170,170,170);border-bottom-color:rgb(170,170,170);border-left-color:rgb(170,170,170);padding-top:7px;padding-right:7px;padding-bottom:7px;padding-left:7px"><span style="font-size:10pt;font-family:Arial;font-weight:bold;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"> ... the right action is to ...</span></td></tr><tr style="height:0px"><td style="border-top-width:1px;border-right-width:1px;border-bottom-width:1px;border-left-width:1px;border-top-style:dotted;border-right-style:dotted;border-bottom-style:dotted;border-left-style:dotted;border-top-color:rgb(170,170,170);border-right-color:rgb(170,170,170);border-bottom-color:rgb(170,170,170);border-left-color:rgb(170,170,170);padding-top:7px;padding-right:7px;padding-bottom:7px;padding-left:7px"><span style="font-size:10pt;font-family:Arial;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"> 'filename' has non-whitelisted license 'UNKNOWN'</span></td><td style="border-top-width:1px;border-right-width:1px;border-bottom-width:1px;border-left-width:1px;border-top-style:dotted;border-right-style:dotted;border-bottom-style:dotted;border-left-style:dotted;border-top-color:rgb(170,170,170);border-right-color:rgb(170,170,170);border-bottom-color:rgb(170,170,170);border-left-color:rgb(170,170,170);padding-top:7px;padding-right:7px;padding-bottom:7px;padding-left:7px"><span style="font-size:10pt;font-family:Arial;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Ideally make the licensecheck.pl script recognize the license of that file.
Often this requires <b>adding a license header</b>. Does it have license header? If it's third party code, ask the upstream project to make sure all their files have license headers.
If the license header is there but is not recognized, we should try to patch licensecheck.pl.
If in doubt please contact </span><span style="font-size:10pt;font-family:Arial;color:rgb(0,102,204);text-decoration:none;vertical-align:baseline;white-space:pre-wrap">phajdan.jr@chromium.org</span></td></tr><tr style="height:0px"><td style="border-top-width:1px;border-right-width:1px;border-bottom-width:1px;border-left-width:1px;border-top-style:dotted;border-right-style:dotted;border-bottom-style:dotted;border-left-style:dotted;border-top-color:rgb(170,170,170);border-right-color:rgb(170,170,170);border-bottom-color:rgb(170,170,170);border-left-color:rgb(170,170,170);padding-top:7px;padding-right:7px;padding-bottom:7px;padding-left:7px"><span style="font-size:10pt;font-family:Arial;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"> 'filename' has non-whitelisted license 'X' and X is BSD-compatible</span></td><td style="border-top-width:1px;border-right-width:1px;border-bottom-width:1px;border-left-width:1px;border-top-style:dotted;border-right-style:dotted;border-bottom-style:dotted;border-left-style:dotted;border-top-color:rgb(170,170,170);border-right-color:rgb(170,170,170);border-bottom-color:rgb(170,170,170);border-left-color:rgb(170,170,170);padding-top:7px;padding-right:7px;padding-bottom:7px;padding-left:7px"><span style="font-size:10pt;font-family:Arial;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Add the license X to WHITELISTED_LICENSES in checklicenses.py . Make sure to respect the OWNERS of that file. You must get an approval before landing. CLs violating this requirement may be reverted.</span></td></tr><tr style="height:0px"><td style="border-top-width:1px;border-right-width:1px;border-bottom-width:1px;border-left-width:1px;border-top-style:dotted;border-right-style:dotted;border-bottom-style:dotted;border-left-style:dotted;border-top-color:rgb(170,170,170);border-right-color:rgb(170,170,170);border-bottom-color:rgb(170,170,170);border-left-color:rgb(170,170,170);padding-top:7px;padding-right:7px;padding-bottom:7px;padding-left:7px"><span style="font-size:10pt;font-family:Arial;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"> 'filename' has non-whitelisted license 'X' and X is not BSD-compatible (i.e. GPL)</span></td><td style="border-top-width:1px;border-right-width:1px;border-bottom-width:1px;border-left-width:1px;border-top-style:dotted;border-right-style:dotted;border-bottom-style:dotted;border-left-style:dotted;border-top-color:rgb(170,170,170);border-right-color:rgb(170,170,170);border-bottom-color:rgb(170,170,170);border-left-color:rgb(170,170,170);padding-top:7px;padding-right:7px;padding-bottom:7px;padding-left:7px"><span style="font-size:10pt;font-family:Arial;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Do you really need to add those files? Chromium is BSD-licensed so the resulting binaries can't use GPL code. Ideally we just shouldn't have those files at all in the tree. If in doubt, please ask </span><a href="mailto:mal@chromium.org"><span style="font-size:10pt;font-family:Arial;color:rgb(0,0,153);vertical-align:baseline;white-space:pre-wrap">mal@chromium.org</span></a></td></tr></tbody></table><br /></div><div dir="ltr" style="background-color:transparent"><h3><a name="TOC-Handling-webview_licenses.py-failures"></a><span style="font-size:14pt;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Handling webview_licenses.py failures</span></h3></div><div dir="ltr" style="background-color:transparent"><span style="font-size:10pt;font-family:Arial;font-weight:bold;vertical-align:baseline;white-space:pre-wrap"><table border="1" bordercolor="#888" cellspacing="0" style="border-collapse:collapse;border-color:rgb(136,136,136);border-width:1px"><tbody><tr><td style="width:196px;height:59px"> If the failure looks like ...</td><td style="width:418px;height:59px">  ... the right action is to ...</td></tr><tr><td style="width:196px;height:15px"><span style="font-weight:normal">Missing license file</span></td><td style="width:418px;height:15px"><span style="font-weight:normal">Make sure that the license file is present. It should be called 'LICENSE', or otherwise README.chromium file must point to it explicitly.</span></td></tr><tr><td style="width:196px;height:15px"><span style="font-weight:normal">The following files contain a third-party license but are not in a listed third-party directory...</span></td><td style="width:418px;height:15px"><span style="font-weight:normal">Check if it's a false positive (e.g. 'copyright' word used in a string literal), if so, update src/android_webview/tools/third_party_files_whitelist.txt file. Otherwise, please move the code into third_party.</span></td></tr></tbody></table></span></div><div><br /></div></div></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/developers/adding-3rd-party-libraries">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
