<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="../../_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/coding-style","deleted":false,"title":"Coding Style","dir":"ltr"},{"path":"/developers/coding-style/cpp-dos-and-donts","deleted":false,"title":"C++ Dos and Don\u0027ts","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/developers/coding-style/cpp-dos-and-donts\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers/coding-style","parentWuid":"wuid:gx:17ee0e09e9aefe06","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"C++ Dos and Don\u0027ts","locale":"en","wuid":"wuid:gx:7602cc623101b66d","revision":20,"path":"/developers/coding-style/cpp-dos-and-donts","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"cpp-dos-and-donts","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="C++ Dos and Don'ts - The Chromium Projects" />
<meta itemprop="name" content="C++ Dos and Don'ts - The Chromium Projects" />
<meta property="og:title" content="C++ Dos and Don'ts - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../../_/rsrc/1441580320000/system/app/css/overlay.css%3Fcb=beigeandblueundefineda100%2525%2525150goog-ws-leftthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../../_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>C++ Dos and Don'ts - The Chromium Projects</title>
<meta itemprop="image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<meta property="og:image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="../../index.html" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="../../_/rsrc/1438879449147/config/customLogo.gif%3Frevision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="../../index.html" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://www.chromium.org/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../chromium-projects.html" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../Home.1.html" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../chromium-os.1.html" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../for-testers/bug-reporting-guidelines.html" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../discussion-groups.html" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../../developers.1.html" dir="ltr">For Developers</A>‎ &gt; ‎<A href="../coding-style.1.html" dir="ltr">Coding Style</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">C++ Dos and Don'ts</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div class="sites-embed-align-right-wrapping-on"><div class="sites-embed-border-off sites-embed" style="width:250px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-A-NOTE-ABOUT-USAGE:-Unlike-the-style-guide-the-content-of-this-page-is-advisory-not-required.-You-can-always-deviate-from-something-on-this-page-if-the-relevant-author-reviewer-OWNERS-agree-that-another-course-is-better."><strong>1 </strong>A NOTE ABOUT USAGE: Unlike the style guide, the content of this page is advisory, not required.  You can always deviate from something on this page, if the relevant author/reviewer/OWNERS agree that another course is better.</a></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-Minimize-Code-in-Headers"><strong>2 </strong>Minimize Code in Headers</a><ol class="goog-toc"><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-Don-t-include-unneeded-headers."><strong>2.1 </strong>Don't include unneeded headers.</a></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-Forward-declare-classes-instead-of-including-headers."><strong>2.2 </strong>Forward declare classes instead of including headers.</a><ol class="goog-toc"><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-Exceptions"><strong>2.2.1 </strong>Exceptions</a></li></ol></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-Move-inner-classes-into-the-implementation."><strong>2.3 </strong>Move inner classes into the implementation.</a></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-Move-static-implementation-details-to-the-implementation-whenever-possible."><strong>2.4 </strong>Move static implementation details to the implementation whenever possible.</a></li></ol></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-Stop-inlining-code-in-headers"><strong>3 </strong>Stop inlining code in headers</a><ol class="goog-toc"><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-Stop-inlining-complex-methods."><strong>3.1 </strong>Stop inlining complex methods.</a></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-If-the-method-has-significant-implementation-there-s-also-a-good-chance-that-by-not-inlining-it-you-could-eliminate-some-includes."><strong>3.2 </strong>If the method has significant implementation, there's also a good chance that by not inlining it, you could eliminate some includes.</a></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-Stop-inlining-virtual-methods."><strong>3.3 </strong>Stop inlining virtual methods.</a></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-Stop-inlining-constructors-and-destructors."><strong>3.4 </strong>Stop inlining constructors and destructors.</a></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-When-you-CAN-inline-constructors-and-destructors."><strong>3.5 </strong>When you CAN inline constructors and destructors.</a></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-If-in-doubt-don-t-rely-on-these-sorts-of-exceptions.-Err-on-the-side-of-not-inlining."><strong>3.6 </strong>If in doubt, don't rely on these sorts of exceptions.  Err on the side of not inlining.</a></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-Be-careful-about-your-accessors."><strong>3.7 </strong>Be careful about your accessors.</a></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-What-about-code-outside-of-headers-"><strong>3.8 </strong>What about code outside of headers?</a></li></ol></li><li class="goog-toc"><a href="cpp-dos-and-donts.html#TOC-Static-variables"><strong>4 </strong>Static variables</a></li></ol></div></div></div></div><h2><a name="TOC-A-NOTE-ABOUT-USAGE:-Unlike-the-style-guide-the-content-of-this-page-is-advisory-not-required.-You-can-always-deviate-from-something-on-this-page-if-the-relevant-author-reviewer-OWNERS-agree-that-another-course-is-better."></a><font size="2">A NOTE ABOUT USAGE:<span style="font-weight:normal"> Unlike the style guide, the content of this page is advisory, not required.  You can always deviate from something on this page, if the relevant author/reviewer/OWNERS agree that another course is better.</span></font></h2><div><font size="2"><span style="font-weight:normal"><br /></span></font></div><h2><a name="TOC-Minimize-Code-in-Headers"></a>Minimize Code in Headers</h2><h3><a name="TOC-Don-t-include-unneeded-headers."></a><b>Don't include unneeded headers.</b></h3><font face="arial, sans-serif">If a file isn't using the symbols from some header, remove the header.  It turns out that this happens frequently in the Chromium codebase due to refactoring.</font><br /><h3><a name="TOC-Forward-declare-classes-instead-of-including-headers."></a><b><font face="arial, sans-serif">Forward declare classes instead of including headers.</font></b></h3><font face="arial, sans-serif"><span style="border-collapse:collapse">You can use forward declarations in all the following cases:</span></font><br /><br /><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">class Forward;<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">class ObjectUser {<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">  public:<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">    ObjectUser(Forward by_value);<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">    void OrByPointer(Forward* by_pointer);<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">    void OrByReference(const Forward&amp; by_reference);<br /></font></span></font><font color="#38761D">    Forward OrReturnValue();<br /><br /><font face="arial, sans-serif"><span style="border-collapse:collapse">  private:<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">    Forward* pointer_member_;<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">    scoped_ptr&lt;Forward&gt; most_smart_pointer_templates_;<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">    std::vector&lt;Forward&gt; some_stl_containers_;<br />    std::map&lt;std::string, Forward&gt; values_in_maps_;<br /></span></font>};</font></blockquote><div><br /></div><div>But you can't forward declare in other situations:</div><div><br /></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><font color="#990000">class WontCompile {</font></div><div><font color="#990000">  private:</font></div><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    // But you can't just:</font></span></font></div><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    Forward cant_full_member_;</font></span></font></div><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    std::deque&lt;Forward&gt; cant_some_other_stl_</font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">containers_;</font></span></font></div><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">};</font></span></font></div></blockquote><div><br /><font face="arial, sans-serif">If you can forward declare, generally do so (but see exceptions).</font></div><h4><a name="TOC-Exceptions"></a><span style="font-family:arial,sans-serif;font-size:10pt;background-color:transparent">Exceptions</span></h4><div><ul><li><span style="font-family:arial,sans-serif;font-size:10pt;background-color:transparent">If it would otherwise make sense to use a type as a member by-value, don't convert it to a pointer just to be able to forward-declare the type.</span></li><li><span style="background-color:transparent"><font face="arial, sans-serif">Don't forward declare symbols from the <code>v8</code> namespace; just <code>#include &lt;v8.h&gt;</code> (see discussion at CL <a href="https://codereview.chromium.org/168533002/">168533002</a>).</font></span></li></ul><span style="font-size:10pt;font-family:arial,sans-serif;background-color:transparent">See the </span><a href="http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml?showone=Forward_Declarations#Forward_Declarations" style="font-size:10pt;font-family:arial,sans-serif;background-color:transparent">detailed points in the Google style guide</a><span style="font-size:10pt;font-family:arial,sans-serif;background-color:transparent">.</span><br /><h3><a name="TOC-Move-inner-classes-into-the-implementation."></a>Move inner classes into the implementation.</h3><font face="arial, sans-serif">You can also forward declare classes inside a class:</font><br /><br /><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">class Whatever {<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">  public:<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">    /* ... */<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">  private:<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">    struct DataStruct;<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">    std::vector&lt;DataStruct&gt; data_;<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">};</font></span></font></blockquote><br /><font face="arial, sans-serif">Any headers that DataStruct needed no longer need to be included in the header </font><span style="border-collapse:collapse;font-family:arial,sans-serif">file and only need to be included in the implementation. This will </span><font face="arial, sans-serif">often let you pull </font><font face="arial, sans-serif">includes out of the header. For reference, the syntax in the </font><font face="arial, sans-serif">implementation file is:</font><br /><br /><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">struct Whatever::DataStruct {<br /></font></span></font><font face="arial, sans-serif" style="color:rgb(56,118,29)">};</font></blockquote><br /><font face="arial, sans-serif">Note that sometimes you can't do this because certain STL data structures </font><font face="arial, sans-serif">require the full definition at declaration time (most notably, std::deque and </font><font face="arial, sans-serif">the STL adapters that wrap it).</font><br /><h3><a name="TOC-Move-static-implementation-details-to-the-implementation-whenever-possible."></a>Move static implementation details to the implementation whenever possible.</h3><font face="arial, sans-serif">If you have the class in a header file:</font><br /><br /><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">#include "BigImplementationDetail.h"</font></span></font><font color="#990000"><br /><font face="arial, sans-serif"><span style="border-collapse:collapse">class PublicInterface {<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">  public:<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">    /* ... */<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">  private:<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">    static BigImplementationDetail detail_;<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">};</span></font></font></blockquote><br /><font face="arial, sans-serif">You should try to move that from a class member into the anonymous namespace in </font><font face="arial, sans-serif">the implementation file:</font><br /><br /><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">namespace {<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">BigImplementationDetail detail_;<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#38761D">}  // namespace</font></span></font></blockquote><br /><font face="arial, sans-serif">That way, people who don't use your interface don't need to know about or care </font><font face="arial, sans-serif">about BigImplementationDetail.</font><br /><br /><font face="arial, sans-serif">You can do this for helper functions, </font><font face="arial, sans-serif">too.  Note that if there is more than one class in the .cc file, it can aid clarity to define your file-scope helpers in an anonymous namespace just above the class that uses them, instead of at the top of the file.</font></div><div><font face="arial, sans-serif"><br /></font></div><div><font face="arial, sans-serif"><br /></font><h2><a name="TOC-Stop-inlining-code-in-headers"></a>Stop inlining code in headers</h2><font face="arial, sans-serif"><b>BACKGROUND</b>: Unless something is a cheap accessor or you truly need it to be inlined, don't ask for it to be inlined.  Remember that definitions inside class declarations </font><font face="arial, sans-serif">are implicitly requested to be inlined.</font><br /><br /><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">class InlinedMethods {<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">  InlinedMethods() {<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    // This constructor is equivalent to having the inline keyword in front<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    // of it!<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">  }</font></span></font><font color="#990000"><br /><font face="arial, sans-serif"><span style="border-collapse:collapse">  void Method() {<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">    // Same here!<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">  }<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">};</span></font></font></blockquote><div><h3><a name="TOC-Stop-inlining-complex-methods."></a>Stop inlining complex methods.</h3></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">class DontDoThis {</font></span></font></div><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">  public:</font></span></font></div><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    int ComputeSomething() {</font></span></font></div><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">      int sum =0;</font></span></font></div><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">      for (int i = 0; i &lt; limit; ++i) {</font></span></font></div><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">        sum += OtherMethod(i, ... );</font></span></font></div><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">      }</font></span></font></div><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">      return sum;</font></span></font></div><div><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    }</font></span></font></div><div><span style="font-family:arial,sans-serif;border-collapse:collapse"><font color="#990000">};</font></span></div></blockquote><div><br /><font face="arial, sans-serif">A request to inline is merely a suggestion to the compiler, and anything more than a few operations on integral data types will probably not be </font><font face="arial, sans-serif">inlined.  However, e</font><span style="font-size:10pt;border-collapse:collapse;font-family:arial,sans-serif">very file </span><font face="arial, sans-serif" style="font-size:10pt">that has to use an inline method will also emit a function version in the </font><font face="arial, sans-serif" style="font-size:10pt">resulting .o, even if the method was inlined. (This is to support function </font><font face="arial, sans-serif" style="font-size:10pt">pointer behavior properly.)  </font><font face="arial, sans-serif" style="font-size:10pt">Therefore, by requesting an inline in this case, you're likely </font><font face="arial, sans-serif" style="font-size:10pt">just adding crud to the .o files which the linker will need to do work to </font><font face="arial, sans-serif" style="font-size:10pt">resolve.</font></div><h3><a name="TOC-If-the-method-has-significant-implementation-there-s-also-a-good-chance-that-by-not-inlining-it-you-could-eliminate-some-includes."></a><span style="font-weight:normal;font-size:13px"><font face="arial, sans-serif"><span style="border-collapse:collapse">If the method has significant implementation, there's also a good chance </span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">that by not inlining it, you could eliminate some includes.</span></font></span></h3><div><h3><a name="TOC-Stop-inlining-virtual-methods."></a>Stop inlining virtual methods.</h3><font face="arial, sans-serif">You can't inline virtual methods under most circumstances, even if the method </font><font face="arial, sans-serif">would otherwise be inlined because it's very short. The compiler must do </font><font face="arial, sans-serif">runtime dispatch on any virtual method where the compiler doesn't know the </font><font face="arial, sans-serif">object's complete type, which rules out the majority of cases where you have an </font><font face="arial, sans-serif">object.</font></div><h3><a name="TOC-Stop-inlining-constructors-and-destructors."></a>Stop inlining constructors and destructors.</h3><font face="arial, sans-serif">Constructors and destructors are often significantly more complex than you </font><font face="arial, sans-serif">think they are, especially if your class has any non-POD data members. Many STL </font><font face="arial, sans-serif">classes have inlined constructors/destructors which may be copied into your </font><font face="arial, sans-serif">function body. Because the bodies of these appear to be empty, they often seem </font><font face="arial, sans-serif">like trivial functions that can safely be inlined.  Don't give in to this </font><font face="arial, sans-serif">temptation.  Define them in the implementation file unless you really <i>need</i> </font><font face="arial, sans-serif">them to be inlined.  Even if they do nothing now, someone could later add </font><font face="arial, sans-serif">something seemingly-trivial to the class and make your hundreds of inlined </font><font face="arial, sans-serif">destructors much more complex.</font><br /><br /><font face="arial, sans-serif">Even worse, inlining constructors/destructors prevents you from using </font><font face="arial, sans-serif">forward declared variables:</font><br /><br /><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">class Forward;<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">class WontCompile {<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">  public:<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    // THIS WON'T COMPILE, BUT IT WOULD HAVE IF WE PUT THESE IN THE<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    // IMPLEMENTATION FILE!<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    //<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    // The compiler needs the definition of Forward to call the<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    // vector/scoped_ptr ctors/dtors.<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    Example() { }<br /></font></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse"><font color="#990000">    ~Example() { }<br /></font></span></font><font color="#990000"><br /><font face="arial, sans-serif"><span style="border-collapse:collapse">  private:<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">    std::vector&lt;Forward&gt; examples_;<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">    scoped_ptr&lt;Forward&gt; super_example_;<br /></span></font><font face="arial, sans-serif"><span style="border-collapse:collapse">};</span></font></font></blockquote><br /><font face="arial, sans-serif">For more information, read Item 30 in Effective C++.</font><br /><h3><a name="TOC-When-you-CAN-inline-constructors-and-destructors."></a>When you CAN inline constructors and destructors.</h3><div>C++ has the concept of a <a href="http://publib.boulder.ibm.com/infocenter/macxhelp/v6v81/index.jsp?topic=/com.ibm.vacpp6m.doc/language/ref/clrc15cplr380.htm" target="_blank">trivial destructor</a>. If your class has only POD types and does not explicitly declare a destructor, then the compiler will not bother to generate or run a destructor.</div><div><br /></div></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><font color="#38761D">struct Data {</font></div><div><font color="#38761D">  Data() : count_one(0), count_two(0) {}</font></div></blockquote><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><font color="#38761D">  // No explicit destructor, thus no implicit destructor either.</font></blockquote><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><font color="#38761D"><br /></font></blockquote><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><font color="#38761D">  // The members must all be POD for this trick to work.</font></blockquote><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><font color="#38761D">  int count_one;</font></div><div><font color="#38761D">  int count_two;</font></div><div><font color="#38761D">};</font></div></blockquote><div><br /></div><div>In this example, since there is no inheritance and only a few POD members, the constructor will be only a few trivial integer operations, and thus OK to inline.</div><div><br /></div><div><span style="font-size:10pt">For abstract base classes with no members, it's safe to define the (trivial) destructor inline:</span></div><div><br /></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><font color="#38761D">class Interface {</font></div><div><font color="#38761D">  public:</font></div><div><span style="color:rgb(56,118,29)">   virtual ~Interface() {}</span></div><div><font color="#38761D">  </font></div><div><font color="#38761D">   virtual void DoSomething(int parameter) = 0;</font></div><div><font color="#38761D">   virtual int GetAValue() = 0;</font><span style="color:rgb(56,118,29)"> </span></div><div><font color="#38761D">};</font></div></blockquote><div style="color:rgb(56,118,29)"><font color="#38761D"><br /></font></div>But be careful; these two "interfaces" don't count:<div><br /></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><font color="#990000">class ClaimsToBeAnInterface : public base:RefCounted&lt;ClaimsToBeAnInterface&gt; {</font></div><div><font color="#990000"> public:</font></div><div><font color="#990000">  virtual ~ClaimsToBeAnInterface() { /* But derives from a template! */ }</font></div><div><font color="#990000">};</font></div><div><font color="#990000"><br /></font></div><div><font color="#990000">class HasARealMember {</font></div><div><font color="#990000"> public:</font></div><div><font color="#990000">  virtual void InterfaceMethod() = 0;</font></div><div><font color="#990000">  virtual ~HasARealMember() {}</font></div><div><font color="#990000"><br /></font></div><div><font color="#990000"> protected:<br />  vector&lt;string&gt; some_data_;</font></div><div><font color="#990000">};</font></div></blockquote><div><div><h3><a name="TOC-If-in-doubt-don-t-rely-on-these-sorts-of-exceptions.-Err-on-the-side-of-not-inlining."></a><span style="font-size:10pt;font-weight:normal">If in doubt, don't rely on these sorts of exceptions.  Err on the side of not inlining.</span></h3><h3><a name="TOC-Be-careful-about-your-accessors."></a>Be careful about your accessors.</h3><div>Not all accessors are light weight. Compare:</div><div><br /></div></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><font color="#38761D">class Foo {</font></div><div><font color="#38761D"> public:<br />  int count() const { return count_; }</font></div><div><font color="#38761D"><br /></font></div><div><font color="#38761D"> private:<br />  int count_;</font></div><div><font color="#38761D">};</font></div></blockquote><div><br /></div>Here the accessor is trivial and safe to inline.  But the following code is probably not, even though it also looks simple:<div><br /></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><font color="#990000">struct MyData {</font></div><div><font color="#990000">  vector&lt;GURL&gt; urls_;</font></div><div><font color="#990000">  base::Time last_access_;</font></div><div><font color="#990000">};</font></div><div><font color="#990000"><br /></font></div><div><font color="#990000">class Manager {</font></div><div><font color="#990000"> public:</font></div><div><font color="#990000">  MyData get_data() { return my_data_; }</font></div><div><font color="#990000"><br /></font></div><div><font color="#990000"> private:</font></div><div><font color="#990000">  MyData my_data_;</font></div><div><font color="#990000">};</font></div></blockquote><div><br /></div>The underlying copy constructor calls for MyData are going to be complex. (Also, they're going to be synthesized, which is bad.)</div><h3><a name="TOC-What-about-code-outside-of-headers-"></a>What about code outside of headers?</h3><p>For classes declared in .cc files, there's no risk of bloating several .o files with the definitions of the same "inlined" function.  While there are other, weaker arguments to continue to avoid inlining, the primary remaining consideration is simply what would make code most readable.</p><div>This is especially true in testing code.  Test framework classes don't tend to be instantiated separately and passed around as objects; they're effectively just bundles of file-scope functionality coupled with a mechanism to reset state between tests.  In these cases, defining the test functions inline at their declaration sites has little negative effect and can reduce the amount of "boilerplate" in the test file.</div><div><br /></div><div><span style="font-size:13.3333330154419px">Different reviewers may have different opinions here; use good judgment.</span></div><div><br /></div><h2><a name="TOC-Static-variables"></a><font face="arial, sans-serif">Static variables</font></h2><div><font face="arial, sans-serif">Dynamic initialization of function-scope static variables is <b>thread-unsafe</b> in chromium, even on compilers/platforms such as gcc/linux where such idioms are normally safe.  </font><span style="font-family:arial,sans-serif;font-size:10pt">Background can be found in this </span><span style="font-family:arial,sans-serif;font-size:10pt"><a href="https://groups.google.com/a/chromium.org/forum/#!msg/chromium-dev/p6h3HC8Wro4/HHBMg7fYiMYJ">thread</a>.</span></div><div><span style="font-family:arial,sans-serif;font-size:10pt"><br /></span></div><div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px">void foo() {<span style="color:rgb(153,0,0)"><br /><span>    static int BAD_COUNT = ComputeTheCount();  // THREAD-UNSAFE<br /></span></span><span style="color:rgb(56,118,29)"><span>    </span>static int GOOD_COUNT = 42;  // C++03 3.6.2 says this is done before dynamic initialization, so probably thread-safe.</span><span style="color:rgb(153,0,0)"><span><br /></span></span>}</blockquote><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><br /></div></blockquote></div><div><font face="arial, sans-serif">The majority of Chrome code is intended to be single-threaded, where this presents no problem.  When in multi-threaded code, however, the right answer is usually to use a <a href="https://code.google.com/p/chromium/codesearch#chromium/src/base/lazy_instance.h&amp;q=LazyInstance&amp;sq=package:chromium&amp;ct=rc&amp;cd=1&amp;l=119">base::LazyInstance</a>.</font></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/developers/coding-style/cpp-dos-and-donts">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9nYx4tsXhw3MoBto0olvi4nn5_KZ018bl1ghzOXTjPUolBBDwzSfyHxzHo7h7iCz91otNlg91isKv839pNccU3RO5e82w1tkhJ8vlSn0O1y625OrE/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
