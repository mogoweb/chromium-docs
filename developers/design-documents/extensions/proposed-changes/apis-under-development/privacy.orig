<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="/_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/design-documents","deleted":false,"title":"Design Documents","dir":"ltr"},{"path":"/developers/design-documents/extensions","deleted":false,"title":"Extensions","dir":"ltr"},{"path":"/developers/design-documents/extensions/proposed-changes","deleted":false,"title":"Proposed \u0026 Proposing New Changes","dir":"ltr"},{"path":"/developers/design-documents/extensions/proposed-changes/apis-under-development","deleted":false,"title":"API Proposals (New APIs Start Here)","dir":"ltr"},{"path":"/developers/design-documents/extensions/proposed-changes/apis-under-development/privacy","deleted":false,"title":"Privacy-relevant Preferences API","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/developers/design-documents/extensions/proposed-changes/apis-under-development/privacy\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers/design-documents/extensions/proposed-changes/apis-under-development","parentWuid":"wuid:gx:4a1283b73b239cf","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Privacy-relevant Preferences API","locale":"en","wuid":"wuid:gx:2b674979e987cfc5","revision":2,"path":"/developers/design-documents/extensions/proposed-changes/apis-under-development/privacy","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"privacy","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Privacy-relevant Preferences API - The Chromium Projects" />
<meta itemprop="name" content="Privacy-relevant Preferences API - The Chromium Projects" />
<meta property="og:title" content="Privacy-relevant Preferences API - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/overlay.css?cb=beigeandblueundefineda100%25%25150goog-ws-leftthemedefaultstandard" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Privacy-relevant Preferences API - The Chromium Projects</title>
<meta itemprop="image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<meta property="og:image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="https://www.chromium.org/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="https://www.chromium.org/" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-projects" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/Home" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-os" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/for-testers/bug-reporting-guidelines" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/developers/discussion-groups" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="/developers" dir="ltr">For Developers</A>‎ &gt; ‎<A href="/developers/design-documents" dir="ltr">Design Documents</A>‎ &gt; ‎<A href="/developers/design-documents/extensions" dir="ltr">Extensions</A>‎ &gt; ‎<A href="/developers/design-documents/extensions/proposed-changes" dir="ltr">Proposed &amp; Proposing New Changes</A>‎ &gt; ‎<A href="/developers/design-documents/extensions/proposed-changes/apis-under-development" dir="ltr">API Proposals (New APIs Start Here)</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Privacy-relevant Preferences API</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><b><font face="arial, sans-serif"><p dir="ltr" style="text-align:left;margin-top:0pt;margin-bottom:0pt"><b><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap">Overview</span></b></p><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Chromium includes a variety of features that provide valuable services to users either by making requests on their behalf (DNS Prefetching, for example), or by sending non-personal information to third-parties (Omnibox suggestions, for example). While we firmly believe that these services offer a huge net benefit, we also want to fully support users who choose not to take part. Users can opt-out (or opt-in, depending) to each, either via </span><span style="font-size:15px;color:rgb(0,0,153);font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">chrome://flags</span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> or </span><span style="font-size:15px;color:rgb(0,0,153);font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">chrome://settings</span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">; extensions should have programmatic access to these preferences to offer choices to users in forms that Chromium chooses not to.</span><br /><br /><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap">Use cases</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Every feature that’s listed in the</span><a href="http://static.googleusercontent.com/external_content/untrusted_dlcp/www.google.com/en/us/intl/en/landing/chrome/google-chrome-privacy-whitepaper.pdf" style="font-size:medium"><span style="font-size:15px;color:rgb(0,0,0);font-weight:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"> </span><span style="font-size:15px;color:rgb(0,0,153);font-weight:normal;vertical-align:baseline;white-space:pre-wrap">privacy whitepaper</span></a><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> is relevant to extensions that want to offer privacy protections for users above and beyond what is reasonable for Chromium to offer as a default to everyone. Extensions like Tor have expressed interest in programmatically disabling DNS prefetching (and prerendering, et al.), and it would be valuable for everyone concerned if respected advocates such as the EFF could build “EFF-approved“ default settings that users could choose to install via an extension.</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Relatedly, but closer to home, reworking the whitepaper itself into an application from which users could directly toggle preferences without digging through preferences pages would be valuable.</span><br /><br /><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap">Could this API be part of the web platform?</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">These preferences don’t relate to anything like the web platform’s storage options, but instead how Chromium interprets, requests, and processes content on the web. These options are clearly Chromium-specific, and not generally applicable to specific websites (nor would we </span><span style="font-size:15px;font-weight:normal;font-style:italic;vertical-align:baseline;white-space:pre-wrap">want</span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> to offer any website the ability to, for example, toggle UMA settings).</span><br /><br /><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap">Do you expect this API to be fairly stable?</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">These preferences map fairly directly to the services and features the browser offers, which means that the API would only shift in relation to changes in browser-functionality. As it is by necessity browser-specific, that seems reasonable in terms of stability.</span><br /><br /><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap">What UI does this API expose?</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">None. The preferences are already exposed via </span><span style="font-size:15px;color:rgb(0,0,153);font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">chrome://settings</span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> and </span><span style="font-size:15px;color:rgb(0,0,153);font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">chrome://flags</span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">, this proposal simply adds a programmatic interface.</span><br /><br /><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap">How could this API be abused?</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Malicious extensions could send Omnibox keystrokes and other such data to a third-party server by tricking the user into changing her default search engine, and toggling the relevant preferences for Suggest. Likewise, they could force loading of arbitrary sites by doing the same, and enabling Instant.</span><br /><br /><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap">How would you implement your desired features if this API didn't exist?</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Individual users would be pointed to the various bits of UI where these settings exist (preferences and flags), and asked to toggle settings manually. This is, for example, what the Chrome privacy whitepaper does right now.</span><br /><br /><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap">Are you willing and able to develop and maintain this API?</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Yes.</span><br /><br /><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap">Draft API spec</span><br /><br /><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap">TODO.</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">This API could be provided in two ways (possibly together).</span><br /><br /><span style="font-size:15px;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Option 1</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Chromium already provides APIs related to subsets of the “Clear Browsing Data” form’s functionality. Adding methods to each of those seems like a reasonable way of addressing the request. We call pretty much everything cookies, so adding </span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">chrome.cookies.clear</span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> might look like the following:</span><br /><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">{</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">"namespace": "cookies",</span><br /><span style="font-size:13px;font-style:italic;vertical-align:baseline;white-space:pre-wrap">…</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">"functions": [</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">  </span><span style="font-size:13px;font-style:italic;vertical-align:baseline;white-space:pre-wrap">…</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">  {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">    "name": "clear",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">    "description": "Clears cookies and other site data modified within a time period.",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">    "type": "function",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">    "parameters": [</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">      {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "name": "timePeriod",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "type": "string",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "enum": ["last_hour", "last_day", "last_week", "last_month", "everything"],</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "optional": "false",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "description": "The time period inside which to delete cookies and site data."</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">      },</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">      {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "name": "callback",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "type": "function",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "description": "Called when deletion has completed.",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "optional": "true",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "parameters": [</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "name": "result",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "type": "boolean",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "description": "Was the data deletion successful?"</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          }</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        ]</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">      }</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">    ]</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">  },</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">  </span><span style="font-size:13px;font-style:italic;vertical-align:baseline;white-space:pre-wrap">…</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">],</span><br /><span style="font-size:13px;font-style:italic;vertical-align:baseline;white-space:pre-wrap">…</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">}</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">chrome.cookies</span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> and </span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">chrome.history</span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> seem like excellent candidates for these sorts of methods. The history namespace could probably be overloaded to include methods to clear the browser cache, downloaded files, stored passwords, and Autofill data (since it’s all arguably historical in nature).</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">It would be valuable, however, to distinguish the namespace from the permission required to execute the methods. Extensions focused on removing data (see the use-cases above) shouldn’t be required to request read access to cookies on a variety of hosts in order to clear them. Adding an explicit </span><span style="font-size:16px;vertical-align:baseline;white-space:pre-wrap">removeBrowsingData</span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> permission that would grant access to the relevant methods across namespaces would be valuable (</span><span style="font-size:16px;vertical-align:baseline;white-space:pre-wrap">cookies</span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> should grant the same access, but only to the cookies-specific </span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">chrome.cookies.clear</span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">).</span><br /><br /><span style="font-size:15px;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Option 2</span><br /><br /><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">A drawback to the option above is that clearing all browsing data requires many (expensive) executions of </span><span style="font-size:16px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">BrowsingDataRemover::Remove</span><span style="font-size:15px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">. Providing a single method that encapsulated all the options in a single call would be much more efficient. That might look like the following:</span><br /><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">{</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">"namespace": "experimental.browsingData",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">"functions": [</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">  {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">    "name": "clear",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">    "description": "Clears data generated by browsing within a particular timeframe.",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">    "type": "function",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">    "parameters": [</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">      {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "name": "timePeriod",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "type": "string",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "enum": ["last_hour", "last_day", "last_week", "last_month", "everything"],</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "optional": "false",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "description": "The timeframe inside of which to delete browsing data.”</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">      },</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">      {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "name": "dataToRemove",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "type": "object",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "optional": "false",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "properties": {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          "cache": {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "type": "boolean",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "optional": true,</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "description": "Should the browser cache be cleared?"</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          },</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          "cookies": {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "type": "boolean",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "optional": true,</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "description": "Should the browser's cookies be cleared?"</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          },</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          "downloads": {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "type": "boolean",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "optional": true,</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "description": "Should the browser's download list be cleared?"</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          },</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          "form_data": {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "type": "boolean",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "optional": true,</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "description": "Should stored form data be cleared?"</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          },</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          "history": {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "type": "boolean",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "optional": true,</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "description": "Should the browser's history be cleared?"</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          },</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          "lso_data": {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "type": "boolean",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "optional": true,</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "description": "Should LSO data be cleared?"</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          },</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          "passwords": {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "type": "boolean",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "optional": true,</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            "description": "Should the stored passwords be cleared?"</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">          }</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        }</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">      },</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">      {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "name": "callback",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "type": "function",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "description": "Called when deletion has completed.",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "optional": "true",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        "parameters": [</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            {</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">              "name": "result",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">              "type": "boolean",</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">              "description": "Was the data deletion successful?"</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">            }</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        ]</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">      }                                                                                                                                        </span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">    ]</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">  }</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">]</span><br /><span style="font-size:13px;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">}</span><br /><br /><br /><span style="font-size:15px;vertical-align:baseline;white-space:pre-wrap">Open questions</span><ol style="font-size:medium;margin-top:0pt;margin-bottom:0pt"><li style="list-style-type:decimal;font-size:15px;background-color:transparent;font-weight:normal;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">BrowsingDataRemover offers the option of clearing browsing history, download history, clearing the cache, deleting cookies + site + plug-in data, clearing saved passwords, and clearing Autofill data. Homes should be found for programmatic methods that clear each type of data.</span></li><li style="list-style-type:decimal;font-size:15px;background-color:transparent;font-weight:normal;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">Should we offer a separate namespace for clearing browsing data? If so, are there other delete-only methods that would make sense to include in such a namespace?</span></li></ol></font></b></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/developers/design-documents/extensions/proposed-changes/apis-under-development/privacy">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/recentChanges">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9745zQf0FbcurunB0B9xX32-luz7QrIEvaoP_puyejBWu3gu4lqvOLa-c2zWMu8hyfs_8iHfQ6e7G3Zs1F6HRdBxDkXpyoIbhYnayp7cQXNI4Ley4/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
