<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="../../../../../_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/design-documents","deleted":false,"title":"Design Documents","dir":"ltr"},{"path":"/developers/design-documents/extensions","deleted":false,"title":"Extensions","dir":"ltr"},{"path":"/developers/design-documents/extensions/proposed-changes","deleted":false,"title":"Proposed \u0026 Proposing New Changes","dir":"ltr"},{"path":"/developers/design-documents/extensions/proposed-changes/apis-under-development","deleted":false,"title":"API Proposals (New APIs Start Here)","dir":"ltr"},{"path":"/developers/design-documents/extensions/proposed-changes/apis-under-development/power-management-api","deleted":false,"title":"Power Management API","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/developers/design-documents/extensions/proposed-changes/apis-under-development/power-management-api\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers/design-documents/extensions/proposed-changes/apis-under-development","parentWuid":"wuid:gx:4a1283b73b239cf","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Power Management API","locale":"en","wuid":"wuid:gx:b160cc3890a29bb","revision":11,"path":"/developers/design-documents/extensions/proposed-changes/apis-under-development/power-management-api","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"power-management-api","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/config/pagetemplates/extension-api-proposal-template","title":"API Proposal Template"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Power Management API - The Chromium Projects" />
<meta itemprop="name" content="Power Management API - The Chromium Projects" />
<meta property="og:title" content="Power Management API - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../../../../../_/rsrc/1441580320000/system/app/css/overlay.css%3Fcb=beigeandblueundefineda100%2525%2525150goog-ws-leftthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../../../../../_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Power Management API - The Chromium Projects</title>
<meta itemprop="image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<meta property="og:image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="../../../../../index.html" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="../../../../../_/rsrc/1438879449147/config/customLogo.gif%3Frevision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="../../../../../index.html" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://www.chromium.org/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../../../../chromium-projects.html" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../../../Home.1.html" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../../../chromium-os.1.html" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../../../../for-testers/bug-reporting-guidelines.html" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../../discussion-groups.html" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../../../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../../../../../developers.1.html" dir="ltr">For Developers</A>‎ &gt; ‎<A href="../../../../design-documents.1.html" dir="ltr">Design Documents</A>‎ &gt; ‎<A href="../../../extensions.1.html" dir="ltr">Extensions</A>‎ &gt; ‎<A href="../../proposed-changes.1.html" dir="ltr">Proposed &amp; Proposing New Changes</A>‎ &gt; ‎<A href="../apis-under-development.1.html" dir="ltr">API Proposals (New APIs Start Here)</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Power Management API</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><b style="font-size:10pt;background-color:transparent"><span style="font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Proposal Date</span></b></div><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><span style="font-weight:normal;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">2013-03-11</span><br /><br /><span style="font-weight:bold;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Who is the primary contact for this API?</span><br /><span style="font-weight:normal;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">derat@</span><br /><br /><span style="font-weight:bold;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Who will be responsible for this API?</span><br /><p dir="ltr" style="margin-right:12pt;margin-top:0pt;margin-bottom:0pt"><font face="Arial"><span style="white-space:pre-wrap">The Chrome OS UI team.</span></font></p><br /><span style="font-weight:bold;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Overview</span><br /><font face="Arial"><span style="white-space:pre-wrap">This API is intended to provide a way for extensions and apps to temporarily disable aspects of system power management on Chrome OS.  It is a modified version of <a href="../../../../../system/errors/NodeNotFound%3Fsuri=wuid:gx:feecc0bcfef5fbc.html" target="_blank" class="disabled">an earlier proposed API</a> (see also <a href="https://docs.google.com/a/google.com/document/d/1CrZJRH5Eoh8A_6o8PwERzVSDSwEr2DDOOn14gekVCb0/edit#" target="_blank">additional implementation details</a>).</span></font><br /><br /><span style="font-weight:bold;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Use cases</span><br /><font face="Arial"><span style="white-space:pre-wrap">When the user is inactive, Chrome OS dims the screen, turns it off, and eventually suspends the system.  It attempts to avoid some or all of these actions when the user is watching video or listening to audio.  Some apps may wish to trigger similar behavior on their own; imagine e-book or presentation apps that need to prevent the screen from being dimmed or turned off, or a communication app that needs to prevent the system from suspending so that incoming calls may be received.</span></font><br /><br /><span style="font-weight:bold;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Do you know anyone else, internal or external, that is also interested in this API?</span><span style="font-weight:normal;font-family:Arial;vertical-align:baseline;white-space:pre-wrap"> </span><br /><span style="font-weight:normal;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Yes, there is an internal need for this API (<a href="http://crbug.com/178944" target="_blank">http://crbug.com/178944</a>).  External users have requested the ability to e.g. disable power management entirely on desktop machines; this API makes it possible to write a simple extension that does so.</span><br /><br /><span style="font-weight:bold;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Could this API be part of the web platform?</span><br /><font face="Arial"><span style="white-space:pre-wrap">Likely, although the level of control over system power management available to Chrome may vary between different OSes.</span></font><br /><br /><span style="font-weight:bold;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Do you expect this API to be fairly stable?  How might it be extended or changed in the future?</span><br /><font face="Arial"><span style="white-space:pre-wrap">Yes, it should be stable.  I don't foresee any need to add additional levels of power-management-disabling.</span></font></div><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap"><i><br /></i></span></font></div><div style="background-color:transparent"><b><font><span style="font-size:small;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">If multiple extensions used this API at the same time, could they conflict with each others? If so, how do you propose to mitigate this problem?</span></font></b><font face="Arial"><span style="white-space:pre-wrap"><i><br /></i></span></font>Requests will be tracked per-extension.  Since requests are additive, conflicts should not be possible.<br /><br /><span style="font-weight:bold;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">List every UI surface belonging to or potentially affected by your API:</span><br /><span style="font-family:Arial;vertical-align:baseline;white-space:pre-wrap">No UI changes are planned.</span><br /><br /><b><font><span style="font-size:small;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Actions taken with extension APIs should be obviously attributable to an extension. Will users be able to tell when this new API is being used? How?</span></font></b></div><div style="background-color:transparent"><span style="font-family:Arial;white-space:pre-wrap">This isn't currently planned.  It would be possible to add UI that notifies the user when an extension creates a request, though.</span></div><div style="background-color:transparent"><br /><span style="font-weight:bold;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">How could this API be abused?</span><br /><font face="Arial"><span style="white-space:pre-wrap">Extensions could use this API to disable power management features indefinitely.</span></font><br /><br /><span style="font-weight:bold;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Imagine you’re Dr. Evil Extension Writer, list the three worst evil deeds you could commit with your API (if you’ve got good ones, feel free to add more):</span><br /><span style="font-weight:normal;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">1) Disable power management features indefinitely while the extension is running, increasing power consumption, decreasing battery life, and possibly confusing the user.</span><br /><span style="font-weight:normal;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">2) N/A</span><br /><span style="font-weight:normal;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">3) N/A</span><br /><b style="font-family:Verdana,sans-serif"><br /></b><font size="2"><span style="font-family:Arial;font-weight:bold;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">What security UI or other mitigations do you propose to limit evilness made possible by this new API?</span><br /><font face="Arial"><span style="white-space:pre-wrap">Extensions will only be able to override power management while the system's lid is open; closing the lid will still suspend the system.</span></font><br /></font><b><br /><span style="font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Alright Doctor, one last challenge:  </span><br /><span style="font-family:Arial;vertical-align:baseline;white-space:pre-wrap">Could a consumer of your API cause any permanent change to the user’s system using your API that would not be reversed when that consumer is removed from the system?</span><br /><span style="font-family:Arial;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">No.  Any outstanding requests will be abandoned when an extension is stopped.</span></b><b><font><font face="Arial" size="2"><span style="white-space:pre-wrap"><br /></span></font></font></b><br /><span style="font-family:Arial;font-weight:bold;vertical-align:baseline;white-space:pre-wrap">How would you implement your desired features if this API didn't exist?</span><br /><font face="arial, sans-serif">An extension could perform actions that trigger Chrome OS's existing automated power-management-disabling behavior.  For example, playing a silent audio file would prevent the system from suspending.</font><br /><br /><span style="font-family:Arial;font-weight:bold;vertical-align:baseline;white-space:pre-wrap">Draft API spec</span></div><div style="background-color:transparent"><span style="font-family:Arial;font-weight:bold;vertical-align:baseline;white-space:pre-wrap"><br /></span></div><div style="background-color:transparent"><span style="font-family:Arial;font-weight:bold;vertical-align:baseline;white-space:pre-wrap"><i>Manifest changes</i></span></div><div style="background-color:transparent"><span style="font-family:Arial;font-weight:bold;vertical-align:baseline;white-space:pre-wrap"><br /></span></div><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap"><b><font color="#666666">power</font></b> permission</span></font></div></div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap">A new permission that is required in order to call this API's methods.</span></font></div></div></div></blockquote><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap"><b><br /><i>Methods</i></b></span></font></div><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap"><b><br /></b></span></font></div><div style="background-color:transparent"><font color="#666666" face="Arial"><span style="white-space:pre-wrap"><b>requestKeepAwake</b></span></font></div></div></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap">Registers a request to disable power management.  Each extension may hold at most one request; when multiple sequential calls are made, only the final one will be honored.  When an extension is unloaded, its request will be automatically released.</span></font></div><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap"><br /></span></font></div></div></div><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap"><b><span>Parameter:</span></b></span></font></div></div></div><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap"><i>level (enum ["system", "display"])</i></span></font></div></div></div></blockquote><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><span style="white-space:pre-wrap"><font face="Arial">Specifies the degree to which power management should be disabled.</font></span></div></div></div></blockquote><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><span style="white-space:pre-wrap"><font face="courier new, monospace">"system"</font><font face="Arial">: The system will not suspend due to user inactivity, but the screen may still be dimmed or turned off.<br /></font></span></div></div></div></blockquote><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><span style="white-space:pre-wrap"><font face="courier new, monospace">"display"</font><font face="Arial">: The screen will not be dimmed or turned off due to user inactivity.  Additionally, the system will not suspend due to user inactivity.  If the screen is currently dimmed or turned off due to inactivity, it will be turned on immediately.</font></span></div></div></div></blockquote></blockquote><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap"><i><br /></i></span></font></div><div style="background-color:transparent"><font color="#666666" face="Arial"><span style="white-space:pre-wrap"><b>releaseKeepAwake</b></span></font></div></div></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap">Unregisters an outstanding request to disable power management.  Does nothing if no request exists.  Previously-deferred power-management-related actions may be performed immediately.</span></font></div><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap"><br /></span></font></div></div></div><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap"><b>Parameters</b></span></font></div></div></div><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><font face="Arial"><span style="white-space:pre-wrap"><i>none</i></span></font></div></div></div></blockquote><div style="margin-top:0px;margin-bottom:0px"><div style="margin-top:0px;margin-bottom:0px"><div style="background-color:transparent"><br /><span style="font-family:Arial;font-weight:bold;vertical-align:baseline;white-space:pre-wrap">Open questions</span><br /><ol><li><span style="white-space:pre-wrap;font-family:Arial;background-color:transparent;font-size:10pt"><strike>Can the API initially be Chrome-OS-only?</strike>  This probably won't be an issue; content::PowerSaveBlocker should provide cross-platform support.</span></li><li><span style="white-space:pre-wrap;font-family:Arial;background-color:transparent;font-size:10pt"><strike>Should a "power" permission be added to the manifest specification or should extensions be able to use this API unconditionally?</strike>  Yes; added.</span></li><li><span style="white-space:pre-wrap;font-family:Arial;background-color:transparent;font-size:10pt"><strike>Can the <i>callback</i> parameter be omitted from both methods?</strike>  Yes; removed.</span></li><li><span style="white-space:pre-wrap;font-family:Arial;background-color:transparent;font-size:10pt"><strike>The initial implementation of this API never made it out of experimental, although <a href="https://chrome.google.com/webstore/detail/keep-awake-extension/bijihlabcfdnabacffofojgmehjdielb/reviews?hl=en" target="_blank">an extension which uses it</a> was published.  Can the new version of the API use the same method names?</strike>  Yes.  I'm updating the existing extension to use the chrome.power API if it's present and chrome.experimental.power otherwise.</span></li></ol></div></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/developers/design-documents/extensions/proposed-changes/apis-under-development/power-management-api">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../../../../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../../../../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXukca4jaDOG9SuQz_G8t7Hl25yZPjPpP04XUNqQbfAr6tLpV1nxEJrUtVGCJeGw3GDOcjmuKeBO_e6J0S3zumUc_K-RUCukv3AqLRzTbqB8A3nUYCWqmWzOL67E3xe3-VY3msXa/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
