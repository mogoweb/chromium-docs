<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="/_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/design-documents","deleted":false,"title":"Design Documents","dir":"ltr"},{"path":"/developers/design-documents/prerender","deleted":false,"title":"Chrome Prerendering","dir":"ltr"}];
  var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttp://sites.google.com/a/chromium.org/dev/developers/design-documents/prerender\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"http://csi.gstatic.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["http://www.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["http://www.gstatic.com/sites/p/56e332/system/js/codemirror.js","http://www.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","http://www.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","http://www.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","http://www.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers/design-documents","parentWuid":"wuid:gx:359ef223e0fb14ac","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Chrome Prerendering","locale":"en","wuid":"wuid:gx:4c2cb85281131af3","revision":23,"path":"/developers/design-documents/prerender","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"prerender","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Chrome Prerendering - The Chromium Projects" />
<meta itemprop="name" content="Chrome Prerendering - The Chromium Projects" />
<meta property="og:title" content="Chrome Prerendering - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="http://www.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/overlay.css?cb=beigeandblueundefineda100%25%25150goog-ws-leftthemedefaultstandard" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Chrome Prerendering - The Chromium Projects</title>
<meta itemprop="image" content="http://www.chromium.org/_/rsrc/1308013136728/developers/design-documents/prerender/CroppedPrerenderingDiagram.png" />
<meta property="og:image" content="http://www.chromium.org/_/rsrc/1308013136728/developers/design-documents/prerender/CroppedPrerenderingDiagram.png" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="http://www.chromium.org/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="http://www.chromium.org/" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-projects" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/Home" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-os" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/for-testers/bug-reporting-guidelines" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/developers/discussion-groups" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:fe204a485666144" class="sites-navigation-link">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="/developers" dir="ltr">For Developers</A>‎ &gt; ‎<A href="/developers/design-documents" dir="ltr">Design Documents</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Chrome Prerendering</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><h2 style="text-align:left;margin-top:0pt;margin-bottom:0pt;font-size:medium"><a name="TOC-Overview"></a><span style="font-family:Arial;font-size:19px;white-space:pre-wrap">Overview</span></h2><div><span style="font-family:Arial;font-size:19px;white-space:pre-wrap"><br /></span></div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">Prerendering is a feature being added to Chrome to improve user-visible page load times. Prerendering is triggered by &lt;link rel="prerender"&gt; elements in referring pages. A hidden page is created for the prerendered URL, which will do full loading of all dependent resources, as well as execution of Javascript. If the user navigates to the page, the hidden page will be swapped into the current tab and made visible.</font></span></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"><br /></span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"><div style="display:block;text-align:left"><div style="display:block;text-align:left"><a href="http://www.chromium.org/developers/design-documents/prerender/CroppedPrerenderingDiagram.png?attredirects=0" imageanchor="1"><img border="0" src="http://www.chromium.org/_/rsrc/1308013136728/developers/design-documents/prerender/CroppedPrerenderingDiagram.png" /></a></div></div></span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"><div style="display:block;text-align:left"><br /></div></span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"><br /></span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><br /></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">Although the core of prerendering is a fairly simple change to Chrome, there are a number of issues which make the implementation more complex:</font></span></div></blockquote><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><ul style="font-family:Times"><ul><li style="list-style-type:disc;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">Minimizing resource contention.</font></span></li><li style="list-style-type:disc;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">Handling dynamic media [video, audio, plugins, canvas]</font></span></li><li style="list-style-type:disc;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">Cancellation of pages on certain corner cases.</font></span></li><li style="list-style-type:disc;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">Minimizing server side effects.</font></span></li><li style="list-style-type:disc;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">Mutations to shared local storage [cookies, sessionStorage, etc.]</font></span></li></ul></ul></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">Note that this document is not intended to be a comprehensive list of issues.</font></span></div></blockquote><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><h3 style="font-family:Times;font-size:medium"><a name="TOC-Base-Mechanism"></a><span style="font-size:14pt;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:bold;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Base Mechanism</span></h3></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><h4 style="font-family:Times;font-size:medium"><a name="TOC-Creating-a-Prerendered-Page"></a><span style="font-size:12pt;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:bold;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Creating a Prerendered Page</span></h4></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-size:13px"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Prerender is initiated when a page contains a &lt;link rel=”prerender”&gt; resource</span></font></span></font><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">. The ResourceDispatcherHost receives a resource request with ResourceType::Prerender - but this request will never be sent out to the network. Instead, it is used as a signal to create a PrerenderContents, and the request itself is cancelled.</span></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-size:13px"><font size="2"><br /></font></span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-size:13px"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">The PrerenderContents is stored in the PrerenderManager, which maintains a directory of all PrerenderContents created by the same profile. A small number of recently created PrerenderContents are allowed. The current implementation only keeps one page around for a maximum of 30 seconds, but this may change in the future. Older pages are pruned, and a Least-Recently-Created eviction algorithm is used if capacity has been reached.</span></font></span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><h4 style="font-family:Times;font-size:medium"><a name="TOC-Using-a-Prerendered-Page"></a><span style="font-size:12pt;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:bold;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Using a Prerendered Page</span></h4></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">There are two cases where a prerendered page may be used instead of a new page load:</font></span></div></blockquote><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><ul style="font-family:Times"><ul><li style="list-style-type:disc;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">In a call to TabContents::NavigateToPending entry, which is triggered e.g. when a user types in a new URL to visit.</font></span></li><li style="list-style-type:disc;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">In a call to TabContents::DidNavigate, which is, among other cases, exercised when a user clicked on a link on the current page.</font></span></li></ul></ul></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">In both cases, the current profile’s PrerenderManager is checked to see if a valid PrerenderContents matches the destination URL. If a match is found, then:</span></font></div></blockquote><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><ul style="font-family:Times"><ul><li style="list-style-type:disc;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">The PrerenderContents is removed from the PrerenderManager, so it can only be used once.</font></span></li><li style="list-style-type:disc;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">The PrerenderContents’ TabContentsWrapper is swapped in for the existing TabContentsWrapper using the TabContents delegate ReplaceAt mechanism. </font></span></li><li style="list-style-type:disc;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="2">The old TabContentsWrapper is kept alive until unload handlers complete running, and then is destroyed.</font></span></li></ul></ul></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><h4 style="font-family:Times;font-size:medium"><a name="TOC-Visibility-API"></a><span style="font-size:12pt;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:bold;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Visibility API</span></h4></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">A page visibility API has been added to expose the current visibility state of a web page, such as whether it is prerendered, hidden, or potentially visibile.</span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><br /></span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">See <a href="http://w3c-test.org/webperf/specs/PageVisibility/">http://w3c-test.org/webperf/specs/PageVisibility/</a> for the proposed API. Note that the current implementation adds a webkit prefix since the API may still change. </span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><br /></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">This can be used for a variety of purposes, such as lowering the volume of a game while it’s not visible, or pausing an intro sequence until the page transitions out of the prerender state.</span></font></div></blockquote><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><h3 style="font-family:Times;font-size:medium"><a name="TOC-Minimizing-Resource-Contention"></a><span style="font-size:14pt;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:bold;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Minimizing Resource Contention</span></h3></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Prerendering runs the risk of negatively impacting page load time of other pages due to resource contention. Although some of these issues are also tickled with the existing prefetch support, prerendering makes the potential for problems more severe: more resources will be fetched because the subresources are also retrieved, not just the top level page; and CPU and memory consumption will likely be higher.</span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><br /></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">To minimize network contention, all resources in a prerendered page are retrieved at the lowest priority level. Currently the priority is only used to order pending requests for a particular domain: the scheduling may need to change for this priority to only allow idle requests if there are no active network requests at all. There is currently no way to cancel active connections when a higher priority request comes along--this may be needed so long-lived speculative requests for prerender do not block requests for a page that the user is actively visiting on the same domain. </span></font><span style="font-family:Arial;white-space:pre-wrap;font-size:small">Finally, there is no way to change resource priorities after a request has started--this may be needed to bump up the priority of requests after a page has transitioned from prerender to visible. </span></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><br /></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Memory utilization is being handled by restricting the number of prerendered pages to only 3 (At most 2 per page), and is restricted if there is not enough available RAM on the system at the time of the prerender. Additionally, if the memory for the page exceeds 100 MB then the prerendering is cancelled and the memory returned to the system.</span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font face="Arial" size="2"><span style="white-space:pre-wrap">
CPU utilization is being handled by lowering the priority of the render process which contains the prerendered page. A prerendered page is only created if it can be assigned to a unique process, so this minimizes the chance that we will decrease the priority of a render process containing an active tab.</span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font face="Arial" size="2"><span style="white-space:pre-wrap"><br /></span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font face="Arial" size="2"><span style="white-space:pre-wrap">Minimizing GPU utilization is currently not handled. One problem is that GPU usage is measured per render process rather than per RenderView.</span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font face="Arial" size="2"><span style="white-space:pre-wrap"><br /></span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><span style="font-family:Arial;white-space:pre-wrap;font-size:small">Minimizing disk cache utilization is currently not handled. The disk cache is not currently priority based. Also, the cache hit rate may decrease over time for users with prerender enabled due to more unused resources being inserted. The eviction algorithm for the disk cache may also need to change to more aggressively evict resources which were speculatively retrieved but never used.</span></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><span style="font-family:Arial;white-space:pre-wrap;font-size:small"><br /></span></div></blockquote><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><span style="font-family:Arial;white-space:pre-wrap;font-size:small">If a prerendered page tries to prerender another page, the requested prerender is deferred until and unless the first prerender is navigate to.</span></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><span style="font-family:Arial;white-space:pre-wrap;font-size:small"><br /></span></div></blockquote><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><span style="font-family:Arial;white-space:pre-wrap;font-size:small">Prerenders are destroyed if not used within 5 minutes.  The source page can cancel the prerender earlier if desired.</span></div></blockquote><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><h3 style="font-family:Times;font-size:medium"><a name="TOC-Handling-Dynamic-Media"></a><span style="font-size:14pt;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:bold;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Handling Dynamic Media</span></h3></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><h4 style="font-family:Times;font-size:medium"><a name="TOC-Plugin-deferral"></a><span style="font-size:12pt;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:bold;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Plugin deferral</span></h4></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">While a page is in the prerendered state, plugin instantiation (and loading) will be deferred until the page has been activated. The main rationale is to prevent audio or video media from playing prior to the user actually viewing the page, as well as to minimize the possible exploit surface.</span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><br /></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">A BlockedPlugin instance is created for each plugin element on the original page. This is the same instance used by the Click-to-Play feature. It places a simple shim plugin in the place of the originally intended plugin, and retains the parameters that are needed to correctly create and initialize the originally intended plugin. When the page transitions out of the prerendered state, all BlockedPlugin instances created for prerendering purposes will swap in the originally intended plugins.</span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><h4 style="font-family:Times;font-size:medium"><a name="TOC-HTML5-media-elements"></a><span style="font-size:12pt;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:bold;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">HTML5 media elements</span></h4></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Playback is deferred the page completes, similar to plugins.</span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><br /></font></div></blockquote><span style="font-family:Arial;font-weight:bold;white-space:pre-wrap"><font size="4">Cancellation on Corner Cases</font></span><div><font face="Arial" size="4"><span style="white-space:pre-wrap"><b><br /></b></span></font><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font face="Arial" size="2"><span style="white-space:pre-wrap">Pages are canceled if any of the conditions happen:</span></font></div></blockquote><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><ul><li><span style="font-family:Arial;white-space:pre-wrap;font-size:small">The top-level page is not an HTTP/HTTPS scheme, either on the initial link or during any server-side or client-side redirects. For example, both ftp are canceled.  Content scripts are allowed to run on prerendered pages.</span></li><li><span style="font-family:Arial;white-space:pre-wrap;font-size:small">window.opener would be non-null when the page is navigated to.</span></li><li><span style="font-family:Arial;white-space:pre-wrap;font-size:small">A download is triggered. The download is cancelled before it starts.</span></li><li><span style="font-family:Arial;white-space:pre-wrap;font-size:small">A request is issued which is not a GET, HEAD, POST, OPTIONS, or TRACE.</span></li><li><span style="font-family:Arial;white-space:pre-wrap;font-size:small">A authentication prompt would appear.</span></li><li><span style="font-family:Arial;white-space:pre-wrap;font-size:small">An SSL Client Certificate is requested and requires the user to select a certificate.</span></li><li><span style="font-family:Arial;white-space:pre-wrap;font-size:small">A script tries to open a new window.</span></li><li><span style="font-family:Arial;white-space:pre-wrap;font-size:small">alert() is called.</span></li><li><span style="font-family:Arial;white-space:pre-wrap;font-size:small">window.print() is called.</span></li><li><span style="font-family:Arial;white-space:pre-wrap;font-size:small">Any of the resources on the page are flagged by Safe Browsing as malware or phishing. </span></li><li><span style="font-family:Arial;white-space:pre-wrap;font-size:small">The fragment on the page does not match the navigated-to location.</span></li></ul></div></blockquote><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font face="Arial" size="2"><span style="white-space:pre-wrap">When a problem is detected, the cancellation is done synchronously and the offending behavior is typically stopped. For example, an XmlHttpRequest POST will cancel the request before it goes over the network, and prevent the page from being swapped in. The prerendered page may live for a little while longer due to the asynchronous nature of RenderView cancellation, but it will not be swapped in.</span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font face="Arial" size="2"><span style="white-space:pre-wrap"><br /></span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font face="Arial" size="2"><span style="white-space:pre-wrap">Additional behavior may cause cancellation in the future, and some of the existing cancellation causes may be relaxed in the future.</span></font></div></blockquote><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><h3 style="font-family:Times;font-size:medium"><a name="TOC-Mutations-to-shared-local-storage"></a><span style="font-size:14pt;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:bold;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Mutations to shared local storage</span></h3></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Shared local storage such as DOM storage, IndexedDB, and HTTP cookies present challenges for prerendering. Ideally mutations made by the prerendered page should not be visible to other tabs until after the user has activated the page. Mutations made by other pages should be reflected in the prerendered page, which may have already read from local storage before the other pages made the changes.</span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><br /></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">One option is to not worry about these issues. Since the prerendered pages are only retained for a short period of time after their creation, the window for race-like conditions is fairly short.  However, this may result in confusion for users (for example, if a prerender starts for a page, the user logs out on the main page, and then the prerendered page becomes active with the user’s old credentials). Additionally, the Visibility API provides ways for pages to defer any mutating behavior until after the page becomes visibile. This is the current approach taken in Chrome.</span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><br /></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">A second option is to cancel the prerender any time local storage is accessed. This may be feasible for more recent versions of local storage [such as IndexedDB] but is not an option for more commonplace schemes, particularly HTTP cookies. Long-term, the cancel prerendering approach will also lead to resistance of adoption of new forms of local storage.</span></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><br /></font></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">A third option is to have a local storage sandbox while the page is prerendered, and attempt to transactionally commit changes to the shared local storage when the page becomes activated. See <a href="http://www.chromium.org/developers/design-documents/cookies-and-prerender">https://sites.google.com/a/chromium.org/dev/developers/design-documents/cookies-and-prerender</a> for some thoughts about how to do this for Cookies.</span></font></div></blockquote><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><h3 style="font-family:Times;font-size:medium"><a name="TOC-Minimizing-server-side-effects"></a><span style="font-family:Arial;font-size:19px;white-space:pre-wrap">Minimizing server side effects</span></h3></div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Prerendering is only triggered when the top level page is retrieved with a GET, and is assumed to be idempotent. Additionally, any non-GET, HEAD, or OPTION requests from XmlHttpRequests will not be sent over the network and the page will be cancelled.</span></font></div></div></blockquote><div><h2><a name="TOC-1"></a><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><div style="font-family:Arial,Verdana,sans-serif;font-size:13px;font-weight:normal;white-space:normal"><div style="margin:0px;background-color:transparent"></div></div><blockquote style="font-family:Arial,Verdana,sans-serif;font-size:13px;font-weight:normal;white-space:normal;margin:0px 0px 0px 40px;border:none;padding:0px"><div></div></blockquote></span></h2><h3 style="font-family:Times;font-size:medium"><a name="TOC-Following-redirects"></a><span style="font-family:Arial;font-size:19px;white-space:pre-wrap">Following redirects</span></h3><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div style="margin:0px;background-color:transparent"><h2><a name="TOC-If-the-server-sends-a-redirect-response-for-a-subresource-with-a-Follow-Only-When-Prerender-Shown:-1-header-Chrome-will-hold-off-on-following-the-redirect-and-on-fetching-the-respective-subresource-until-the-prerender-is-shown-to-the-user."></a><span style="font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><span style="font-size:small;font-weight:normal">If the server sends a redirect response for a subresource with a "Follow-Only-When-Prerender-Shown: 1" header, Chrome will hold off on following the redirect and on fetching the respective subresource until the prerender is shown to the user.</span></span></h2></div></blockquote><h2><a name="TOC-Any-Questions-"></a><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="5">Any Questions?</font></span></h2></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background-color:transparent"><font size="2"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Please send mail to prerender@chromium.org, or read the group archives at <a href="http://groups.google.com/a/chromium.org/group/prerender/topics">http://groups.google.com/a/chromium.org/group/prerender/topics</a></span></font></div></div></blockquote></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-attachments">
<div class="sites-attachments-row"><div class="sites-attachments-icon" style="left:0px;"><span aria-label="Attachments" title="Attachments"><div class="sites-translucent sites-symbol" aria-hidden="true">Č</div></span></div><div id="sites-attachments-update-div" class="sites-attachments-inner-div" style="display:none;"><span class="sites-attachments-update-icon"><img src="http://www.gstatic.com/sites/p/56e332/system/app/images/spinner.gif" /></span><div class="sites-attachments-update-text">Updating...</div></div></div><div class="sites-attachments-separator"></div>
<div id="attachment-wuid:gx:338f18cdf4fd479d"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="Image" title="Image">ą</div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name"><a href="/developers/design-documents/prerender/Wickedflowchart.gif?attredirects=0">Wickedflowchart.gif</a> <div class="sites-translucent">(28k)</div></div><div class="sites-attachments-author">Chris Bentzel, <div class="sites-translucent">Feb 28, 2011, 8:43 AM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="/system/app/pages/admin/revisions?wuid=wuid:gx:338f18cdf4fd479d">v.1</a></div><div id="attachment-download-wuid:gx:338f18cdf4fd479d" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="/developers/design-documents/prerender/Wickedflowchart.gif?attredirects=0&amp;d=1" aria-label="Download Wickedflowchart.gif" title="Download" role="button"><span class="sites-symbol" aria-hidden="true">ď</span></a></div></div><div class="sites-attachments-separator"></div></div>
<div style="height: 10px"></div>
</div>
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=http://sites.google.com/a/chromium.org/dev/developers/design-documents/prerender">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/recentChanges">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="http://www.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9kKFbuxNx-rUBhn-ExjIUffqSwKEPeZaz2dh_E-_Zi1rsqzsRAQVcEwEF6GSP8-m4sYgBT0EuVzBWmgCMyZqFEf4PBVrm59aBA-91Bw8-3Ts5H8Zi/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('http://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'http://csi.gstatic.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
