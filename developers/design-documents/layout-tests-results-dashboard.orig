<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="/_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/design-documents","deleted":false,"title":"Design Documents","dir":"ltr"},{"path":"/developers/design-documents/layout-tests-results-dashboard","deleted":false,"title":"Tests Results Dashboard","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/developers/design-documents/layout-tests-results-dashboard\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers/design-documents","parentWuid":"wuid:gx:359ef223e0fb14ac","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Tests Results Dashboard","locale":"en","wuid":"wuid:gx:5556bb8cee9c07b7","revision":16,"path":"/developers/design-documents/layout-tests-results-dashboard","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"layout-tests-results-dashboard","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Tests Results Dashboard - The Chromium Projects" />
<meta itemprop="name" content="Tests Results Dashboard - The Chromium Projects" />
<meta property="og:title" content="Tests Results Dashboard - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/overlay.css?cb=beigeandblueundefineda100%25%25150goog-ws-leftthemedefaultstandard" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Tests Results Dashboard - The Chromium Projects</title>
<meta itemprop="image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<meta property="og:image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="https://www.chromium.org/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="https://www.chromium.org/" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-projects" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/Home" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-os" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/for-testers/bug-reporting-guidelines" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/developers/discussion-groups" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="/developers" dir="ltr">For Developers</A>‎ &gt; ‎<A href="/developers/design-documents" dir="ltr">Design Documents</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Tests Results Dashboard</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div><font color="#ff0000">WARNING: THIS DOCUMENT IS FAIRLY STALE.</font></div><div><br /></div>This is a mini-design doc for the test dashboard at <a href="http://test-results.appspot.com/dashboards/flakiness_dashboard.html">http://test-results.appspot.com/dashboards/flakiness_dashboard.html</a>. This dashboard helps identify flaky tests and compare test expectations across platforms, including upstream webkit.org's expectations. It currently supports webkit tests and gtest tests.<div><br /></div><div>The dashboard itself consists of flakiness_dashboard.html and dashboard/dashboard_base.js. In order to minimize maintenance cost, there is no server-side logic. Instead the dashboard grabs JSONP files from each builder. Each builder creates and archives two JSON files that it updates with each run's results. There is one results.json file per builder that holds the results for <b>all</b> runs and there is an expectations.json file that translates src/webkit/tools/layout_tests/text_expectations.txt into JSON that the dashboard can parse. The expectations.json files will be the same on all the bots, so the dashboard can grab it from any of them.</div><div><br /></div><div>The JSON files are created by run_webkit_tests.py. It stores them at the top level of the layout test results directory (same place as results.html). On each run, it reads in the results.json file from that location, adds the results from the current run and writes it out again. If it does not exist locally (e.g. if the layout test results directory was deleted), then it grabs it off the archive location on the bot. Once both JSON files have been written, they are both copied to the archive location for the layout test results so that they can be accessed via http from the dashboard.</div><div><br /></div><div>Once all the JSON files have loaded, the dashboard does a bunch of processing on them and generates the HTML for the page, which is mostly then innerHTMLed. The results.json file also has a bunch of data that is counts of failing tests that is used in the <a href="http://src.chromium.org/viewvc/chrome/trunk/src/webkit/tools/layout_tests/dashboards/aggregate_results.html">test progress dashboard</a>. For the purposes of the flakiness dashboard, they can just be excluded from the JSON. If they are included, then the layout test progress dashboard would work as well.</div><div><br /></div><div>The dashboard stores all the relevant state in the URL's hash and uses hashchange events to detect changes. Thus it only works in browsers that support the hashchange event.</div><div><br /></div><div><b>Changes needed in order to add upstream webkit.org</b></div><div><ol><li><span style="font-family:arial,sans-serif;font-size:small;white-space:pre-wrap">output results.json and expectations.json per builder. See the two notes below marked "For upstream webkit.org".</span></li><li>Add useUpstreamWebkit. It should mimic what useWebKitCanary does (primarily it just adds a new builders array).</li><li><span style="font-family:arial,sans-serif;font-size:small;white-space:pre-wrap">getPlatformAndBuildType: Needs to be modified to understand any new mapping from builderName to platform/buildType</span></li><li><span style="font-family:arial,sans-serif;font-size:small;white-space:pre-wrap">Consider excluding bugs, modifiers, expectations, missing and extra columns from the dashboard since upstream webkit doesn't have a test_expectations.txt file.</span></li></ol><div><font face="arial, sans-serif"><span style="white-space:pre-wrap;font-size:small">See the webkit bug for progress on making the dashboard work for the webkit bots: <a href="https://bugs.webkit.org/show_bug.cgi?id=32954">https://bugs.webkit.org/show_bug.cgi?id=32954</a>.</span></font></div><div><font face="arial, sans-serif"><span style="white-space:pre-wrap;font-size:small"><span style="font-family:Arial,Verdana,sans-serif;white-space:normal;font-size:13px"><h4><a name="TOC-JSON-file-size-optimizations"></a>JSON file size optimizations</h4><div>If we store information about every test on every run, the JSON files quickly become many megabytes large. In order to keep the size manageable we do the following:</div><div><ul><li>The number of runs stored is hard-coded at 750.</li><li>Any test that has passed for all runs and takes less than 1 second to run for all those runs is dropped from the JSON.</li><li>The data for failures/speed of each test result is run-length encoded.</li><li>Strip all unnecessary whitespace.</li></ul><h4><a name="TOC-Incremental-updates-of-JSON-files"></a><b>Incremental updates of JSON files</b></h4></div><div>Currently the JSON files are generated and updated locally, then they are uploaded to the archive location (currently on the buildbots, soon to be moved to test-results.appspot.com). In order to improve performance and make it so that the bots don't rely on local state, we will create a local JSON file with just the incremental updates. That JSON file will then be uploaded to the appengine server, which will <b>merge</b> it with the stored JSON file. In that case, the logic of truncating to 750 runs will be in the appengine server.</div><div><br /></div><div>The JSON format for an incremental update is exactly the same as that of the stored JSON file. The only catch in doing the merge is that the runs being merged in may not be uploaded in order (e.g. if we have multiple builders processing separate runs). So the merge function must take care to look at the buildNumbers array and merge the values in correctly.</div></span></span></font></div><div><font face="arial, sans-serif"><span style="white-space:pre-wrap;font-size:small"><span style="font-family:Arial,Verdana,sans-serif;white-space:normal;font-size:13px"><h3><a name="TOC-JSON-file-formats"></a>JSON file formats</h3><h4><a name="TOC-The-order-of-all-arrays-is-from-newest-run-to-oldest-run.-In-other-words-the-results-from-each-run-are-prepended-to-the-existing-results.json-file-s-contents."></a><span style="font-weight:normal">The order of all arrays is from newest run to oldest run. In other words, the results from each run are prepended to the existing results.json file's contents.</span></h4><h4><a name="TOC-results.json"></a>results.json</h4><div><span style="white-space:pre-wrap"><span><font face="'courier new', monospace"><span style="font-size:small">ADD_RESULTS</span></font></span><font face="'courier new', monospace"><span style="font-size:small">({</span></font></span></div><div><span style="white-space:pre-wrap"><font face="'courier new', monospace"><span style="font-size:small">  "version": NUMBER,</span></font></span></div><div><span style="white-space:pre-wrap"><font face="'courier new', monospace"><span style="font-size:small">  "BUILDER_NAME": {</span></font></span></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">    "wontfixCounts": FAILURE_COUNTS,</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">    "deferredCounts": FAILURE_COUNTS,</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">    "fixableCounts": FAILURE_COUNTS,</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">    "fixableCount": ARRAY_OF_NUMBERS,</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">    "allFixableCount": ARRAY_OF_NUMBERS,</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">    "buildNumbers": ARRAY_OF_NUMBERS,</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">    "webkitRevision": ARRAY_OF_NUMBERS,</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">    "chromeRevision": ARRAY_OF_NUMBERS,</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">    "secondsSinceEpoch": ARRAY_OF_NUMBERS,</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">    "tests": {</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">      "TEST": {</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">        "results": RUN_LENGTH_ENCODED_RESULTS,</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">        "times": RUN_LENGTH_ENCODED_RESULTS</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">      },</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">      ...</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">    }</span></font></div><div><font face="'courier new', monospace"><span style="white-space:pre-wrap;font-size:small">  }</span></font></div><div><span style="white-space:pre-wrap"><font face="'courier new', monospace"><span style="font-size:small">});</span></font></span></div><div><font face="arial, sans-serif"><span style="font-size:small"><br /></span></font></div><div>BUILDER_NAME: Name of the builder the tests were run on (e.g. Webkit Mac10.5).<br />TEST: Relative path to the test, e.g. "LayoutTests/fast/foo/bar.html". TODO(ojan): Exclude the LayoutTests prefix now that all layout tests live in that directory.</div><div><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">FAILURE_COUNTS: Array of objects mapping single-char failure type to number of failures of that type. The mapping from single-char failure type to the human-readable string used in expectations.json is held in EXPECTATIONS_MAP in dashaboard_base.js.</span></font></span></div><div><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">ARRAY_OF_NUMBERS: An array of numbers.</span></font></span></div><div><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">RUN_LENGTH_ENCODED_RESULTS: An array of RUN_LENGTH_VALUEs.</span></font></span></div><div><font face="arial, sans-serif"><span style="white-space:pre-wrap;font-size:small">RUN_LENGTH_VALUE: An array with exactly two items. The first item is the number of runs that this value represents. The second item is the value of the result for that run. The values used for the results are in dashboard_base.js as EXPECTATIONS_MAP. <span style="font-family:Arial,Verdana,sans-serif;white-space:normal;font-size:13px">If a test is listed in results.json, but was not run during this run for some reason (e.g. it's skipped), then the 'N' value is used for that run to indicate we have no data for that test for that run. <span style="font-family:arial,sans-serif;font-size:small;white-space:pre-wrap">There's a copy below for reference:</span></span></span></font></div><div><font face="arial, sans-serif"><span style="white-space:pre-wrap;font-size:small"><span style="font-family:Times;white-space:normal;font-size:medium"><pre>var EXPECTATIONS_MAP = {
  'T': 'TIMEOUT',
  'C': 'CRASH',
  'P': 'PASS',
  'F': 'TEXT',
  'I': 'IMAGE',
  'Z': 'IMAGE+TEXT',
  // We used to glob a bunch of expectations into "O" as OTHER. Expectations
  // are more precise now though and it just means MISSING.
  'O': 'MISSING',
  'N': 'NO DATA',
  'X': 'SKIP'
};</pre></span></span></font></div><div><font face="arial, sans-serif"><span style="font-size:small">version: The version of the JSON format that we're using. This is so we can make backwards-incompatible changes and know to upgrade the JSON data appropriately. Currently just hard-coded to 1.</span></font></div><div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">wontfixCounts: Number of tests marked WONTFIX broken down by type of failure that actually occurred.</span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">deferredCounts: Number of tests marked DEFER broken down by type of failure that actually occurred.</span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">fixableCounts: Number of tests in test_expectations.txt not marked DEFER/WONTFIX broken down by type of failure that actually occurred.</span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">fixableCount: Number of tests not marked DEFER/WONTFIX that failed.</span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">allFixableCount: Number of tests we not marked DEFER/WONTFIX (includes expected passes and failures)</span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">buildNumbers: The build number for this run on the bot.</span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">webkitRevision: The revision of webkit being used.</span></font></span></font></div><div><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">chromeRevision: The revision of chorme being used.</span></font></span></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">secondsSinceEpoch: Number of seconds since the epoch (time.time() in python)</span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small"><br /></span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">TODO(ojan): Track V8/Skia revision numbers as well so we can better track regressions from V8/Skia.</span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small"><br /></span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small"><b>For upstream webkit.org</b> results we can exclude chromeRevision and all the count/Counts values. The latter are not meaningful if failing tests are skipped. If that ever changes, then we can change upstream to include these numbers and we can track number of failures over time.</span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small"><br /></span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small">Sample results.json:</span></font></span></font></div><div><font><span style="white-space:pre-wrap"><font face="arial, sans-serif"><span style="font-size:small"><div><span><font><font face="'courier new', monospace">ADD_RESULTS</font></font></span><font><font face="'courier new', monospace">(</font></font><font face="'courier new', monospace">{</font></div><div><font face="'courier new', monospace">  "Webkit Mac10.5": {</font></div><div><font face="'courier new', monospace">    "wontfixCounts": [</font></div><div><font face="'courier new', monospace">      {</font></div><div><font face="'courier new', monospace">        "C": 0,</font></div><div><font face="'courier new', monospace">        "F": 105,</font></div><div><font face="'courier new', monospace">        "I": 2,</font></div><div><font face="'courier new', monospace">        "O": 0,</font></div><div><font face="'courier new', monospace">        "T": 1,</font></div><div><font face="'courier new', monospace">        "X": 33,</font></div><div><font face="'courier new', monospace">        "Z": 11</font></div><div><font face="'courier new', monospace">      }</font></div><div><font face="'courier new', monospace">    ],</font></div><div><font face="'courier new', monospace">    "fixableCounts": [</font></div><div><font face="'courier new', monospace">      {</font></div><div><font face="'courier new', monospace">        "C": 2,</font></div><div><font face="'courier new', monospace">        "F": 136,</font></div><div><font face="'courier new', monospace">        "I": 725,</font></div><div><font face="'courier new', monospace">        "O": 1,</font></div><div><font face="'courier new', monospace">        "T": 15,</font></div><div><font face="'courier new', monospace">        "X": 8665,</font></div><div><font face="'courier new', monospace">        "Z": 25</font></div><div><font face="'courier new', monospace">      }</font></div><div><font face="'courier new', monospace">    ],</font></div><div><font face="'courier new', monospace">    "tests": {</font></div><div><font face="'courier new', monospace">      "LayoutTests/fast/frames/viewsource-attribute.html": {</font></div><div><font face="'courier new', monospace">        "results": [</font></div><div><font face="'courier new', monospace">          [</font></div><div><font face="'courier new', monospace">            751,</font></div><div><font face="'courier new', monospace">            "I"</font></div><div><font face="'courier new', monospace">          ]</font></div><div><font face="'courier new', monospace">        ],</font></div><div><font face="'courier new', monospace">        "times": [</font></div><div><font face="'courier new', monospace">          [</font></div><div><font face="'courier new', monospace">            741,</font></div><div><font face="'courier new', monospace">            0</font></div><div><font face="'courier new', monospace">          ],</font></div><div><font face="'courier new', monospace">          [</font></div><div><font face="'courier new', monospace">            10,</font></div><div><font face="'courier new', monospace">            2</font></div><div><font face="'courier new', monospace">          ]</font></div><div><font face="'courier new', monospace">        ]</font></div><div><font face="'courier new', monospace">      }</font></div><div><font face="'courier new', monospace">    },</font></div><div><font face="'courier new', monospace">    "secondsSinceEpoch": [</font></div><div><font face="'courier new', monospace">      1259810345</font></div><div><font face="'courier new', monospace">    ],</font></div><div><font face="'courier new', monospace">    "fixableCount": [</font></div><div><font face="'courier new', monospace">      904</font></div><div><font face="'courier new', monospace">    ],</font></div><div><font face="'courier new', monospace">    "allFixableCount": [</font></div><div><font face="'courier new', monospace">      9598</font></div><div><font face="'courier new', monospace">    ],</font></div><div><font face="'courier new', monospace">    "buildNumbers": [</font></div><div><font face="'courier new', monospace">      "7279"</font></div><div><font face="'courier new', monospace">    ],</font></div><div><font face="'courier new', monospace">    "webkitRevision": [</font></div><div><font face="'courier new', monospace">      "51615"</font></div><div><font face="'courier new', monospace">    ],</font></div><div><font face="'courier new', monospace">    "deferredCounts": [</font></div><div><font face="'courier new', monospace">      {</font></div><div><font face="'courier new', monospace">        "C": 0,</font></div><div><font face="'courier new', monospace">        "F": 56,</font></div><div><font face="'courier new', monospace">        "I": 0,</font></div><div><font face="'courier new', monospace">        "O": 0,</font></div><div><font face="'courier new', monospace">        "T": 0,</font></div><div><font face="'courier new', monospace">        "X": 7,</font></div><div><font face="'courier new', monospace">        "Z": 0</font></div><div><font face="'courier new', monospace">      }</font></div><div><font face="'courier new', monospace">    ],</font></div><div><font face="'courier new', monospace">    "chromeRevision": [</font></div><div><font face="'courier new', monospace">      "33659"</font></div><div><font face="'courier new', monospace">    ]</font></div><div><font face="'courier new', monospace">  },</font></div><div><font face="'courier new', monospace">  "version": 1</font></div><div><font face="'courier new', monospace">}</font></div><div><font face="'courier new', monospace"><br /></font></div><div><span style="font-family:Arial,Verdana,sans-serif;white-space:normal;font-size:13px;font-weight:bold">expectations.json</span></div></span></font></span></font></div></div><div><span style="white-space:pre-wrap"><span><font face="'courier new', monospace"><span style="font-size:small">ADD_EXPECTATIONS</span></font></span><font face="'courier new', monospace"><span style="font-size:small">({</span></font></span></div><div><span style="white-space:pre-wrap"><font face="'courier new', monospace"><span style="font-size:small">  "TEST": [ MODIFIERS_AND_EXPECTATIONS, MODIFIERS_AND_EXPECTATIONS, ... ],</span></font></span></div><div><span style="white-space:pre-wrap"><font face="'courier new', monospace"><span style="font-size:small">  "TEST": [ MODIFIERS_AND_EXPECTATIONS ]</span></font></span></div><div><span style="white-space:pre-wrap"><font face="'courier new', monospace"><span style="font-size:small">});</span></font></span></div></span></span></font></div><div><font face="arial, sans-serif"><span style="white-space:pre-wrap;font-size:small"><br /></span></font></div></div><div>TEST: Same as above in results.json.</div><div>MODIFERS_AND_EXPECTATIONS: object of the following form { "modifiers": MODIFIERS, "expectations": EXPECTATIONS }</div><div>MODIFIERS: Space separated string of modifiers. This includes bug numbers (BUG1234), platforms (LINUX, MAC, etc), build types (debug, release), SKIP, DEFER, WONTFIX and SLOW.</div><div>EXPECTATIONS: The expected results for this test. TIMEOUT, TEXT, IMAGE, PASS, etc.</div><div><br /></div><div><b>For upstream webkit.org</b>, we should probably make an expectations file that parses all the SKIPPED lists and creates the appropriate expectations file. Something like:</div><div><br /></div><div><font face="'courier new', monospace"><span style="font-size:small">ADD_EXPECTATIONS({</span></font></div><div><font face="'courier new', monospace"><span style="font-size:small">  "foo/bar/baz.html", [ {"modifiers": "SKIP LINUX", "expectations": ""}, {"modifiers": "SKIP WIN", "expectations": ""} ],</span></font></div><div><font face="'courier new', monospace"><span style="font-size:small">  ...</span></font></div><div><font face="'courier new', monospace"><span style="font-size:small">});</span></font></div><div><br /></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/developers/design-documents/layout-tests-results-dashboard">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/recentChanges">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9CBgyDsk0G5tKqk5yu9VK8PrV598Vwu7PdlcrWwB7g4HeOQsFFgo96CoUGYhqPKNv2QnSvIcEkP4qE36W4zJkrnFXLEN8-C_OJ2V4e3-P_nrLVpNH/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
