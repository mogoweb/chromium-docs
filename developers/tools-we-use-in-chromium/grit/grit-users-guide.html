<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="../../../_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/tools-we-use-in-chromium","deleted":false,"title":"Tools we use in Chromium","dir":"ltr"},{"path":"/developers/tools-we-use-in-chromium/grit","deleted":false,"title":"GRIT","dir":"ltr"},{"path":"/developers/tools-we-use-in-chromium/grit/grit-users-guide","deleted":false,"title":"GRIT User\u0027s Guide","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/developers/tools-we-use-in-chromium/grit/grit-users-guide\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers/tools-we-use-in-chromium/grit","parentWuid":"wuid:gx:51023f4aa4a8de36","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"GRIT User\u0027s Guide","locale":"en","wuid":"wuid:gx:150968f6f3abbb9","revision":2,"path":"/developers/tools-we-use-in-chromium/grit/grit-users-guide","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"grit-users-guide","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="GRIT User's Guide - The Chromium Projects" />
<meta itemprop="name" content="GRIT User's Guide - The Chromium Projects" />
<meta property="og:title" content="GRIT User's Guide - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../../../_/rsrc/1441580320000/system/app/css/overlay.css%3Fcb=beigeandblueundefineda100%2525%2525150goog-ws-leftthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../../../_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>GRIT User's Guide - The Chromium Projects</title>
<meta itemprop="image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<meta property="og:image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="../../../index.html" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="../../../_/rsrc/1438879449147/config/customLogo.gif%3Frevision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="../../../index.html" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://www.chromium.org/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../../chromium-projects.html" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../Home.1.html" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../chromium-os.1.html" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../../for-testers/bug-reporting-guidelines.html" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../discussion-groups.html" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../../../developers.1.html" dir="ltr">For Developers</A>‎ &gt; ‎<A href="https://www.chromium.org/developers/tools-we-use-in-chromium" dir="ltr">Tools we use in Chromium</A>‎ &gt; ‎<A href="../grit.1.html" dir="ltr">GRIT</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">GRIT User's Guide</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><h1 style="font-size:x-large;margin-top:0px;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="TOC-Getting-Started"></a>Getting Started</h1><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Use SVN to fetch the GRIT sources, and run [grit.py] for help. GRIT integrates easily with <a href="http://code.google.com/p/gyp/" rel="nofollow" style="color:rgb(0,0,204)">GYP</a>, see <a href="https://code.google.com/p/chromium/codesearch#search/&amp;q=grit%20file:%5C.gyp&amp;sq=package:chromium&amp;type=cs" rel="nofollow" style="color:rgb(0,0,204)">examples</a>.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">It's a good idea to run all of GRIT's unit tests to check that your installation is OK. Just run <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">grit unit</tt>, which should print the result of a bunch of tests, ending with OK.</p><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Creating_a_Blank_.grd_File"></a>Creating a Blank .grd File</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">You can run <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">grit newgrd</tt> to create a new <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.grd</tt> file with no content but a skeleton to start you off with.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">If you're looking to convert an existing <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.rc</tt> file to the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.grd</tt> format, see the section "Converting Your RC File to GRIT Format" below.</p><h1 style="font-size:x-large;margin-top:0px;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Adding_Resources"></a>Adding Resources</h1><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Includes_(e.g._GIF,_BMP,_ICO_etc.)"></a>Includes (e.g. GIF, BMP, ICO etc.)</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Here are the steps to add an included resource, e.g. a GIF or BMP. Note that this does not include HTML templates, those are considered "structures" (see section below).</p><ol style="padding-left:25px;max-width:62em;font-family:arial,sans-serif;font-size:13.1199998855591px"><li style="margin-bottom:0.3em">Open your project's .grd file.</li><li style="margin-bottom:0.3em">Find the latest <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;release&gt;</tt> element (the one with the highest number in the 'seq' attribute). These elements group together resources that are part of the same public release. Note that some projects always use just a single <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;release&gt;</tt> element.</li><li style="margin-bottom:0.3em">Under that <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;release&gt;</tt> element, find an <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;includes&gt;</tt> element.</li><li style="margin-bottom:0.3em">Add an <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;include&gt;</tt> element to the end of that <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;includes&gt;</tt> element. The <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;include&gt;</tt> element has the following attributes, and no body:</li><ul style="padding-left:25px;max-width:62em"><li style="margin-bottom:0.3em">type: This goes into the RC file verbatim, so it is the resource type string you want to use for this include, e.g. 'GIF'</li><li style="margin-bottom:0.3em">name: This is the textual ID of this resource. GRIT will generate a #define in the resource header file for this textual ID, so you can use it in your code as long as you include the resource header file.</li><li style="margin-bottom:0.3em">file: This is the path to the file to include, <strong>relative to the .grd file</strong></li></ul></ol><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Messages_(what_used_to_go_into_the_string_table)"></a>Messages (what used to go into the string table)</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">As in the steps for includes (see above), find the latest <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;release&gt;</tt> element, then find a <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;messages&gt;</tt> node under that. Add a <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;message&gt;</tt> node under it. <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;message&gt;</tt> nodes have the following attributes:</p><ul style="padding-left:25px;max-width:62em;font-family:arial,sans-serif;font-size:13.1199998855591px"><li style="margin-bottom:0.3em">name: The textual ID of the message</li><li style="margin-bottom:0.3em">desc: A description of the message giving enough context to the translator to translate the message correctly (e.g. the message "Shut" might be a description of an action you need to take or the description of the status of something, so a description like e.g. "Shut the current dialog; button label" would help translators do the right thing).</li><li style="margin-bottom:0.3em">meaning: You can use this field to ensure that two messages that have the same text will not necessarily share the same translation. This can provide a bit of context to the translators along with the 'desc' attribute.</li><li style="margin-bottom:0.3em">internal_comment: If you want to add a comment for use internally (by the developers) this is the place to put it.</li></ul><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">The body of the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;message&gt;</tt> element is the text of the message. Inline in the text, you should use <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;ph&gt;</tt> elements to indicate nontranslateable sections. The <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;ph&gt;</tt> element has a single attribute, 'name', which you use to give the placeholder a name (which must be uppercase and should usually be descriptive, e.g. USERNAME or TIME_REMAINING). Apart from the nontranslateable text, the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;ph&gt;</tt> element can contain a single<tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;ex&gt;</tt> element which contains an example of what the placeholder could be replaced with. This is shown to the translator and could be e.g. "Jói" for a placeholder with a name of USERNAME.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">For example:</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(0,0,136)">&lt;message</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"ID_OF_MESSAGE"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />  Hello </span><span style="color:rgb(0,0,136)">&lt;ph</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"USERNAME"</span><span style="color:rgb(0,0,136)">&gt;</span><span>%s</span><span style="color:rgb(0,0,136)">&lt;ex&gt;</span><span>Joi</span><span style="color:rgb(0,0,136)">&lt;/ex&gt;&lt;/ph&gt;</span><span>, how are you today?<br /></span><span style="color:rgb(0,0,136)">&lt;/message&gt;</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">GRIT allows you to use messages that begin or end with whitespace. You need to put ''' (that's three single quotes, like Python's triple quotes) before leading whitespace and after trailing whitespace, because the default is to strip leading and trailing whitespace from messages.</p><h3 style="font-size:medium;border:0px;padding:0.5ex 0.5em 0.5ex 0px;margin:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="A_Concrete_Example"></a>A Concrete Example</h3><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Given a message that looked like the following in the RC file:</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span>IDS_EMAIL_ESTIMATE </span><span style="color:rgb(0,136,0)">"%d of about %d emails - "</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">This should be represented as the following in the .grd file:</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(0,0,136)">&lt;message</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDS_EMAIL_ESTIMATE"</span><span><br />         </span><span style="color:rgb(102,0,102)">internal_comment</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"TODO make the placeholders reorderable so the translators can rearrange things"</span><span><br />         </span><span style="color:rgb(102,0,102)">desc</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"Shown at top of results page"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;ph</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"ITEM"</span><span style="color:rgb(0,0,136)">&gt;</span><span>%d</span><span style="color:rgb(0,0,136)">&lt;ex&gt;</span><span>1</span><span style="color:rgb(0,0,136)">&lt;/ex&gt;&lt;/ph&gt;</span><span> of about </span><span style="color:rgb(0,0,136)">&lt;ph</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"ESTIMATED_TOTAL"</span><span style="color:rgb(0,0,136)">&gt;</span><span>%d</span><span style="color:rgb(0,0,136)">&lt;ex&gt;</span><span>130</span><span style="color:rgb(0,0,136)">&lt;/ex&gt;&lt;/ph&gt;</span><span> emails - '''<br /></span><span style="color:rgb(0,0,136)">&lt;/message&gt;</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Let's walk through what's going on here:</p><ul style="padding-left:25px;max-width:62em;font-family:arial,sans-serif;font-size:13.1199998855591px"><li style="margin-bottom:0.3em">The 'name' attribute of the message element is the symbolic ID of the message, that you use to refer to the message in e.g. your C++ code. GRIT generates a numeric ID for the message which goes into the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">resource.h</tt> file</li><li style="margin-bottom:0.3em">The 'desc' attribute is a description of the message which should give the translators enough context to translate it properly. This is especially important for short messages such as a single word, where you have to at least disambiguate whether the word is a noun, verb, adjective, and whether it's used in a singular or plural context.</li><li style="margin-bottom:0.3em">The 'internal_comment' attribute is for any comments related to this message that the translator should not see (e.g. TODO comments, comments on how to use in code, etc.)</li><li style="margin-bottom:0.3em">We change the two <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">%d</tt> format specifiers into "placeholders," which are represented by the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;ph&gt;</tt> element. Everything that should not be translated by the translators needs to be changed into a placeholder.</li><li style="margin-bottom:0.3em">The 'name' attribute of the placeholder must be composed of the capital letters A-Z, numbers 0-9 and the underscore character. It should describe the placeholder succinctly. The placeholder names are used to provide the translator with translateable text, in this case "ITEM of about ESTIMATED_TOTAL emails - ".</li><li style="margin-bottom:0.3em">The contents of the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;ph&gt;</tt> element should be what you want your program to see, i.e. what goes into the compiled RC. Basically this is the original text.</li><li style="margin-bottom:0.3em">You can (and should) add a single <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;ex&gt;</tt> node as a child of the ph node. The contents of this node will be used to create an example of a "final" message to help the translators. This shows what the message might look like once all format specifiers have been filled in, in this case "1 of about 130 emails - "</li><li style="margin-bottom:0.3em">Because the message ends in a space character, and you don't want to lose that space character, you need to add a triple quote, ''', after the end of the message. This prevents GRIT from stripping the trailing whitespace. The triple quote does not become part of the message.</li></ul><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Structures_(menus,_dialogs,_HTML_templates,_etc.)"></a>Structures (menus, dialogs, HTML templates, etc.)</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Any resource that is not a simple message and contains one or more translateable parts needs to be defined as a <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;structure&gt;</tt> element. Similar to includes and messages (see above), you find the latest <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;release&gt;</tt> element, find a <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;structures&gt;</tt> node under that, and add a<tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;structure&gt;</tt> node to it. <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;structure&gt;</tt> nodes have the following attributes:</p><ul style="padding-left:25px;max-width:62em;font-family:arial,sans-serif;font-size:13.1199998855591px"><li style="margin-bottom:0.3em">name: The textual ID of the structure. For menus, dialogs and VERSIONINFO resources, this must match the ID used in the .rc file the structure is kept in.</li><li style="margin-bottom:0.3em">type: The type of structure. This can be 'menu', 'dialog', 'version', 'rcdata', 'tr_html', 'txt' or 'admin_template'. The first four indicate a MENU, DIALOG (or DIALOGEX), VERSIONINFO or RCDATA resource in a .rc file. 'tr_html' indicates an HTML template, 'admin_template' indicates an .adm file (used for enterprise features on Windows) and 'txt' indicates a plain text file that needs to be translated for different languages.</li><li style="margin-bottom:0.3em">file: The file, <strong>relative to the .grd file</strong> that the structure is kept in. If it is a structure type taken from an .rc file, the structure resides in the file along with possibly lots of other structures, and is looked up by its textual ID (the 'name' attribute). Otherwise it takes up the whole file (i.e. the whole contents of the file are the contents of the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;structure&gt;</tt> element).</li></ul><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Note that GRIT only has support for symbolic resource IDs (IDs that are preprocessor defines that are given a numeric value) and not for string literal resource IDs. The latter are suboptimal, since they increase the size of the resources. If the .rc file you point to uses string literal resource IDs, you will have to #define those string literals manually to use those resources. The recommended approach is to only use symbolic resource IDs.</p><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Splitting_Resources_into_Multiple_Files"></a>Splitting Resources into Multiple Files</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">It is possible to have 'sub' grd files, the ones with .grdp extension.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">They can be include in .grd files using the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;part&gt;</tt> element. See <a href="https://code.google.com/p/chromium/codesearch#chromium/src/chrome/app/bookmarks_strings.grdp&amp;sq=package:chromium&amp;type=cs" rel="nofollow" style="color:rgb(0,0,204)">this example</a>.</p><h1 style="font-size:x-large;margin-top:0px;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Outputs_and_Translations"></a>Outputs and Translations</h1><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">By calling <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">grit build</tt> you make GRIT build RC files and resource header files from a <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.grd</tt> file. This section details how to specify which files to output, how to specify the translation files to use, and how to use conditional output of resources.</p><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Specifying_Output_Files_and_Translation_Files"></a>Specifying Output Files and Translation Files</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">The way you specify which files <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">grit build</tt> should output is using an <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;outputs&gt;</tt> section in the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.grd</tt> file. NOTE: The <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;outputs&gt;</tt> section should be put at the top of the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.grd</tt> file, as this can speed up GRIT when used with build systems that scan the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.grd</tt> file for dependencies.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">To specify the translation files to use, you use a <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;translations&gt;</tt> section that points to each of the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.xtb</tt> (translation bundle) files containing the translations.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">The top of your <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.grd</tt> file, including the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;outputs&gt;</tt> and <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;translations&gt;</tt> sections might look like this:</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(102,102,0)">&lt;?</span><span>xml version</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"1.0"</span><span> encoding</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"UTF-8"</span><span style="color:rgb(102,102,0)">?&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;grit</span><span> </span><span style="color:rgb(102,0,102)">latest_public_release</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"0"</span><span> </span><span style="color:rgb(102,0,102)">source_lang_id</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"en"</span><span> </span><span style="color:rgb(102,0,102)">current_release</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"1"</span><span> </span><span style="color:rgb(102,0,102)">base_dir</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"../.."</span><span> </span><span style="color:rgb(102,0,102)">enc_check</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"möl"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;outputs&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;output</span><span> </span><span style="color:rgb(102,0,102)">filename</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"resource.h"</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"rc_header"</span><span> </span><span style="color:rgb(0,0,136)">/&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;output</span><span> </span><span style="color:rgb(102,0,102)">filename</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"en/generated_resources_en.rc"</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"rc_all"</span><span> </span><span style="color:rgb(102,0,102)">lang</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"en"</span><span> </span><span style="color:rgb(0,0,136)">/&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;output</span><span> </span><span style="color:rgb(102,0,102)">filename</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"fr/generated_resources_fr.rc"</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"rc_all"</span><span> </span><span style="color:rgb(102,0,102)">lang</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"fr"</span><span> </span><span style="color:rgb(0,0,136)">/&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;output</span><span> </span><span style="color:rgb(102,0,102)">filename</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"ja/generated_resources_ja.rc"</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"rc_all"</span><span> </span><span style="color:rgb(102,0,102)">lang</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"ja"</span><span> </span><span style="color:rgb(0,0,136)">/&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/outputs&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;translations&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;file</span><span> </span><span style="color:rgb(102,0,102)">path</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"$TRANSLATIONS_FOLDER/fr.xtb"</span><span> </span><span style="color:rgb(102,0,102)">lang</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"fr"</span><span> </span><span style="color:rgb(0,0,136)">/&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;file</span><span> </span><span style="color:rgb(102,0,102)">path</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"$TRANSLATIONS_FOLDER/ja.xtb"</span><span> </span><span style="color:rgb(102,0,102)">lang</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"ja"</span><span> </span><span style="color:rgb(0,0,136)">/&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/translations&gt;</span><span><br />  </span><span style="color:rgb(136,0,0)">&lt;!-- Remainder of .grd file --&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;/grit&gt;</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Something to note here: The language code is included in the filename of each of the generated <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.rc</tt> files, even though it is already a component of the files' paths. This is recommended to ensure that the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.res</tt> intermediary files which are generated by the RC compiler from the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.rc</tt> files and then linked into the executable do not share the same filename (as they may all be built into one directory even if the GRIT output files are in separate directories).</p><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Conditional_Output_of_Resources"></a>Conditional Output of Resources</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">In an <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.rc</tt> file, it's common to use C preprocessor commands to control which parts of the file get output given the existence or values of C preprocessor defines. GRIT has this same capability, in addition to allowing output of resources to be conditional on which language is being output.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">To use conditional output of resources, simply enclose some of your <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;message&gt;</tt>, <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;structure&gt;</tt> or <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;include&gt;</tt> elements in an <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;if&gt;</tt> element. The 'if' element has a single attribute 'expr', the contents of which are evaluated as a Python expression, and the resources within the 'if' element are only output if the result of that expression is true. Your Python expression has access to the following objects and functions:</p><ul style="padding-left:25px;max-width:62em;font-family:arial,sans-serif;font-size:13.1199998855591px"><li style="margin-bottom:0.3em"><tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">lang</tt> is the language code (<a href="http://en.wikipedia.org/wiki/IETF_language_tag" rel="nofollow" style="color:rgb(0,0,204)">IETF language tag</a>) being output, taken directly from the 'lang' attribute of the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;output&gt;</tt> node currently controlling the output.</li><li style="margin-bottom:0.3em"><tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">defs</tt> is a map of C preprocessor defines to their values, e.g. <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">{ 'SHIPPING' : True, '_DEBUG' : False }</tt>. Note that preprocessor defines with values 1 and 0 get changed so their values are True and False, respectively.</li><li style="margin-bottom:0.3em"><tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">pp_ifdef(name)</tt> behaves just like an #ifdef statement in the C preprocessor, i.e. it returns True if <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">name</tt> is defined (exists as a key in <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">defs</tt>).</li><li style="margin-bottom:0.3em"><tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">pp_if(name)</tt> behaves just like an #if statement in the C preprocessor, i.e. it returns True if and only if <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">name</tt> is defined and its value is true.</li></ul><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Note that conditional output of resources only affects those output files of GRIT that determine which resources get linked into your executable, i.e. currently only the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.rc</tt> files output. It has no effect on resource header files, or translation interchange files like <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.xmb</tt> files. This is desirable for several reasons, e.g. resource IDs stay the same regardless of conditional output, all messages always go to translation, etc.</p><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Avoid_unnecessary_header_includes"></a>Avoid unnecessary header includes</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">GRIT by default includes some header files (for example: <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">atlres.h</tt>). In order to avoid these includes you can use the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;emit&gt;</tt> tag as a child of<tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;output&gt;</tt>. Doing this would replace all the includes with your customized includes. Including an empty <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;emit&gt;</tt> tag makes GRIT include no header files in the generated resource file.</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span>    </span><span style="color:rgb(0,0,136)">&lt;output</span><span> </span><span style="color:rgb(102,0,102)">filename</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"resource.grh"</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"rc_header"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />      </span><span style="color:rgb(0,0,136)">&lt;emit&gt;</span><span>#include "foo/bar.h"</span><span style="color:rgb(0,0,136)">&lt;/emit&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;/output&gt;</span></pre><h1 style="font-size:x-large;margin-top:0px;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="GRIT_Cookbook"></a>GRIT Cookbook</h1><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">This section documents some common "recipes" for getting things done using GRIT.</p><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Getting_Ready_for_Release"></a>Getting Ready for Release</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">When you are about to release, you will probably want to make sure none of your messages get automatically pseudotranslated, i.e. you want to have 'grit build' fail if there are some missing translations. To achieve this goal, you simply add a <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">allow_pseudo="false"</tt> attribute to your<tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;release&gt;</tt> node (this attribute is true by default), e.g.</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(0,0,136)">&lt;release</span><span> </span><span style="color:rgb(102,0,102)">seq</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"1"</span><span> </span><span style="color:rgb(102,0,102)">allow_pseudo</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"false"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />  </span><span style="color:rgb(136,0,0)">&lt;!--<br />    If GRIT finds a missing translation for any message or any part<br />    of any structure within this element, it will fail rather than<br />    create an automatic pseudotranslation.<br />  --&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;messages&gt;</span><span><br />    ...<br />  </span><span style="color:rgb(0,0,136)">&lt;/messages&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;structures&gt;</span><span><br />    ...<br />  </span><span style="color:rgb(0,0,136)">&lt;/structures&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;/release&gt;</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">When you start working on your next release, <strong>leave everything inside that <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;release&gt;</tt> element alone</strong> (or at least don't modify or add to it - OK to remove from it). Instead, create a new <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;release&gt;</tt> element and put the resources you add to your new release inside that element. If you need to modify one of the existing resources, move it from the old release to the new release, and modify it within the new release.</p><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Language-Specific_Graphics_(or_Other_Included_Resources)"></a>Language-Specific Graphics (or Other Included Resources)</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">There is often a need to localize graphics, e.g. logos that have text on them. It's easy to tell GRIT to use different logos for different languages:</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(136,0,0)">&lt;!-- Other parts of .grd file snipped --&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;includes</span><span> </span><span style="color:rgb(102,0,102)">first_id</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"2048"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;if</span><span> </span><span style="color:rgb(102,0,102)">expr</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"lang in ['de', 'en', 'es', 'fr', 'it']"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;include</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"GIF"</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDR_LOGO"</span><span> </span><span style="color:rgb(102,0,102)">file</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"logo.gif"</span><span> </span><span style="color:rgb(0,0,136)">/&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/if&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;if</span><span> </span><span style="color:rgb(102,0,102)">expr</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"lang == 'ja'"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;include</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"GIF"</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDR_LOGO"</span><span> </span><span style="color:rgb(102,0,102)">file</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"ja_logo.gif"</span><span> </span><span style="color:rgb(0,0,136)">/&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/if&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;if</span><span> </span><span style="color:rgb(102,0,102)">expr</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"lang == 'zh_cn'"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;include</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"GIF"</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDR_LOGO"</span><span> </span><span style="color:rgb(102,0,102)">file</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"zh_cn_logo.gif"</span><span> </span><span style="color:rgb(0,0,136)">/&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/if&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;/includes&gt;</span><span><br /></span><span style="color:rgb(136,0,0)">&lt;!-- Other parts of .grd file snipped --&gt;</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Here we use the same logo for English and FIGS languages, and different logos for Japanese and Simplified Chinese.</p><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Language-Specific_Layout_of_Dialog_Boxes"></a>Language-Specific Layout of Dialog Boxes</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">It's common for dialog boxes to require a different layout for languages other than English, as most languages are much more verbose than English (30-40% on average). Of course the best way to handle this is to make the dialog boxes for English roomy enough to account for all languages, but this is not always possible due to aesthetics or project constraints. Likewise, other structured resources, such as HTML templates, sometimes need to have locale-specific versions.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Although you <i>could</i> use a few <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;if&gt;</tt> nodes to achieve something close to what you want, this would mean each of your different structured resource variants would need to be in English. It would be much more convenient to be able to have your variants in the target language (so that you can easily size e.g. the dialog correctly) yet pick up the source messages from the original structured resource. This is what the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;skeleton&gt;</tt>node is for.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Here's how you would use it:</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(136,0,0)">&lt;!-- Other parts of .grd file snipped --&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;structures</span><span> </span><span style="color:rgb(102,0,102)">first_id</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"4096"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />  </span><span style="color:rgb(136,0,0)">&lt;!-- The file specified in the &lt;structure&gt; node is used except when one of the expressions<br />       in &lt;skeleton&gt; nodes is true. --&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;structure</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"dialog"</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDD_DIALOG"</span><span> </span><span style="color:rgb(102,0,102)">file</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"structured_resources.rc"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />    </span><span style="color:rgb(136,0,0)">&lt;!-- The variant_of_revision attribute is mandatory and intended to specify which source<br />         control revision number this skeleton variant is a variant of. Useful so that GRIT can<br />         automatically detect if you may need to update your skeleton (not implemented yet). --&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;skeleton</span><span> </span><span style="color:rgb(102,0,102)">expr</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"lang == 'ja'"</span><span> </span><span style="color:rgb(102,0,102)">file</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"ja\IDD_DIALOG\IDD_DIALOG.rc"</span><span> </span><span style="color:rgb(102,0,102)">variant_of_revision</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"3"</span><span> </span><span style="color:rgb(0,0,136)">/&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/structure&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;/structures&gt;</span><span><br /></span><span style="color:rgb(136,0,0)">&lt;!-- Other parts of .grd file snipped --&gt;</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">To help you work with variant skeletons, there is a tool <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">grit resize</tt> that will output a Microsoft Visual Studio project file and an .rc file containing the dialogs you request in the language you request. See <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">grit help resize</tt> for more details.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">NOTE: The <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;skeleton&gt;</tt> node currently only works for structures with <i>type="dialog"</i>. Support for it can be added to other structure types but usually what you want for e.g. HTML structures can usually be accomplished more easily by using separate files and selecting between them with <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;if&gt;</tt> nodes (see the above section).</p><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Language-Specific_Messages"></a>Language-Specific Messages</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Occasionally, there is a need for a message to have a different meaning in one language than it does in another. An example of this is that a Terms of Use document might have to have different clauses for the U.S. than it does for Germany. It's easy to give GRIT different variants of the same message to use for different languages:</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(136,0,0)">&lt;!-- Other parts of .grd file snipped --&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;messages</span><span> </span><span style="color:rgb(102,0,102)">first_id</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"10240"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;if</span><span> </span><span style="color:rgb(102,0,102)">expr</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"lang != 'de'"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;message</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDM_TERMS_OF_USE"</span><span> </span><span style="color:rgb(102,0,102)">desc</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"Do not translate this message into German"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />      Use this product at your own risk.<br />    </span><span style="color:rgb(0,0,136)">&lt;/message&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/if&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;if</span><span> </span><span style="color:rgb(102,0,102)">expr</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"lang == 'de'"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;message</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDM_TERMS_OF_USE"</span><span> </span><span style="color:rgb(102,0,102)">desc</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"This message only needs to be translated into German"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />      Use this product at your own risk, except as limited by German law.<br />    </span><span style="color:rgb(0,0,136)">&lt;/message&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/if&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;/messages&gt;</span><span><br /></span><span style="color:rgb(136,0,0)">&lt;!-- Other parts of .grd file snipped --&gt;</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">There are a couple of things to note here:</p><ul style="padding-left:25px;max-width:62em;font-family:arial,sans-serif;font-size:13.1199998855591px"><li style="margin-bottom:0.3em">It's a good idea to use the 'desc' field (as done in the example above) to let the translators know if a message only needs to be translated into a particular language, or into all languages except some particular language(s).</li><li style="margin-bottom:0.3em">You are providing a different <strong>English</strong> message to use for a particular language (German in this case) but what actually gets output to the German RC file is the German translation of that English message.</li></ul><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Getting_Translations_of_Strings_in_Images"></a>Getting Translations of Strings in Images</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">You may have a bunch of images that contain some text, and wouldn't it be nice to be able to get that text translated along with everything else? You can do this by following this recipe:</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(136,0,0)">&lt;!-- ... --&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;includes</span><span> </span><span style="color:rgb(102,0,102)">first_id</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"1024"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />  </span><span style="color:rgb(136,0,0)">&lt;!-- ... --&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;include</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"GIF"</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDR_SUBMIT_BUTTON"</span><span> </span><span style="color:rgb(102,0,102)">file</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"submit_btn.gif"</span><span> </span><span style="color:rgb(0,0,136)">/&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;/includes&gt;</span><span><br /></span><span style="color:rgb(136,0,0)">&lt;!-- ... --&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;messages&gt;</span><span><br />  </span><span style="color:rgb(136,0,0)">&lt;!-- ... --&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;if</span><span> </span><span style="color:rgb(102,0,102)">expr</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"False"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;message</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDM_MESSAGE_FOR_PICTURE_IDR_SUBMIT_BUTTON"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />      Submit<br />    </span><span style="color:rgb(0,0,136)">&lt;/message&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/if&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;/messages&gt;</span><span><br /></span><span style="color:rgb(136,0,0)">&lt;!-- ... --&gt;</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">The trick here is to match the message with the include by using a simple naming convention (the message node's 'name' is the include node's 'name' with "IDM_MESSAGE_FOR_PICTURE<i>" prefixed), and to prevent the message from getting included in your executable by putting it into an <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;if expr="False"&gt;</tt> block (keep in mind that <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;if&gt;</tt> blocks only affect output of resources to <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.rc</tt> files, and not to .xmb files or other translation interchange formats GRIT may support in the future).</i></p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">After the translators have finished their job, you'll be able to find your image's translated text in the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.xtb</tt> file for the language(s) in question.</p><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Translate_by_Example"></a>Translate by Example</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">In some cases, we have resources that it's simply too difficult for a non-programmer to translate. An example is a date picture string, which might look like "M'/'d YYYY". A useful thing to do here is to get the translator to translate an example of what the result of applying that format string might look like. Then as a programmer you can take the translated example and translate it back into a picture string. The recipe for this would be:</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(136,0,0)">&lt;!-- ... --&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;messages</span><span> </span><span style="color:rgb(102,0,102)">first_id</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"1024"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br /><br />  </span><span style="color:rgb(136,0,0)">&lt;!-- ... --&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;if</span><span> </span><span style="color:rgb(102,0,102)">expr</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"False"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;message</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDM_DATE_FORMAT_EXAMPLE_TO_TRANSLATE"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />      6/6 2005<br />    </span><span style="color:rgb(0,0,136)">&lt;/message&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/if&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;message</span><span> </span><span style="color:rgb(102,0,102)">translateable</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"false"</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDM_DATE_FORMAT"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />    M'/'d YYYY<br />  </span><span style="color:rgb(0,0,136)">&lt;/message&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;/messages&gt;</span><span><br /></span><span style="color:rgb(136,0,0)">&lt;!-- ... --&gt;</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Here we add a message IDM_DATE_FORMAT_EXAMPLE_TO_TRANSLATE that gets sent for translation, but not added to your executable (because it's enclosed in an if-false block). The real resource is marked non-translateable, so it doesn't get sent for translation. Once the translators are done, you look for the message in the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.xtb</tt> file, interpret the examples back into picture strings, and add them to your <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.grd</tt> file using conditional output to control which one gets used for which language:</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(136,0,0)">&lt;!-- ... --&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;messages</span><span> </span><span style="color:rgb(102,0,102)">first_id</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"1024"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />  </span><span style="color:rgb(136,0,0)">&lt;!-- ... --&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;if</span><span> </span><span style="color:rgb(102,0,102)">expr</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"False"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;message</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDM_DATE_FORMAT_EXAMPLE_TO_TRANSLATE"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />      9/23 2005<br />    </span><span style="color:rgb(0,0,136)">&lt;/message&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/if&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;if</span><span> </span><span style="color:rgb(102,0,102)">expr</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"lang == 'en'"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;message</span><span> </span><span style="color:rgb(102,0,102)">translateable</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"false"</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDM_DATE_FORMAT"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />      M'/'d YYYY<br />    </span><span style="color:rgb(0,0,136)">&lt;/message&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/if&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;if</span><span> </span><span style="color:rgb(102,0,102)">expr</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"lang == 'fr'"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />    </span><span style="color:rgb(0,0,136)">&lt;message</span><span> </span><span style="color:rgb(102,0,102)">translateable</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"false"</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"IDM_DATE_FORMAT"</span><span> </span><span style="color:rgb(102,0,102)">internal_comment</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"Translation of example was '23/09 2005'"</span><span style="color:rgb(0,0,136)">&gt;</span><span><br />      dd'/'MM YYYY<br />    </span><span style="color:rgb(0,0,136)">&lt;/message&gt;</span><span><br />  </span><span style="color:rgb(0,0,136)">&lt;/if&gt;</span><span><br /></span><span style="color:rgb(0,0,136)">&lt;/messages&gt;</span><span><br /></span><span style="color:rgb(136,0,0)">&lt;!-- ... --&gt;</span></pre><h1 style="font-size:x-large;margin-top:0px;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Miscellaneous_GRIT_extensions_and_tips"></a>Miscellaneous GRIT extensions and tips</h1><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">GRIT has several other features you can use to help with localization.</p><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Using_expandable_variable_to_localize_the_link_in_html_files"></a>Using expandable variable to localize the link in html files</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">In html files, it is common that the ref link needs to point to the localized page, for example,</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span>http</span><span style="color:rgb(102,102,0)">:</span><span style="color:rgb(136,0,0)">//www.example.com/support/myproduct?lang={language}</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">In order for the link to point to the correct language, when GRIT is generating the localized html files from the html template, we set the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">lang</tt>parameter to an expandable GRIT variable GRITLANGCODE<a href="https://code.google.com/p/grit-i18n/w/edit/GRITLANGCODE" style="color:rgb(0,0,204)">?</a>, so that it will be expanded to the correct langauge code.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">In a struct node, enable the HTML template to use expandable variable by setting <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">expand_variables</tt> attribute to "true". Here is an example.</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(0,0,136)">&lt;structure</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"AFINTRO.HTML"</span><span> </span><span style="color:rgb(102,0,102)">encoding</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"utf-8"</span><span> </span><span style="color:rgb(102,0,102)">file</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"afintro.html"</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"tr_html"</span><span> </span><span style="color:rgb(102,0,102)">generateid</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"false"</span><span> </span><span style="color:rgb(102,0,102)">expand_variables</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"true"</span><span style="color:rgb(0,0,136)">/&gt;</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">In the html template, set the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">lang</tt> parameter of the link to GRITLANGCODE<a href="https://code.google.com/p/grit-i18n/w/edit/GRITLANGCODE" style="color:rgb(0,0,204)">?</a>. Here is an example.</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(0,0,136)">&lt;a</span><span> </span><span style="color:rgb(102,0,102)">href</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"http://www.example.com/support/myproduct?lang=[GRITLANGCODE]"</span><span> </span><span style="color:rgb(102,0,102)">target</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"_blank"</span><span style="color:rgb(0,0,136)">&gt;</span><span>Go to site</span><span style="color:rgb(0,0,136)">&lt;/a&gt;</span></pre><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Using_expandable_variable_to_generate_HTML_files_for_RTL_languag"></a>Using expandable variable to generate HTML files for RTL languages</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">To enable GRIT to generate right-to-left (RTL) layout HTML files for RTL languages, we can use the special expandable variable GRITDIR<a href="https://code.google.com/p/grit-i18n/w/edit/GRITDIR" style="color:rgb(0,0,204)">?</a>.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">In struct node, enable the HTML template to use expandable variables by setting the expand_variables attribute to "true".</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(0,0,136)">&lt;structure</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"AFINTRO.HTML"</span><span> </span><span style="color:rgb(102,0,102)">encoding</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"utf-8"</span><span> </span><span style="color:rgb(102,0,102)">file</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"afintro.html"</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"tr_html"</span><span> </span><span style="color:rgb(102,0,102)">generateid</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"false"</span><span> </span><span style="color:rgb(102,0,102)">expand_variables</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"true"</span><span style="color:rgb(0,0,136)">/&gt;</span></pre><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">In the HTML template, embed GRITDIR<a href="https://code.google.com/p/grit-i18n/w/edit/GRITDIR" style="color:rgb(0,0,204)">?</a> variable in the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;html&gt;</tt> tag, here is an example.</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(0,0,136)">&lt;html</span><span> </span><span style="color:rgb(102,0,102)">style</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"</span><span style="color:rgb(0,0,136)">width</span><span style="color:rgb(102,102,0)">:</span><span style="color:rgb(0,102,102)">29em</span><span style="color:rgb(102,102,0)">;</span><span> </span><span style="color:rgb(0,0,136)">height</span><span style="color:rgb(102,102,0)">:</span><span style="color:rgb(0,102,102)">24em</span><span style="color:rgb(0,136,0)">"</span><span> </span><span style="color:rgb(102,0,102)">XMLNS:t</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"urn:schemas-microsoft-com:time"</span><span> [</span><span style="color:rgb(102,0,102)">GRITDIR</span><span>]</span><span style="color:rgb(0,0,136)">&gt;</span></pre><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Using_expandable_variable_to_set_the_language_attribute_in_produ"></a>Using expandable variable to set the language attribute in product version information correctly in VS_VERSION_INFO of rc file</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">In order to have Language attribute of product version information show the correct language information for client application, the VS_VERSION_INFO section has to set the attributes using correct LCID and charset code. Again, we can use grit expandable variables to make life easier. Here is an example.</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span>VS_VERSION_INFO VERSIONINFO<br /></span><span style="color:rgb(102,102,0)">...</span><span><br /></span><span style="color:rgb(0,0,136)">BEGIN</span><span><br />    BLOCK </span><span style="color:rgb(0,136,0)">"StringFileInfo"</span><span><br />    </span><span style="color:rgb(0,0,136)">BEGIN</span><span><br />      BLOCK </span><span style="color:rgb(0,136,0)">"[GRITVERLANGCHARSETHEX]"</span><span><br />        </span><span style="color:rgb(0,0,136)">BEGIN</span><span><br />        </span><span style="color:rgb(102,102,0)">...</span><span><br />        </span><span style="color:rgb(0,0,136)">END</span><span><br />    </span><span style="color:rgb(0,0,136)">END</span><span><br />    BLOCK </span><span style="color:rgb(0,136,0)">"VarFileInfo"</span><span><br />    </span><span style="color:rgb(0,0,136)">BEGIN</span><span><br />        VALUE </span><span style="color:rgb(0,136,0)">"Translation"</span><span style="color:rgb(102,102,0)">,</span><span> </span><span style="color:rgb(102,102,0)">[</span><span>GRITVERLANGID</span><span style="color:rgb(102,102,0)">],</span><span> </span><span style="color:rgb(102,102,0)">[</span><span>GRITVERCHARSETID</span><span style="color:rgb(102,102,0)">]</span><span><br />    </span><span style="color:rgb(0,0,136)">END</span><span><br /></span><span style="color:rgb(0,0,136)">END</span></pre><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Running_processing_after_translation_of_structures"></a>Running processing after translation of structures</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Sometimes, it may be necessary to run additional processing of a translated file (<tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">structure</tt>) after translation has occurred. To do this, use the<tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">run_command</tt> attribute on the structure element. To add the filename to the command, use <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">%(filename)s</tt>. For instance, to run <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">type</tt> on a file after it's been processed by grit, do:</p><pre style="font-size:12.2016000747681px;padding:0.5em;overflow:auto;font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;max-width:70em;background-color:rgb(238,238,238)"><span style="color:rgb(0,0,136)">&lt;structure</span><span> </span><span style="color:rgb(102,0,102)">name</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"AFINTRO.HTML"</span><span> </span><span style="color:rgb(102,0,102)">encoding</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"utf-8"</span><span> </span><span style="color:rgb(102,0,102)">file</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"afintro.html"</span><span> </span><span style="color:rgb(102,0,102)">type</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"tr_html"</span><span> </span><span style="color:rgb(102,0,102)">run_command</span><span style="color:rgb(102,102,0)">=</span><span style="color:rgb(0,136,0)">"type %(filename)s"</span><span style="color:rgb(0,0,136)">/&gt;</span></pre><h1 style="font-size:x-large;margin-top:0px;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Migrating_Your_Project"></a>Migrating Your Project</h1><h2 style="font-size:large;border:0px;padding-left:0px;max-width:700px;font-family:arial,sans-serif;background:none"><a name="Converting_Your_RC_File_to_GRIT_Format"></a>Converting Your RC File to GRIT Format</h2><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">The <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">grit rc2grd</tt> tool takes an existing RC file, which should be the RC file for the source language, and converts it into a .grd file.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Because of the way <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">grit rc2grd</tt> works, a bit of preparation of the original RC file is required.</p><ul style="padding-left:25px;max-width:62em;font-family:arial,sans-serif;font-size:13.1199998855591px"><li style="margin-bottom:0.3em"><tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">grit rc2grd</tt> takes any existing comments on your string table messages and uses them as the description field for the message.</li><ul style="padding-left:25px;max-width:62em"><li style="margin-bottom:0.3em">The description field for a message is output as a 'description' attribute to the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">.xmb</tt> file for your project, so that it can be shown to translators when they are translating the message. There is a separate field in .grd files, <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">internal_comment</tt>, that can be used for comments about messages that are intended only for programmers, not for translators.</li><li style="margin-bottom:0.3em">Comments belonging to a message are identified as all comments above that message after the last message parsed. This means if you use a commenting style where comments are immediately behind the message, you need to move them up above the message.</li><li style="margin-bottom:0.3em">In your .rc file, you might have used a single comment for a whole block of messages. If you want this comment to be seen by translators when they edit any of these messages, you need to duplicate it to each of the messages instead of having it only at the start of the block.</li></ul></ul><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">When you open up the .grd file, you will notice that some of your stringtable messages have been changed so that HTML code and <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">printf</tt> or<tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">FormatMessage</tt> format specifiers have been replaced with placeholders (<tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">&lt;ph&gt;</tt> nodes). For all placeholders that were put in place of <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">printf</tt> and<tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">FormatMessage</tt> format specifiers, the placeholder name starts as TODO_XXXX and the example is set to TODO. This allows you to go through the generated .grd file and replace the TODO_XXXX placeholder names with sensible names (ones that will help the translators) and the example text with an actual example of what might be put in place of this placeholder (for instance if the placeholder name is NUMBER then the example might just be "5").</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">The .grd file that gets generated will refer to your original .rc file for any menus, dialogs and version information resources. You can continue using e.g. the VisualStudio<a href="https://code.google.com/p/grit-i18n/w/edit/VisualStudio" style="color:rgb(0,0,204)">?</a> resource editor to edit these resources in the original .rc file. However, once you've started building your project using the .rc file generated from the .grd file by <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">grit build</tt>, you should delete stringtables and "includes" from your original .rc file as these should now be in the .grd file and you don't want people to get confused and edit them in the old location.</p><p style="line-height:1.25em;max-width:64em;font-family:arial,sans-serif;font-size:13.1199998855591px">Note that the <tt style="font-family:Monaco,DejaVu Sans Mono,Bitstream Vera Sans Mono,Lucida Console,monospace;font-size:12.2016000747681px;max-width:66em">grit rc2grd</tt> tool only supports symbolic resource IDs and will not transfer resources that are identified by string literals over to the .grd file. It is recommended not to use string literals as resource IDs.</p></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/developers/tools-we-use-in-chromium/grit/grit-users-guide">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXukca4jaDOG9SuQz_G8t7HlcQmo1Iw4xCtzgCC8-ufiGLAlyrCqG9v_8fy6NMUIK0dGd-MT3m3ANrgRZDCgTWbgoLlyzNZbk2WTLG7fYk1Mg5RPS15Xy2swxVow39RDYXHRpSKl/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
