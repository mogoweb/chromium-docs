<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="http://www.chromium.org/_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/how-tos","deleted":false,"title":"How-Tos","dir":"ltr"},{"path":"/developers/how-tos/gpu-wrangling","deleted":false,"title":"GPU Bots \u0026 Pixel Wrangling","dir":"ltr"}];
  var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttp://sites.google.com/a/chromium.org/dev/developers/how-tos/gpu-wrangling\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"http://csi.gstatic.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["http://www.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["http://www.gstatic.com/sites/p/56e332/system/js/codemirror.js","http://www.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","http://www.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","http://www.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","http://www.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers/how-tos","parentWuid":"wuid:gx:21c4408ba07e936a","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"GPU Bots \u0026 Pixel Wrangling","locale":"en","wuid":"wuid:gx:780807bd6c602eb7","revision":88,"path":"/developers/how-tos/gpu-wrangling","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"gpu-wrangling","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="GPU Bots &amp; Pixel Wrangling - The Chromium Projects" />
<meta itemprop="name" content="GPU Bots &amp; Pixel Wrangling - The Chromium Projects" />
<meta property="og:title" content="GPU Bots &amp; Pixel Wrangling - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="http://www.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="http://www.chromium.org/_/rsrc/1441580320000/system/app/css/overlay.css?cb=beigeandblueundefineda100%25%25150goog-ws-leftthemedefaultstandard" />
<link rel="stylesheet" type="text/css" href="http://www.chromium.org/_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>GPU Bots &amp; Pixel Wrangling - The Chromium Projects</title>
<meta itemprop="image" content="http://www.chromium.org/_/rsrc/1301593130304/developers/how-tos/gpu-wrangling/wrangler.png" />
<meta property="og:image" content="http://www.chromium.org/_/rsrc/1301593130304/developers/how-tos/gpu-wrangling/wrangler.png" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="http://www.chromium.org/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="http://www.chromium.org/_/rsrc/1438879449147/config/customLogo.gif?revision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="http://www.chromium.org/" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="http://www.chromium.org/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/chromium-projects" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../Home.html" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../chromium-os.html" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../for-testers/bug-reporting-guidelines.html" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../discussion-groups.html" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:fe204a485666144" class="sites-navigation-link">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="http://www.chromium.org/developers" dir="ltr">For Developers</A>‎ &gt; ‎<A href="http://www.chromium.org/developers/how-tos" dir="ltr">How-Tos</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">GPU Bots &amp; Pixel Wrangling</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><h3><a name="TOC-1"></a><font size="3"><span style="font-weight:normal;font-family:arial,sans-serif"><div style="display:inline;float:right;margin-top:5px;margin-right:10px;margin-bottom:5px;margin-left:10px"><a href="http://www.chromium.org/developers/how-tos/gpu-wrangling/wrangler.png?attredirects=0" imageanchor="1"><img border="0" src="http://www.chromium.org/_/rsrc/1301593130304/developers/how-tos/gpu-wrangling/wrangler.png" /></a></div><h3><a name="TOC-2"></a><font size="3"><span style="font-weight:normal;font-family:arial,sans-serif"><div><div class="sites-embed-align-left-wrapping-on"><div class="sites-embed-border-off sites-embed" style="width:250px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="gpu-wrangling.html#TOC-GPU-Pixel-Wrangling"><strong>1 </strong>GPU Pixel Wrangling</a></li><li class="goog-toc"><a href="gpu-wrangling.html#TOC-GPU-Bots"><strong>2 </strong>GPU Bots</a><ol class="goog-toc"><li class="goog-toc"><a href="gpu-wrangling.html#TOC-Waterfalls"><strong>2.1 </strong>Waterfalls</a></li><li class="goog-toc"><a href="gpu-wrangling.html#TOC-check_gpu_bots.py-Script"><strong>2.2 </strong>check_gpu_bots.py Script</a></li><li class="goog-toc"><a href="gpu-wrangling.html#TOC-Test-Suites"><strong>2.3 </strong>Test Suites</a></li><li class="goog-toc"><a href="gpu-wrangling.html#TOC-More-Details"><strong>2.4 </strong>More Details</a></li></ol></li><li class="goog-toc"><a href="gpu-wrangling.html#TOC-Wrangling"><strong>3 </strong>Wrangling</a><ol class="goog-toc"><li class="goog-toc"><a href="gpu-wrangling.html#TOC-Prerequisites"><strong>3.1 </strong>Prerequisites</a></li><li class="goog-toc"><a href="gpu-wrangling.html#TOC-How-to-Keep-the-Bots-Green"><strong>3.2 </strong>How to Keep the Bots Green</a></li><li class="goog-toc"><a href="gpu-wrangling.html#TOC-When-Bots-Misbehave-SSHing-into-a-bot-"><strong>3.3 </strong>When Bots Misbehave (SSHing into a bot)</a></li></ol></li><li class="goog-toc"><a href="gpu-wrangling.html#TOC-Updating-the-WebGL-Conformance-Tests"><strong>4 </strong>Updating the WebGL Conformance Tests</a></li></ol></div></div></div></div></div><br /></span></font></h3></span></font></h3><h2><a name="TOC-3"></a><br /></h2><h2><a name="TOC-4"></a><br /></h2><h2><a name="TOC-5"></a><br /></h2><h2><a name="TOC-6"></a><br /></h2><h2><a name="TOC-7"></a><br /></h2><h2><a name="TOC-8"></a><br /></h2><h2><a name="TOC-9"></a><br /></h2><h2><a name="TOC-10"></a><br /></h2><h2><a name="TOC-GPU-Pixel-Wrangling"></a>GPU Pixel Wrangling</h2><span style="font-weight:normal">GPU Pixel Wrangling is the process of keeping various GPU bots green. On the GPU bots, tests run on physical hardware with real GPUs, not in VMs like the majority of the bots on the Chromium waterfall.<br /></span><h2 dir="ltr" style="font-family:Times New Roman;font-weight:bold;font-size:medium;white-space:normal"><a name="TOC-GPU-Bots"></a><span style="font-size:19px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">GPU Bots</span></h2><h3 dir="ltr" style="font-family:Times New Roman;font-weight:bold;font-size:medium;white-space:normal"><a name="TOC-Waterfalls"></a><span style="font-size:16px;font-family:Arial;color:rgb(102,102,102);background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Waterfalls</span></h3><span style="font-family:Arial;font-weight:normal;font-size:15px;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">The waterfalls work much like any other; see the </span><a href="../testing/chromium-build-infrastructure/tour-of-the-chromium-buildbot.html" style="font-family:Times New Roman;font-weight:bold;font-size:medium;white-space:normal"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Tour of the Chromium Buildbot Waterfall</span></a><span style="font-family:Arial;font-weight:normal;font-size:15px;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"> for a more detailed explanation of how this is laid out. We have more subtle configurations because the GPU matters, not just the OS and release v. debug. Hence we have Windows Nvidia Release bots, Mac Intel Debug bots, and so on.</span><br /><br /><span style="font-family:Arial;font-weight:normal;font-size:15px;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">The waterfalls we’re interested in are:</span><ul style="margin-top:0pt;margin-bottom:0pt"><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:disc;background-color:transparent;vertical-align:baseline"><span style="background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Chromium GPU [</span><span style="color:rgb(17,85,204);background-color:transparent;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><a href="http://build.chromium.org/p/chromium.gpu/waterfall?reload=120" target="_blank">http://build.chromium.org/p/chromium.gpu/waterfall?reload=120</a></span><span style="background-color:transparent;vertical-align:baseline;white-space:pre-wrap">] [</span><a href="http://build.chromium.org/p/chromium.gpu/console?reload=120" target="_blank"><span style="color:rgb(17,85,204);background-color:transparent;vertical-align:baseline;white-space:pre-wrap">console view</span></a><span style="background-color:transparent;vertical-align:baseline;white-space:pre-wrap">]</span></li><ul style="font-family:Times New Roman;font-size:medium;font-weight:bold;margin-top:0pt;margin-bottom:0pt"><li style="list-style-type:circle;font-size:15px;font-family:Arial;background-color:transparent;font-weight:normal;vertical-align:baseline"><span style="white-space:pre-wrap">Various operating systems, configurations, GPUs, etc.</span></li></ul><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:disc;background-color:transparent;vertical-align:baseline"><span style="background-color:transparent;vertical-align:baseline;white-space:pre-wrap">WebKit GPU [</span><a href="http://build.chromium.org/p/chromium.webkit/waterfall?reload=120" target="_blank"><span style="color:rgb(17,85,204);background-color:transparent;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">http://build.chromium.org/p/chromium.webkit/waterfall?reload=120</span></a><span style="background-color:transparent;vertical-align:baseline;white-space:pre-wrap">] [</span><a href="http://build.chromium.org/p/chromium.webkit/console?reload=120" target="_blank"><span style="color:rgb(17,85,204);background-color:transparent;vertical-align:baseline;white-space:pre-wrap">console view</span></a><span style="background-color:transparent;vertical-align:baseline;white-space:pre-wrap">]:</span></li><ul style="font-family:Times New Roman;font-size:medium;font-weight:bold;white-space:normal;margin-top:0pt;margin-bottom:0pt"><li style="list-style-type:circle;font-size:15px;font-family:Arial;background-color:transparent;font-weight:normal;vertical-align:baseline"><span style="background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Uses the tip-of-tree WebKit instead of the version rolled into Chromium, better for finding regressions in WebKit</span></li><li style="list-style-type:circle;font-size:15px;font-family:Arial;background-color:transparent;font-weight:normal;vertical-align:baseline"><span style="background-color:transparent;vertical-align:baseline;white-space:pre-wrap">This waterfall has many non-GPU bots. Views of only the GPU bots: [<a href="http://build.chromium.org/p/chromium.webkit/waterfall?builder=GPU+Win+Builder&amp;builder=GPU+Win+Builder+%28dbg%29&amp;builder=GPU+Win7+%28NVIDIA%29&amp;builder=GPU+Win7+%28dbg%29+%28NVIDIA%29&amp;builder=GPU+Mac+Builder&amp;builder=GPU+Mac+Builder+%28dbg%29&amp;builder=GPU+Mac10.7&amp;builder=GPU+Mac10.7+%28dbg%29&amp;builder=GPU+Linux+Builder&amp;builder=GPU+Linux+Builder+%28dbg%29&amp;builder=GPU+Linux+%28NVIDIA%29&amp;builder=GPU+Linux+%28dbg%29+%28NVIDIA%29">waterfall view</a>] [<a href="http://build.chromium.org/p/chromium.webkit/console?builder=GPU+Win+Builder&amp;builder=GPU+Win+Builder+%28dbg%29&amp;builder=GPU+Win7+%28NVIDIA%29&amp;builder=GPU+Win7+%28dbg%29+%28NVIDIA%29&amp;builder=GPU+Mac+Builder&amp;builder=GPU+Mac+Builder+%28dbg%29&amp;builder=GPU+Mac10.7&amp;builder=GPU+Mac10.7+%28dbg%29&amp;builder=GPU+Linux+Builder&amp;builder=GPU+Linux+Builder+%28dbg%29&amp;builder=GPU+Linux+%28NVIDIA%29&amp;builder=GPU+Linux+%28dbg%29+%28NVIDIA%29">console view</a>]</span></li></ul><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">The GPU tryservers</span></font></li><ul><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">These bots run try jobs from "git cl try" or the Rietveld UI.</span></font></li><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">The GPU pixel wrangler needs to check that these bots are online, are running jobs correctly, and aren't overloaded.</span></font></li><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">Of course, try jobs may occasionally fail due to bad patches. This is normal.</span></font></li><li><span style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent">See the section below on making sure the try servers are in good health.</span></li><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">[</span><font color="#0066cc"><span style="font-size:15px;white-space:pre-wrap"><u>http://chromium-try-flakes.appspot.com/</u></span></font><span style="font-size:15px;white-space:pre-wrap">]</span></font></li></ul><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">To a lesser degree: the Chromium GPU FYI waterfall [<a href="http://build.chromium.org/p/chromium.gpu.fyi/waterfall?reload=120">http://build.chromium.org/p/chromium.gpu.fyi/waterfall?reload=120</a>][<a href="http://build.chromium.org/p/chromium.gpu.fyi/console" target="_blank">console view</a>]</span></font></li><ul><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">These bots run less-standard configurations like Windows XP, Linux with Intel GPUs, etc.</span></font></li><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">There are some longstanding failures on this waterfall. The Windows XP, Linux Intel, and Linux AMD bots have been red for a long time. Don't worry about these failures.</span></font></li><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">These bots build with top of tree ANGLE rather than the DEPS version. This means that the tree can go red, with no Chromium commit to blame, if commits to the ANGLE repository break compilation with Chromium. It is advisable to keep this waterfall green, and not to let it go red for long periods of time (12-24 hours).</span></font></li><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">Ignore the Win7 Audio and Linux Audio bots. They are not maintained by the Chrome GPU team and are <a href="http://crbug.com/416594" target="_blank">being decommissioned</a>.</span></font></li></ul></ul><div><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"><br /></span></font></div><div><h3 dir="ltr" style="font-family:Times New Roman;font-size:medium"><a name="TOC-check_gpu_bots.py-Script"></a><span style="font-size:16px;font-family:Arial;color:rgb(102,102,102);vertical-align:baseline;white-space:pre-wrap;background-color:transparent">check_gpu_bots.py Script</span></h3></div><div><span style="font-family:Arial;font-size:15px;white-space:pre-wrap">As an alternative to constantly watching the various waterfall pages listed above, check out the <a href="gpu-wrangling/check_gpu_bots-script.html">check_gpu_bots.py</a> script which can be configured to repeat periodically and email you if there's something that needs to be looked into.</span></div><br /><h3 dir="ltr" style="font-family:Times New Roman;font-weight:bold;font-size:medium;white-space:normal"><a name="TOC-Test-Suites"></a><span style="font-size:16px;font-family:Arial;color:rgb(102,102,102);background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Test Suites</span></h3><div><font size="3">The bots run several test suites. The majority of them have been migrated to the Telemetry harness, and are run within the full browser, in order to better test the code that is actually shipped. As of this writing, the tests included:</font></div><div><ul><li><font size="3">Tests using the Telemetry harness:</font></li><ul><li><font size="3">The WebGL conformance tests: src/content/test/gpu/gpu_tests/webgl_conformance.py</font></li><li><font size="3">A Google Maps test: src/content/test/gpu/gpu_tests/maps.py</font></li><li><font size="3">Context loss tests: src/content/test/gpu/gpu_tests/context_lost.py</font></li><li><font size="3">GPU process launch tests: src/content/test/gpu/gpu_tests/gpu_process.py</font></li><li><font size="3">Hardware acceleration validation tests: src/content/test/gpu/gpu_tests/hardware_accelerated_feature.py</font></li><li><font size="3">GPU memory consumption tests: src/content/test/gpu/gpu_tests/memory.py</font></li><li><font size="3">Pixel tests validating the end-to-end rendering pipeline: src/content/test/gpu/gpu_tests/pixel.py</font></li></ul><li><font size="3">content_gl_tests: see src/content/content_tests.gypi</font></li><li><font size="3">gles2_conform_test (requires internal sources): see src/gpu/gles2_conform_support/gles2_conform_test.gyp</font></li><li><font size="3">gl_tests: see src/gpu/gpu.gyp</font></li><li><font size="3">angle_unittests: see src/gpu/gpu.gyp</font></li></ul><font size="3">Additionally, the Release bots run:</font></div><div><ul><li><font size="3">tab_capture_performance_tests: see performance_browser_tests in src/chrome/chrome_tests.gypi and src/browser/extensions/api/tab_capture/tab_capture_performancetest.cc</font></li></ul></div><h3><a name="TOC-More-Details"></a><font size="3">More Details</font></h3><div><font size="3"><br /></font></div><div><font size="3">More details about the bots' setup can be found on the <a href="http://www.chromium.org/developers/testing/gpu-testing" target="_blank">GPU Testing</a> page.</font></div><div><h2 dir="ltr" style="font-family:Times New Roman;font-weight:bold;font-size:medium;white-space:normal"><a name="TOC-Wrangling"></a><span style="font-size:19px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Wrangling</span></h2><h3 dir="ltr" style="font-family:Times New Roman;font-weight:bold;font-size:medium;white-space:normal"><a name="TOC-Prerequisites"></a><span style="font-size:16px;font-family:Arial;color:rgb(102,102,102);background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Prerequisites</span></h3><ol style="margin-top:0pt;margin-bottom:0pt"><li style="white-space:normal;list-style-type:decimal;font-size:15px;font-family:Arial;background-color:transparent;font-weight:normal;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">Ideally a wrangler should be both committers on both the Blink and Chromium projects. If you're on the GPU pixel wrangling rotation, there will be an email notifying you of the upcoming shift, and a calendar appointment.</span></li><ul><li><span style="font-family:Arial;font-size:15px;white-space:pre-wrap;background-color:transparent">If you aren't a committer, don't panic. It's still best for everyone on the team to become acquainted with the procedures of maintaining the GPU bots.</span></li><li><span style="font-family:Arial;font-size:15px;white-space:pre-wrap;background-color:transparent">In this case you'll upload CLs to Rietveld to perform reverts (optionally using the new "Revert" button in the UI), and might consider using TBR= to speed through trivial and urgent CLs. In general, try to send all CLs through the commit queue.</span></li><li><span style="font-family:Arial;font-size:15px;white-space:pre-wrap;background-color:transparent">Contact bajones, kbr, vangelis, zmo, or another member of the Chrome GPU team who's already a committer for help landing patches or reverts during your shift.</span></li></ul><li style="white-space:normal;list-style-type:decimal;font-size:15px;font-family:Arial;background-color:transparent;font-weight:normal;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">Apply for </span><a href="https://sites.google.com/a/google.com/chrome-infrastructure/golo/remote-access?pli=1"><span style="color:rgb(71,18,100);vertical-align:baseline;white-space:pre-wrap">access to the bots</span></a><span style="vertical-align:baseline;white-space:pre-wrap">.</span></li></ol><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"><div><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"><br /></span></font></div></span></font><h3 dir="ltr"><a name="TOC-How-to-Keep-the-Bots-Green"></a><span style="background-color:transparent;color:rgb(102,102,102);font-family:Arial;white-space:pre-wrap">How to Keep the Bots Green</span></h3><ol style="margin-top:0pt;margin-bottom:0pt"><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">Watch for redness on the tree.</span></li><ol><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">The bots are expected to be green all the time. Flakiness on these bots is neither expected nor acceptable.</span></li><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">If a bot goes consistently red, it's necessary to figure out whether a recent CL caused it, or whether it's a problem with the bot or infrastructure.</span></li><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">If it looks like a problem with the bot (deep problems like failing to check out the sources, the isolate server failing, etc.) notify the Chromium troopers. See the general <a href="http://www.chromium.org/developers/tree-sheriffs">tree sheriffing page</a> for more details.</span></li><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">Otherwise, examine the builds just before and after the redness was introduced. Look at the revisions in the builds before and after the failure was introduced. Depending on whether you're looking at the Chromium or Blink trees, use either the Chromium or Blink revisions. Unfortunately, you'll need to construct your regression URL manually:</span></li><ol><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">For regressions on the Chromium tree: use <a href="http://build.chromium.org/f/chromium/perf/dashboard/ui/changelog.html?url=/trunk&amp;range=233637:233651" target="_blank">this URL</a> and replace "[rev1]" and "[rev2]" in the "range=[rev1]:[rev2]" URL query parameter</span></li><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">For regressions on the Blink tree: use <a href="http://build.chromium.org/f/chromium/perf/dashboard/ui/changelog_blink.html?url=/trunk&amp;range=161518:161518" target="_blank">this URL</a> and replace </span><span style="white-space:pre-wrap">"[rev1]" and "[rev2]" in the "range=[rev1]:[rev2]" URL query parameter</span></li></ol><li style="font-family:Arial;font-size:15px;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap"><b>File a bug</b> capturing the regression range and excerpts of any associated logs. Regressions should be marked P1. CC engineers who you think may be able to help triage the issue. Keep in mind that the logs on the bots expire after a few days, so make sure to add copies of relevant logs to the bug report.</span></li><li style="font-family:Arial;font-size:15px;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">Study the regression range carefully. <b>Changes outside the Chromium tree (i.e., in /trunk/tools/ rather than /trunk/src/) may break the GPU bots, because the GPU recipe which drives these bots is in the tools repository.</b></span></li><li style="font-family:Arial;font-size:15px;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="white-space:pre-wrap">Use drover to revert any CLs which break the GPU bots. In the revert message, provide a clear description of what broke, links to failing builds, and excerpts of the failure logs, because the build logs expire after a few days.</span></li></ol><li><span style="white-space:pre-wrap;font-family:Arial;background-color:transparent"><font size="3">M</font></span><span style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent">ake sure the bots are running jobs.</span></li><ol><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">Keep an eye on the console views of the various bots.</span></font></li><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">Make sure the bots are all actively processing jobs. If they go offline for a long period of time, the "summary bubble" at the top may still be green, but the column in the console view will be gray.</span></font></li><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">Email the Chromium troopers if you find a bot that's not processing jobs.</span></font></li></ol><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">Make sure the GPU try servers are in good health.</span></font></li><ol><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">The GPU try servers have been transitioned to the swarming infrastructure used by the other Chromium trybots. They are no longer distinct bots on a separate waterfall, but instead run as part of the regular tryjobs on the Chromium and Blink waterfalls. The GPU tests run as part of the following tryservers' jobs:</span></font></li><ol><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"><a href="http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_chromium_rel_ng" target="_blank">linux_chromium_rel_ng</a> on the <a href="http://build.chromium.org/p/tryserver.chromium.linux/waterfall" target="_blank">tryserver.chromium.linux</a> waterfall</span></font></li><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"><a href="http://build.chromium.org/p/tryserver.chromium.mac/builders/mac_chromium_rel_ng" target="_blank">mac_chromium_rel_ng</a> on the <a href="http://build.chromium.org/p/tryserver.chromium.mac/waterfall" target="_blank">tryserver.chromium.mac</a> waterfall</span></font></li><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"><a href="http://build.chromium.org/p/tryserver.chromium.win/builders/win_chromium_rel_ng" target="_blank">win_chromium_rel_ng</a> on the <a href="http://build.chromium.org/p/tryserver.chromium.win/waterfall" target="_blank">tryserver.chromium.win</a> waterfall</span></font></li><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"><a href="http://build.chromium.org/p/tryserver.blink/builders/linux_blink_rel" target="_blank">linux_blink_rel</a>, <a href="http://build.chromium.org/p/tryserver.blink/builders/mac_blink_rel" target="_blank">mac_blink_rel</a> and <a href="http://build.chromium.org/p/tryserver.blink/builders/win_blink_rel" target="_blank">win_blink_rel</a> on the <a href="http://build.chromium.org/p/tryserver.blink/waterfall" target="_blank">tryserver.blink</a> waterfall</span></font></li></ol><li><span style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent">The best tool to use to quickly find flakiness on the tryservers is the new </span><a href="http://chromium-try-flakes.appspot.com/" style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent" target="_blank">Chromium Try Flakes</a><span style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent"> tool. Look for the names of GPU tests (like maps_pixel_test) as well as the test machines (e.g. mac_chromium_rel_ng and mac_blink_rel). If you see a flaky test, file a bug like <a href="http://crbug.com/444430" target="_blank">this one</a>. Also look for compile flakes that may indicate that a bot needs to be clobbered. Contact the Chromium sheriffs or troopers if so.</span></li><li><span style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent">The </span><a href="https://chromium-swarm.appspot.com/stats" style="color:rgb(85,26,139);font-family:Arial;font-size:15px;white-space:pre-wrap" target="_blank">Swarming Server Stats</a><span style="font-family:Arial;font-size:15px;white-space:pre-wrap"> tool provides an overview of the health of these bots. Use the "gpu" drop-down to go through the supported GPU types and select the resulting dimension corresponding to one of the bots. (The Windows and Linux bots use the same GPU; it's best to examine them independently.) </span><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">Check the activity on these bots to ensure the number of pending jobs seems reasonable according to historical levels. Sign in with an @google.com account in order to examine individual bots' history and see the successes, failures and durations of tests on the bot.</span></font></li><li><span style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent">For more in-depth detail, examine the specific bots above. </span><span style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent">See if there are any pervasive build or test failures. </span><b style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent">Note</b><span style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent"> that test failures are </span><b style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent">expected</b><span style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent"> on these bots: individuals' patches may fail to apply, fail to compile, or break various tests. Look specifically for patterns in the failures. It isn't necessary to spend a lot of time investigating each individual failure. (Use the "Show: 200" link at the bottom of the page to see more history.)</span></li><li><span style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent">If the same set of tests are failing repeatedly, look at the individual runs. Examine the swarming results and see whether they're all running on the same machine. If they are, something might be wrong with the hardware. Use the <a href="https://chromium-swarm.appspot.com/stats" target="_blank">Swarming Server Stats</a> tool to drill down into the specific builder.</span></li><li><span style="font-size:15px;white-space:pre-wrap;font-family:Arial;background-color:transparent">If you see the same test failing in a flaky manner across multiple machines and multiple CLs, it's crucial to investigate why it's happening. <a href="http://crbug.com/395914">crbug.com/395914</a> was</span><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"> a recent example of an innocent-looking Blink change which made it through the commit queue and introduced widespread flakiness in a range of GPU tests. The failures were also most visible on the try servers as opposed to the main waterfalls.</span></font></li><li><font face="Arial"><span style="font-size:15px;white-space:pre-wrap">Use <a href="http://chrome-monitor.appspot.com/" target="_blank">Chrome Monitor</a> to see if any of the tryservers </span></font><span style="font-family:Arial;font-size:15px;white-space:pre-wrap">seem to be falling far behind (hundreds of jobs queued up). If so, email the Chromium troopers for help. Try to correlate the data with the swarming server stats to see whether the GPU tryservers have fallen behind.</span></li><ol><li><span style="font-family:Arial;font-size:15px;white-space:pre-wrap"><a href="http://chrome-monitor.appspot.com/list_graphs/linux_chromium_rel_ng" target="_blank">chrome-monitor for linux_chromium_rel_ng</a></span></li><li><span style="font-family:Arial;font-size:15px;white-space:pre-wrap"><a href="http://chrome-monitor.appspot.com/list_graphs/mac_chromium_rel_ng" target="_blank">chrome-monitor for mac_chromium_rel_ng</a></span></li><li><span style="font-family:Arial;font-size:15px;white-space:pre-wrap"><a href="http://chrome-monitor.appspot.com/list_graphs/win_chromium_rel_ng" target="_blank">chrome-monitor for win_chromium_rel_ng</a></span></li><li><span style="font-family:Arial;font-size:15px;white-space:pre-wrap"><a href="http://chrome-monitor.appspot.com/list_graphs/linux_blink_rel" target="_blank">chrome-monitor for linux_blink_rel</a></span></li><li><span style="font-family:Arial;font-size:15px;white-space:pre-wrap"><a href="http://chrome-monitor.appspot.com/list_graphs/mac_blink_rel" target="_blank">chrome-monitor for mac_blink_rel</a></span></li><li><span style="font-family:Arial;font-size:15px;white-space:pre-wrap"><a href="http://chrome-monitor.appspot.com/list_graphs/win_blink_rel" target="_blank">chrome-monitor for win_blink_rel</a></span></li></ol></ol><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">Check if any pixel test failures are actual failures or need to be rebaselined.</span></li><ol><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">For a given build failing the pixel tests, click the "stdio" link of the "pixel" step.</span></li><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">The output will contain a link of the form <a href="http://chromium-browser-gpu-tests.commondatastorage.googleapis.com/view_test_results.html?242523_Linux_Release_Intel__telemetry" target="_blank">http://chromium-browser-gpu-tests.commondatastorage.googleapis.com/view_test_results.html?242523_Linux_Release_Intel__telemetry</a></span></li><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">Visit the link to see whether the generated or reference images look incorrect.</span></li><li style="list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="font-family:Arial;font-size:15px;font-weight:normal;white-space:pre-wrap">All of the reference images for all of the bots are stored in cloud storage under the link </span><font face="Arial"><span style="font-size:15px;white-space:pre-wrap"><a href="https://storage.cloud.google.com/?arg=chromium-gpu-archive">https://storage.cloud.google.com/?arg=chromium-gpu-archive</a></span><span style="font-size:15px;white-space:pre-wrap">. They are under the folder "reference-images" and are indexed by version number, OS, GPU vendor, GPU device, and whether or not antialiasing is enabled in that configuration. You can download the reference images individually to examine them in detail.</span></font></li></ol><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">Rebaseline pixel test reference images if necessary.</span></li><ol><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">Increment the revision number of the particular test in src/content/test/gpu/page_sets/pixel_tests.json .</span></li><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">When this is committed, all of the bots will generate new reference images for the new version of the test.</span></li><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">Alternatively, if absolutely necessary, you can use the <a href="https://sites.google.com/a/google.com/client3d/documents/chrome-internal-gpu-pixel-wrangling-instructions" target="_blank">Chrome Internal GPU Pixel Wrangling Instructions</a> to delete just the broken reference images for a particular configuration.</span></li></ol><li><span style="white-space:pre-wrap;background-color:transparent;font-family:Arial;font-size:15px">Update Telemetry-based test expectations if necessary.</span></li><ol><li><span style="font-family:Arial;font-size:15px;white-space:pre-wrap;background-color:transparent">Most of the GPU tests are run inside a full Chromium browser, launched by Telemetry, rather than a Gtest harness. The tests and their expectations are contained in </span><a href="https://chromium.googlesource.com/chromium/src/+/master/content/test/gpu/gpu_tests/" style="font-family:Arial;font-size:15px;white-space:pre-wrap;background-color:transparent" target="_blank">src/content/test/gpu/gpu_tests/</a><span style="font-family:Arial;font-size:15px;white-space:pre-wrap;background-color:transparent"> . See for example </span><a href="https://chromium.googlesource.com/chromium/src/+/master/content/test/gpu/gpu_tests/webgl_conformance_expectations.py" style="font-family:Arial;font-size:15px;white-space:pre-wrap;background-color:transparent" target="_blank">webgl_conformance_expectations.py</a><span style="font-family:Arial;font-size:15px;white-space:pre-wrap;background-color:transparent"> , </span><a href="https://chromium.googlesource.com/chromium/src/+/master/content/test/gpu/gpu_tests/gpu_process_expectations.py" style="font-family:Arial;font-size:15px;white-space:pre-wrap;background-color:transparent" target="_blank">gpu_process_expectations.py</a><span style="font-family:Arial;font-size:15px;white-space:pre-wrap;background-color:transparent"> and </span><a href="https://chromium.googlesource.com/chromium/src/+/master/content/test/gpu/gpu_tests/pixel_expectations.py" style="font-family:Arial;font-size:15px;white-space:pre-wrap;background-color:transparent" target="_blank">pixel_expectations.py</a><span style="font-family:Arial;font-size:15px;white-space:pre-wrap;background-color:transparent">.</span></li><li><span style="white-space:pre-wrap;background-color:transparent;font-family:Arial;font-size:15px">See the header of the file a list of modifiers to specify a bot configuration. It is possible to specify OS (down to a specific version, say, Windows 7 or Mountain Lion), GPU vendor (NVIDIA/AMD/Intel), and a specific GPU device.</span></li><li><span style="white-space:pre-wrap;background-color:transparent;font-family:Arial;font-size:15px">The key is to maintain the highest coverage: if you have to disable a test, disable it only on the specific configurations it's failing. Note that it is not possible to discern between Debug and Release configurations.</span></li><li><span style="white-space:pre-wrap;background-color:transparent;font-family:Arial;font-size:15px">Mark tests failing or skipped, which will suppress flaky failures, only as a last resort. It is only really necessary to suppress failures that are showing up on the GPU tryservers, since failing tests no longer close the Chromium tree.</span></li><li><span style="white-space:pre-wrap;background-color:transparent;font-family:Arial;font-size:15px">Please read the section on <a href="http://www.chromium.org/developers/testing/gpu-testing#TOC-Stamping-out-Flakiness" target="_blank">stamping out flakiness</a> for motivation on how important it is to eliminate flakiness rather than hiding it.</span></li></ol><li style="font-family:Arial;font-size:15px;font-weight:normal;white-space:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="white-space:pre-wrap;background-color:transparent">For the remaining Gtest-style tests, use the modifiers DISABLE_ / FLAKY_ / etc. to suppress or disable any tests if necessary.</span></li><li style="font-family:Arial;font-size:15px;font-weight:normal;list-style-type:decimal;background-color:transparent;vertical-align:baseline"><span style="white-space:pre-wrap">(Rarely) Update the version of the WebGL conformance tests. See below.</span></li></ol><div><h3 dir="ltr"><a name="TOC-When-Bots-Misbehave-SSHing-into-a-bot-"></a><font color="#666666" face="Arial"><span style="white-space:pre-wrap">When Bots Misbehave (SSHing into a bot)</span></font></h3><div><ol><li><font color="#666666" face="Arial"><span style="white-space:pre-wrap">See the <a href="https://sites.google.com/a/google.com/client3d/documents/chrome-internal-gpu-pixel-wrangling-instructions" target="_blank">Chrome Internal GPU Pixel Wrangling Instructions</a> for information on ssh'ing in to the GPU bots.</span></font></li></ol></div><h2 style="font-family:Times New Roman;font-weight:bold;font-size:medium;white-space:normal"><a name="TOC-Updating-the-WebGL-Conformance-Tests"></a><span style="font-size:19px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Updating the WebGL Conformance Tests</span></h2><p><span style="background-color:transparent;font-family:Arial;font-size:medium;font-weight:normal;white-space:pre-wrap">Occasionally a bug in the WebGL conformance tests will be exposed by a WebKit roll, and the best solution is to roll forward to a new version of the WebGL conformance suite in which the bug has been fixed. In order to do this, follow the steps below.</span></p><ol><li><font face="Arial" size="3"><span style="white-space:pre-wrap">Visit <a href="https://chromium.googlesource.com/external/khronosgroup/webgl.git">https://chromium.googlesource.com/external/khronosgroup/webgl.git</a> with your browser.</span></font></li><li><font face="Arial" size="3"><span style="white-space:pre-wrap">Find the full git hash of the revision you want to roll to.</span></font></li><li><font size="3"><span style="white-space:pre-wrap"><font face="Arial">Modify the entry for </font><font face="courier new, monospace">src/third_party/webgl/src</font><font face="Arial"> in </font><font face="courier new, monospace">src/DEPS</font><font face="Arial"> with the new hash.</font></span></font></li><li><font face="Arial" size="3"><span style="white-space:pre-wrap">Send the CL to the GPU try servers (win_gpu, linux_gpu, mac_gpu).</span></font></li><li><font face="Arial" size="3"><span style="white-space:pre-wrap">If the CL looks good, commit it.</span></font></li><li><font face="Arial" size="3"><span style="white-space:pre-wrap">Watch the GPU bots on the various waterfalls. There are more OS and GPU combinations than the GPU servers can reasonably try. An update to the WebGL conformance suite is likely to fail on one or more bots.</span></font></li><li><font face="Arial" size="3"><span style="white-space:pre-wrap">Update the WebGL conformance suite expectations to suppress failures if necessary. File bugs about the need for these suppressions so they can be removed in the future.</span></font></li></ol><div><div><font face="Arial" size="4"><span style="white-space:pre-wrap"><b>Extending the GPU Pixel Wrangling Rotation</b></span></font></div><div><font face="Arial"><span style="font-size:15px;font-weight:normal;white-space:pre-wrap"><br /></span></font></div><div><font face="Arial"><span style="font-size:15px;font-weight:normal;white-space:pre-wrap">    See the <a href="https://sites.google.com/a/google.com/client3d/documents/chrome-internal-gpu-pixel-wrangling-instructions">Chrome Internal GPU Pixel Wrangling Instructions</a> for information on extending the rotation.<br /></span></font></div><div><font face="Arial"><span style="font-size:15px;font-weight:normal;white-space:pre-wrap"><span><br /></span></span></font></div></div></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages" class="sites-canvas-bottom-panel-wrapper" style="">
<div class="sites-subpages">
            Subpages <span id="subpages-total-number">(1):</span>
<span>
<a href="gpu-wrangling/check_gpu_bots-script.html" dir="ltr">check_gpu_bots script</a>
</span>
</div>
</div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=http://sites.google.com/a/chromium.org/dev/developers/how-tos/gpu-wrangling">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="http://www.chromium.org/system/app/pages/recentChanges">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="http://www.chromium.org/system/app/pages/reportAbuse" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="http://www.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9DcPERWQIFCA1tiv4vMYWJsAKkEeUz-llJbVJiVSVWXLtH0ZfeBFumJP-zO9it1s86N9MBUC2sIbbuCwFnHbPN-vQrYFmZCzDZbIAHcUp35V63OG8/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('http://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'http://csi.gstatic.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
