<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="../_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/gn-build-configuration","deleted":false,"title":"GN build configuration","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/developers/gn-build-configuration\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers","parentWuid":"wuid:gx:982466121d9f2cd","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"GN build configuration","locale":"en","wuid":"wuid:gx:7ad63aad0e418ff4","revision":31,"path":"/developers/gn-build-configuration","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"gn-build-configuration","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="GN build configuration - The Chromium Projects" />
<meta itemprop="name" content="GN build configuration - The Chromium Projects" />
<meta property="og:title" content="GN build configuration - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1441580320000/system/app/css/overlay.css%3Fcb=beigeandblueundefineda100%2525%2525150goog-ws-leftthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>GN build configuration - The Chromium Projects</title>
<meta itemprop="image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<meta property="og:image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="../index.html" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="../_/rsrc/1438879449147/config/customLogo.gif%3Frevision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="../index.html" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://www.chromium.org/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../chromium-projects.html" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../Home.1.html" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../chromium-os.1.html" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../for-testers/bug-reporting-guidelines.html" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="discussion-groups.html" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../developers.1.html" dir="ltr">For Developers</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">GN build configuration</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><span style="font-size:13.3333px">This page provides some common build setups for the GN build. It assumes you </span><span style="font-size:13.3333px">already <a href="how-tos/get-the-code.1.html">got a Chromium checkout</a>.</span><div><span style="font-size:13.3333px"><br /></span></div><div><span style="font-size:13.3333px"><br /></span><h2><a name="TOC-Understanding-GN-build-flags"></a>Understanding GN build flags</h2><div><div><span style="font-size:13.3333px;background-color:transparent">Recall that in GN, you pick your own build directory. These should generally go in a subdirectory of </span><font face="courier new, monospace" style="font-size:13.3333px;background-color:transparent">src/out</font><span style="font-size:13.3333px;background-color:transparent"> and should </span><i style="font-size:13.3333px;background-color:transparent">not</i><span style="font-size:13.3333px;background-color:transparent"> be </span><font face="courier new, monospace" style="font-size:13.3333px;background-color:transparent">Debug</font><span style="font-size:13.3333px;background-color:transparent"> or </span><font face="courier new, monospace" style="font-size:13.3333px;background-color:transparent">Release</font><span style="font-size:13.3333px;background-color:transparent"> which will collide with GYP. You set build arguments on a build directory by typing:</span></div><div><div style="font-size:13.3333px"><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">$ gn args out/mybuild</pre><div>This will bring up an editor. The format of the stuff in the args file is just GN code, so set variables according to normal GN syntax (true/false for booleans, double-quotes for string values, <font face="courier new, monospace">#</font> for comments). When you close the editor, a build will be made in that directory. To change the arguments for an existing build, just re-run this command on the existing directory.</div><div><br /></div><div><span style="font-size:13.3333px">You can get a list of all available build arguments for a given build directory, with documentation, by typing</span></div><div><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">$ gn args out/mybuild --list</pre></div><div>To get documentation for a single flag (in this example, <font face="courier new, monospace">is_component_build</font>):</div><div><div style="font-size:13.3333px"><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">$ gn args out/mybuild --list=is_component_build</pre><div><span style="font-size:13.3333px;background-color:transparent">You have to list your build directory as the first argument because the available arguments and their default values are build-specific. For example, setting Android as your target OS might expose new Android-specific build arguments or use different default values.</span></div><div><br /></div></div></div><div><div style="font-size:13.3333px"><span style="font-size:13.3333px">A mapping between GYP and GN flags is in the </span><a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/cookbook.md" style="font-size:13.3333px">GN Cookbook</a><span style="font-size:13.3333px">.</span></div></div><div style="font-size:13.3333px"><span style="font-size:13.3333px"><br /></span></div><div style="font-size:13.3333px"><span style="font-size:13.3333px"><br /></span></div></div></div><div><h2><a name="TOC-Typical-setup"></a>Typical setup</h2><div>Most developers use these arguments for normal development and debugging tasks:</div><h2><a name="TOC-is_component_build-true-enable_nacl-falseTurning-off-GYPIf-you-use-GN-as-your-primary-build-you-can-disable-GYP-to-save-time-when-syncing.-Do-not-skip-hooks.-Hooks-do-many-other-important-things-including-fetching-new-GN-binaries.-Running-gclient-with---no"></a><div style="font-size:13.3333px"><div style="font-size:13.3333px"><pre style="font-weight:normal;font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">is_component_build = true
enable_nacl = false</pre><div style="font-weight:normal"><br /></div><h2><a name="TOC-Turning-off-GYP"></a>Turning off GYP</h2><div><span style="font-weight:normal">If you use GN as your primary build, you can disable GYP to save time when syncing. </span><i>Do not skip hooks.</i><span style="font-weight:normal"> Hooks do many other important things, including fetching new GN binaries. Running gclient with <font face="courier new, monospace">--nohooks</font> will eventually cause your build to mysteriously fail. Instead:</span></div><div style="font-size:13.3333px;font-weight:normal"><div style="font-size:13.3333px"><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">$ export GYP_CHROMIUM_NO_ACTION=1</pre><div><span style="font-size:13.3333px;background-color:transparent">This will skip only the GYP execution phase of the hooks.</span></div><div><span style="font-size:13.3333px;background-color:transparent"><br /></span></div><div><span style="font-size:13.3333px;background-color:transparent">If later you want to generate a one-off GYP build, the fastest way is:</span></div><div style="font-size:13.3333px"><div style="font-size:13.3333px"><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">$ export GYP_CHROMIUM_NO_ACTION=0
$ python build/gyp_chromium</pre><div><br /></div></div></div></div></div><div style="font-weight:normal"><br /></div><div style="font-weight:normal"><br /></div></div></div>Common build variants</h2><h3><a name="TOC-Release-build"></a>Release build</h3><h3><a name="TOC-The-default-GN-build-is-debug.-To-do-a-release-build:"></a><span style="font-size:13.3333px;font-weight:normal">The default GN build is debug. To do a release build:</span></h3><h3><a name="TOC-is_debug-falseComponent-build"></a><div style="font-weight:normal;font-size:13.3333px"><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">is_debug = false</pre><div><br /></div></div>Component build</h3><div>The component build links many parts of Chrome into separate shared libraries to avoid the long link step at the end. Most developers use this mode for everyday builds and debugging. Startup will be slower and some linker optimizations won't work, so don't do benchmarks in this mode.</div><div style="font-size:13.3333px"><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">is_component_build = true</pre></div><h3><a name="TOC-Faster-builds-with-no-symbols"></a><br />Faster builds with no symbols</h3><div>Turning off symbols will make debugging almost impossible, but the build will be much faster. It can be useful in some cases where you just want a build ASAP (many build bots do this).</div><div style="font-size:13.3333px"><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">symbol_level = 0</pre></div><h3><a name="TOC-Disable-Native-Client"></a><br />Disable Native Client</h3><h3><a name="TOC-Most-developers-don-t-normally-need-to-test-Native-Client-capabilities-and-can-speed-up-the-build-by-disabling-it."></a><span style="font-size:13.3333px;font-weight:normal">Most developers don't normally need to test Native Client capabilities and can speed up the build by disabling it.</span></h3><div><div style="font-size:13.3333px"><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">enable_nacl = false</pre></div></div><h3><a name="TOC-Overriding-the-CPU-architecture"></a><br />Overriding the CPU architecture</h3><div>By default, the GN build will match that of the host OS and CPU architecture. To override:</div><div><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">target_cpu = "x86"</pre><div><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent">Note that GYP </font><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent">uses </font><font face="courier new, monospace" style="font-size:13.3333px;background-color:transparent">ia32</font><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent"> but GN uses </font><font face="courier new, monospace" style="font-size:13.3333px;background-color:transparent">"x86"</font><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent"> for Intel 32-bit architectures</font><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent">. </font><span style="font-size:13.3333px">Possible values for the <font face="courier new, monospace">target_cpu</font>:<br /></span><ul style="font-size:13.3333px"><li><span style="font-size:13.3333px;background-color:transparent">Windows supports </span><font face="courier new, monospace" style="font-size:13.3333px;background-color:transparent">"x86"</font><span style="font-size:13.3333px;background-color:transparent"> and </span><font face="courier new, monospace" style="font-size:13.3333px;background-color:transparent">"x64"</font><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent">. Since building is only supported on 64-bit machines, the default will always be </font><font face="courier new, monospace" style="font-size:13.3333px;background-color:transparent">"x64"</font><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent">.</font></li></ul><ul style="font-size:13.3333px"><li><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent">Mac supports only </font><span style="font-size:13.3333px;background-color:transparent"> </span><font face="courier new, monospace" style="font-size:13.3333px;background-color:transparent">"x64"</font><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent">.</font></li></ul></div></div><div><ul><li><span style="font-size:10pt;background-color:transparent">Desktop Linux and ChromeOS supports </span><font face="courier new, monospace" style="font-size:10pt;background-color:transparent">"x86"</font><span style="font-size:10pt;background-color:transparent"> and </span><font face="courier new, monospace" style="font-size:10pt;background-color:transparent">"x64"</font><span style="font-size:10pt;background-color:transparent">, but to build a 32-bit binary you will need to use a sysroot on a 64-bit machine. Unless you are doing an official build (see below), or targeting ChromeOS (follow the ChromeOS instructions for setting up), sysroot setup is left as an exercise to the reader. You might also theoretically try any of the ARM or MIPS architecture strings form the Android section below, but these aren't regularly tested and you will also need a sysroot.</span></li></ul></div><div><ul><li><span style="font-size:10pt;background-color:transparent">If you specify an Android build (see below) the default CPU architecture will be </span><font face="courier new, monospace" style="font-size:10pt;background-color:transparent">"arm"</font><span style="font-size:10pt;background-color:transparent">. You could try overriding it to </span><font face="courier new, monospace" style="font-size:10pt;background-color:transparent">"arm64"</font><span style="font-size:10pt;background-color:transparent">, </span><font face="courier new, monospace" style="font-size:10pt;background-color:transparent">"x86"</font><font face="arial, sans-serif" style="font-size:10pt;background-color:transparent">, </font><font face="courier new, monospace" style="font-size:10pt;background-color:transparent">"mipsel"</font><span style="font-size:10pt;background-color:transparent">, or </span><font face="courier new, monospace" style="font-size:10pt;background-color:transparent">"mips64el"</font><span style="font-size:10pt;background-color:transparent"> </span><span style="font-size:10pt;background-color:transparent">but the GN builds for these aren't regularly tested.</span></li></ul></div><h3><a name="TOC-Goma"></a><br />Goma</h3><h3><a name="TOC-Googlers-can-use-this-for-distributed-builds.-goma_dir-is-only-required-if-you-put-the-Goma-tools-in-a-non-standard-place-the-default-place-is-goma-or-C:-goma-goma-win-."></a><span style="font-size:13.3333px;font-weight:normal">Googlers can use this for distributed builds. <font face="courier new, monospace">goma_dir</font> is only required if you put the Goma tools in a non-standard place (the default place is <font face="courier new, monospace">~/goma</font> or <font face="courier new, monospace">C:\goma\goma-win</font>).</span></h3><h3><a name="TOC-use_goma-true-goma_dir-home-me-somewhere-goma-Optional-Official-Chrome-build"></a><div style="font-size:13.3333px;font-weight:normal"><div style="font-size:13.3333px"><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">use_goma = true
goma_dir = "/home/me/somewhere/goma"  # Optional
</pre><div><br /></div></div></div>Official Chrome build</h3><div>This build requires that you are a Googler with <font face="courier new, monospace">src-internal</font> checked out. On Linux, <i>before</i> running <font face="courier new, monospace">gn args</font>, run from the command-line:</div><h3><a name="TOC-export-GYP_DEFINES-buildtype-Official-branding-Chrome-gclient-runhooks"></a><pre style="font-size:10pt;font-weight:normal;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">$ export GYP_DEFINES='buildtype=Official branding=Chrome'
$ gclient runhooks<br /></pre></h3><div>The <font face="courier new, monospace">GYP_DEFINES</font> and <font face="courier new, monospace">gclient runhooks</font> steps are required on Linux because the hook that fetches the Linux sysroot still only look for GYP defines. On non-Linux platforms, you can skip this.</div><div><br /></div><div>Use these args for official builds:</div><div><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">is_official_build = true
is_chrome_branded = true
is_debug = false</pre></div><div><span style="font-size:13.3333px;background-color:transparent">For 32-bit official builds, use:</span></div><div style="font-size:13.3333px"><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">$ export GYP_DEFINES='buildtype=Official branding=Chrome target_arch=ia32'</pre></div><div><span style="font-size:13.3333px;background-color:transparent">on Linux for the first step, and append this arg to the above set:</span></div><div><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">target_cpu = "x86"</pre></div><div><br /></div><h3><a name="TOC-Android-build-from-Linux-"></a>Android build (from Linux)</h3><div>This assumes you've already followed the <a href="https://www.chromium.org/developers/how-tos/android-build-instructions">Android build instructions</a> to check out. </div><div><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">target_os = "android"<br /></pre><h3><a name="TOC-Unlike-with-GYP-it-is-easy-to-use-the-same-checkout-on-Linux-to-build-both-Android-and-desktop-Linux-versions-of-Chrome.-Your-.gclient-file-must-list-Android-however-to-get-the-proper-SDKs-downloaded.-This-will-happen-automatically-if-you-follow-the-Androi"></a><font face="arial, sans-serif" size="2" style="font-weight:normal">Unlike with GYP, it is easy to use the same checkout on Linux to build both Android and desktop Linux versions of Chrome. Your .gclient file must list Android, however, to get the proper SDKs downloaded. This will happen automatically if you follow the Android checkout instructions. To add this to an existing Linux checkout, add </font><font face="courier new, monospace" size="2" style="font-weight:normal">target_os</font><font face="arial, sans-serif" size="2" style="font-weight:normal"> to your </font><font face="courier new, monospace" size="2" style="font-weight:normal">.gclient</font><font face="arial, sans-serif" size="2" style="font-weight:normal"> file (in the directory above </font><font face="courier new, monospace" size="2" style="font-weight:normal">src</font><font face="arial, sans-serif" size="2" style="font-weight:normal">), and run </font><font face="courier new, monospace" size="2" style="font-weight:normal">gclient runhooks</font><font face="arial, sans-serif" size="2" style="font-weight:normal">.</font></h3><h3 style="font-size:13.3333px"><a name="TOC-solutions-...existing-stuff-in-here...-target_os-android-Add-this-to-get-Android-stuff-checked-out."></a><div style="font-size:13.3333px"><pre style="font-size:10pt;font-weight:normal;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">solutions = [<span style="font-size:10pt">
</span><span style="font-size:10pt">  ...existing stuff in here...
</span><span style="font-size:10pt">]
</span><span style="font-size:10pt;color:rgb(0,0,0);background-color:transparent"><span style="background-color:rgb(217,234,211)">target_os = [ 'android' ]</span><font color="#274e13"> </font></span><span style="font-size:10pt"> <i># Add this to get Android stuff checked out.</i></span></pre></div></h3><h3><a name="TOC-ChromeOS-build-from-Linux-"></a><font size="3"><br />ChromeOS build (from Linux)</font></h3><div style="font-size:13.3333px">This will build the ChromeOS variant of the browser that is distributed with the operating system. You can run it on your Linux desktop for feature development.</div><div style="font-size:13.3333px"><pre style="font-size:10pt;color:rgb(51,51,51);line-height:19px;padding:5px 20px;margin-left:20px;font-family:Consolas,Courier New;background-image:initial;background-color:rgb(238,238,238);background-repeat:initial">target_os = "chromeos"<br /></pre></div></div><div><br /></div></div></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/developers/gn-build-configuration">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9EG2NUzjzB2R8FhgXXEoecGm75rq3XD_VPYDGXz9RiPdq1znXKaVxbXzjDEYm9qB61xs2buGJMj0mcPesHYpERMnM0Noo9kpqTd1sfkoNdj9ZDl4i/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
