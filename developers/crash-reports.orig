<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="/_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/crash-reports","deleted":false,"title":"Crash Reports","dir":"ltr"}];
  var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttp://sites.google.com/a/chromium.org/dev/developers/crash-reports\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"http://csi.gstatic.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["http://www.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["http://www.gstatic.com/sites/p/56e332/system/js/codemirror.js","http://www.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","http://www.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","http://www.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","http://www.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers","parentWuid":"wuid:gx:982466121d9f2cd","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Crash Reports","locale":"en","wuid":"wuid:gx:2e7176e445913c9b","revision":21,"path":"/developers/crash-reports","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"crash-reports","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Crash Reports - The Chromium Projects" />
<meta itemprop="name" content="Crash Reports - The Chromium Projects" />
<meta property="og:title" content="Crash Reports - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="http://www.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/overlay.css?cb=beigeandblueundefineda100%25%25150goog-ws-leftthemedefaultstandard" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Crash Reports - The Chromium Projects</title>
<meta itemprop="image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<meta property="og:image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="http://www.chromium.org/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="http://www.chromium.org/" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-projects" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/Home" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-os" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/for-testers/bug-reporting-guidelines" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/developers/discussion-groups" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:fe204a485666144" class="sites-navigation-link">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="/developers" dir="ltr">For Developers</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Crash Reports</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr">The crash reporting system for Google Chrome is called <a href="https://code.google.com/p/google-breakpad/">Breakpad</a>, and it integrates into the Chromium source in <a href="https://code.google.com/p/chromium/codesearch#chromium/src/components/crash/">//components/crash</a>. Crash reporting is disabled by default in Chromium, and crash reports are only available to Google employees, though they are frequently copied into the bug tracker for tracking and fixing.
<div>
<div><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed" style="width:250px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-3"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Enabling-Breakpad"><strong>1 </strong>Enabling Breakpad</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-In-Chromium"><strong>1.1 </strong>In Chromium</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-On-Windows"><strong>1.1.1 </strong>On Windows</a></li><li class="goog-toc"><a href="#TOC-On-Linux"><strong>1.1.2 </strong>On Linux</a></li><li class="goog-toc"><a href="#TOC-On-Mac"><strong>1.1.3 </strong>On Mac</a></li></ol></li><li class="goog-toc"><a href="#TOC-Generating-Crash-Dumps-Locally"><strong>1.2 </strong>Generating Crash Dumps Locally</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-On-Windows1"><strong>1.2.1 </strong>On Windows</a></li><li class="goog-toc"><a href="#TOC-On-Linux1"><strong>1.2.2 </strong>On Linux</a></li><li class="goog-toc"><a href="#TOC-On-Mac1"><strong>1.2.3 </strong>On Mac</a></li></ol></li></ol></li><li class="goog-toc"><a href="#TOC-Life-of-a-Crash-Report"><strong>2 </strong>Life of a Crash Report</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Crash-Signatures"><strong>2.1 </strong>Crash Signatures</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Stack-Signature"><strong>2.1.1 </strong>Stack Signature</a></li><li class="goog-toc"><a href="#TOC-Stack-Signature-2"><strong>2.1.2 </strong>Stack Signature 2</a></li><li class="goog-toc"><a href="#TOC-Magic-Signature"><strong>2.1.3 </strong>Magic Signature</a></li></ol></li></ol></li><li class="goog-toc"><a href="#TOC-Working-with-Minidumps"><strong>3 </strong>Working with Minidumps</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Extracting-Local-Variables-on-POSIX"><strong>3.1 </strong>Extracting Local Variables on POSIX</a></li><li class="goog-toc"><a href="#TOC-Symbolizing-Minidumps"><strong>3.2 </strong>Symbolizing Minidumps</a></li></ol></li><li class="goog-toc"><a href="#TOC-Production-Debugging"><strong>4 </strong>Production Debugging</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Aliasing-Against-Optimizations"><strong>4.1 </strong>Aliasing Against Optimizations</a></li><li class="goog-toc"><a href="#TOC-Crash-Keys"><strong>4.2 </strong>Crash Keys</a></li><li class="goog-toc"><a href="#TOC-Checking-Out-a-Release-Branch"><strong>4.3 </strong>Checking Out a Release Branch</a></li></ol></li></ol></div></div></div></div></div>
<h1><a name="TOC-Enabling-Breakpad"></a>Enabling Breakpad</h1>
<div>Breakpad is disabled by default. The cross-platform way to turn on crash reporting is to perform an official, branded build of Chromium by setting <font face="courier new, monospace">GYP_DEFINES="buildtype=Official branding=Chrome"</font>, which will require a <a href="https://goto.google.com/src-internal">src-internal</a> checkout.</div>
<div><br />
</div>
<div>To enable Breakpad without doing a branded build, each platform has a unique way of enabling breakpad:</div>
</div>
<h2><a name="TOC-In-Chromium"></a>In Chromium</h2>
<h3><a name="TOC-On-Windows"></a>On Windows</h3>
<div>Breakpad is not a compile-time option on Windows. Instead, just build the <font face="courier new, monospace">crash_service</font> executable target, which is responsible for catching crashes. Run this before starting <font face="courier new, monospace">chrome.exe</font> with the <font face="courier new, monospace">--noerrdialogs</font> flag.</div>
<h3><a name="TOC-On-Linux"></a>On Linux</h3>
<div>Breakpad is compiled in, but is not enabled by default. See <font face="courier new, monospace">IsCrashReportingEnabled()</font> in <font face="courier new, monospace">chrome_browser_main_linux.cc</font> for details on when it is enabled.</div>
<div><br />
</div>
<div>Set the gyp variable (GYP_DEFINES) <span style="color:rgb(34,34,34)"><font face="courier new, monospace">linux_dump_symbols</font></span><font face="courier new, monospace">=1</font><span style="background-color:transparent;font-size:10pt"> to dump the debugging symbols for the <font face="courier new, monospace">chrome</font> binary in the Breakpad symbol format as part of a build.</span></div>
<h3><a name="TOC-On-Mac"></a>On Mac</h3>
<div>Mac uses <a href="https://crashpad.googlecode.com">Crashpad</a> as its crash reporter. Crashpad is always compiled in and enabled, though reports are only stored locally and not uploaded by default.</div>
<h2><a name="TOC-Generating-Crash-Dumps-Locally"></a>Generating Crash Dumps Locally</h2>
<div>After Breakpad is enabled, you can have crash report minidumps generated locally.</div>
<div><br />
</div>
<div>To get crash reports for content_shell and layout tests, see <a href="http://www.chromium.org/developers/testing/webkit-layout-tests/using-breakpad-with-content-shell">this page</a>.</div>
<div><br />
</div>
<h3><a name="TOC-On-Windows1"></a>On Windows</h3>
<div>Build and run the <font face="courier new, monospace">crash_service</font> executable target to enable crash catching. Run <font face="courier new, monospace">chrome.exe --noerrdialogs</font> to disable the OS-level error reporter, otherwise it will block the crash_service. Any crashes will then cause a minidump file (.dmp) and metadata sidecar (.txt) to be generated in <font face="courier new, monospace">%HOME%\AppData\Local\Chromium\User Data\Crash Reports</font>.</div>
<h3><a name="TOC-On-Linux1"></a>On Linux</h3>
<div><div>To make chromium write a .dmp file, run it like</div><div><br /></div><div>  <font face="courier new, monospace">CHROME_HEADLESS=1 out/Release/chrome</font></div></div>
<h3><a name="TOC-On-Mac1"></a>On Mac</h3>
<div>
<div>To make chromium write a .dmp file, no additional work is needed. <span style="font-size:10pt;background-color:transparent">Then go to "about:inducebrowsercrashforrealz", and the file is created in </span><font face="courier new, monospace" style="font-size:10pt;background-color:transparent">~/Library/Application\ Support/Chromium/Crashpad/completed</font><span style="font-size:10pt;background-color:transparent">:</span></div>
<div><br />
</div>
<div><font face="courier new, monospace">$ ls -l ~/Library/Application\ Support/Chromium/</font><span style="font-family:courier new,monospace;font-size:13.3333px;background-color:transparent">Crashpad/completed</span></div>
<div><font face="courier new, monospace">total 632</font></div>
<div><font face="courier new, monospace">-rw-------  1 thakis  5000  322016 Oct 11 14:53 ERR.dmp</font></div>
</div>
<h1><a name="TOC-Life-of-a-Crash-Report"></a>Life of a Crash Report</h1>
<div>When a Chrome process crashes, Breakpad springs into action by gathering information about the exception state, callstacks, stack memory, and loaded modules. It takes all of this information and puts it into a minidump file. This minidump is then HTTP POST uploaded to Google, along with some metadata. The metadata contains information like Chrome version, OS name and version, and <a href="http://www.chromium.org/developers/debugging-with-crash-keys">crash keys</a>.</div>
<div><br />
</div>
<div>Once the crash report and metadata are received, a server begins processing it. The first step is to symbolize the instruction pointers to get function names associated with the callstack. The processing servers have platform-neutral <a href="https://code.google.com/p/google-breakpad/wiki/SymbolFiles">Breakpad symbol files</a> for Chrome executables and operating system shared libraries, which allow symbolication of both Chrome functions and OS functions. <span style="background-color:transparent;font-size:10pt">After symbolizing the crash, the processor generates signatures to help group/bucket crash reports by their cause, implicated by shared stack frames.</span></div>
<div><span style="background-color:transparent;font-size:10pt"><br />
</span></div>
<div><span style="background-color:transparent;font-size:10pt">The tools used by the processor to symbolize the stack are effectively the same as the <font face="courier new, monospace">minidump_stackwalk</font> and <font face="courier new, monospace">minidump_dump</font> tools available in Breakpad.</span></div>
<div><br />
</div>
<div>Once a crash report is processed, it is made available for view in the <a href="https://goto.google.com/crash/root">crash dashboard</a>. The dashboard allows developers to drill down into crash reports, grouped by metadata. More documentation on this is available internally, linked to from the dashboard. The original minidump file can be downloaded from this frontend, as well.</div>
<h2><a name="TOC-Crash-Signatures"></a>Crash Signatures</h2>
<div>There are three types of signatures generated by the crash processor:</div>
<h3><a name="TOC-Stack-Signature"></a>Stack Signature</h3>
<div>The stack signature is the topmost symbol name in the crashed thread, suffixed with a small hash of the callstack. This signature provides a high-level grouping and easy identification (as it is human-readable), but it can collide across versions for different complete stack traces. Variance in the crashing thread's callstack can also produce several signatures for the same root cause.</div>
<h3><a name="TOC-Stack-Signature-2"></a>Stack Signature 2</h3>
<div>This signature is merely a hash of the crashed stack. This makes it accurate for grouping crashes precisely, but it is not human readable and slight variance in a crashed stack defeat this signature's bucketing properties.</div>
<h3><a name="TOC-Magic-Signature"></a>Magic Signature</h3>
<div>The magic signature is heuristic-based, using application-specific knowledge of the Chromium codebase to find the most germane symbol to produce a signature. The magic signature creator has knowledge of CHECK/DCHECK, hangs caught by the ThreadWatcher watchdog, out-of-memory conditions, memory corruption signs, and other heuristics. This signature is highly simplified, which gives it good bucketing properties and protection against callstack variance, but the signature can often be generated for disjoint crashes from different versions. More information can be found in the processor's <a href="https://goto.google.com/xgqgp">design document</a> and this <a href="https://goto.google.com/gvqex">explanation</a>.</div>
<h1><a name="TOC-Working-with-Minidumps"></a>Working with Minidumps</h1>
<div>The minidump format originated on Windows, and can be natively loaded into a <a href="http://www.chromium.org/developers/how-tos/debugging-on-windows#TOC-Debugging-with-WinDBG">debugger on that platform</a>. Doing this gives you access to local variables, callstacks, and integrates with the source viewer in Visual Studio.</div>
<div><br />
</div>
<div>On POSIX systems, however, a minidump is an opaque binary blob. It is possible to examine local variable state, but it requires manual work to do so. To work with minidumps, Breakpad provides two tools (<a href="http://www.chromium.org/developers/decoding-crash-dumps">more information here</a>):</div>
<br />
<b>minidump_stackwalk</b> prints the stack trace for all of the threads in the minidump. Note that without Breakpad symbol files, placed in a special directory structure, this will not symbolize the stack. It will merely print the %EIP, %EBP, and %ESP (or the x64 equivalent) for each frame and the code module in which the frame resides.<br />
<br />
<b>minidump_dump</b> outputs the stack memory for each thread as a hexadecimal string.
<div>
<h2><a name="TOC-Extracting-Local-Variables-on-POSIX"></a>Extracting Local Variables on POSIX</h2>
This is one workflow for manually analyzing a minidump:
<div>
<ol><li>Run minidump_dump and minidump_stackwalk on the target minidump file, piping output to text files.</li>
<li>Find the target thread in the stackwalk (via the threadid).</li>
<li>Find the corresponding target thread in the stackdump.</li>
<li>Take the raw stack data for that thread, and remove the 0x prefix.</li>
<li>Split the stack data on word-size boundaries (8 hexadecimal characters on a 32-bit platform).</li>
<li>Using the information from the stackwalk, annotate EIP, EBP, and ESP in the stackdump to delineate stack frames. Note that the byte order/endianness in the stackdump may not match host order, i.e. the pointer <font face="courier new, monospace">badbeef</font> may be represented in the minidump as <font face="courier new, monospace">efbedbba</font>.</li>
<li>Download the build products (executable and symbol file) for the version of Chrome you're working with. Disassemble the function you're interested in.</li>
<li>Step through the assembly and see how data is being pushed and popped off the stack, and try to correlate it to the data in the stackdump.</li>
</ol>
<div>Unfortunately, this process is neither straightforward nor quick. But there are alternatives for saving local variables to be visible in a crash report. See below for more information.</div>
</div>
<div><br />
</div>
<div>However, it may be possible to get most of the same information using <a href="http://www.chromium.org/developers/how-tos/debugging-on-windows#TOC-Debugging-with-WinDBG">WinDBG</a> on Windows. As long as the CPU architecture is supported by Windows, the debugger will be able to uderstand the exception record and disassemble the code around the exception, show call stacks (without symbols though), and let you inspect the contents of the stack and registers. That may be enough to get you going on a good percentage of crashes, especially since the symbolized stack may be available on the crash server.</div>
<div><br />
</div>
<div>See also <a href="http://www.chromium.org/chromium-os/how-tos-and-troubleshooting/crash-reporting/debugging-a-minidump">http://www.chromium.org/chromium-os/how-tos-and-troubleshooting/crash-reporting/debugging-a-minidump</a></div>
<h2><a name="TOC-Symbolizing-Minidumps"></a>Symbolizing Minidumps</h2>
<div>To symbolize a minidump that was not uploaded, you can use the <a href="https://goto.google.com/crsym/">crsym</a> tool (internal instance of <a href="https://github.com/chromium/crsym/">https://github.com/chromium/crsym/</a>):</div>
<div>
<ol><li>Build minidump_stackwalk from inside the Chromium or Breakpad trees.</li>
<li>Run <font face="courier new, monospace">minidump_stackwalk -m /path/to/minidump.dmp &gt; /tmp/stack.txt</font></li>
<li><span style="background-color:transparent;font-size:10pt">Go to </span><a href="https://goto.google.com/crsym/">crsym</a> and set the input type to be a Minidump Stackwalk.</li>
<li><span style="background-color:transparent;font-size:10pt">Paste the contents of /tmp/stack.txt into the input field.</span></li>
<li>Press the Symbolize button and wait for the output.</li>
</ol>
<div>To symbolize a minidump for a local build, follow the steps in <a href="https://code.google.com/p/chromium/issues/detail?id=304846#c14">https://code.google.com/p/chromium/issues/detail?id=304846#c14</a> for Mac, and see <a href="http://www.chromium.org/developers/decoding-crash-dumps">http://www.chromium.org/developers/decoding-crash-dumps</a> for linux.</div>
</div>
<h1><a name="TOC-Production-Debugging"></a>Production Debugging</h1>
<div>If a crash is not reproducible, the only tools at one's disposal for investigation are what can be gleaned from a crash report. These are some tips for debugging builds running in production (i.e. on users' machines).</div>
<h2><a name="TOC-Aliasing-Against-Optimizations"></a>Aliasing Against Optimizations</h2>
<div>Production builds are highly optimized to make the binary executable fast and small. As part of this, when the compiler is optimizing, it will reuse space on the stack for different variables. To defeat this optimization, you can use <font face="courier new, monospace">base::debug::Alias()</font> on the variable. This will attempt to force the compiler to keep dedicated space around for the variable, so that its value is inspectable in a minidump stackdump.</div>
<h2><a name="TOC-Crash-Keys"></a>Crash Keys</h2>
<div>Another way to make variable values accessible in a crash report is to report it as metadata, rather than keeping it in the minidump. The metadata is viewable in the crash dashboard and is not contained in the minidump file. Learn more about <a href="http://www.chromium.org/developers/debugging-with-crash-keys">debugging with crash keys here</a>.</div>
<h2><a name="TOC-Checking-Out-a-Release-Branch"></a>Checking Out a Release Branch</h2>
<div>Production builds are generally not cut from the tip of tree/trunk, but are branched and stabilized via the dev, beta, and stable release channels. <a href="https://code.google.com/p/chromium/wiki/UsingGit#Working_with_release_branches">Follow these instructions</a> for how to check out a release branch, which will give you the code for the version of the crash you're investigating.</div>
</div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages" class="sites-canvas-bottom-panel-wrapper" style="">
<div class="sites-subpages">
            Subpages <span id="subpages-total-number">(2):</span>
<span>
<a href="/developers/crash-reports/crash-with-invalid-handle" dir="ltr">Crash with invalid handle</a>
</span>
<span>
<a href="/developers/crash-reports/handle-file-upload-scheme" dir="ltr">Handle file upload scheme</a>
</span>
</div>
</div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=http://sites.google.com/a/chromium.org/dev/developers/crash-reports">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/recentChanges">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="http://www.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9lm5KNAXs_1c1O01CMYEJhiQo7MCu3DHzftgCszIhfq8ilmCdZiQj9YF-dbxup1lnG64DimArqvuw4te4OX5SU0PccXArdJPPKgqj01UU0qu0lPzN/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('http://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'http://csi.gstatic.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
