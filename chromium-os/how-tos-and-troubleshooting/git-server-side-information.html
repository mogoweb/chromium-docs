<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="../../_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/chromium-os","deleted":false,"title":"Chromium OS","dir":"ltr"},{"path":"/chromium-os/how-tos-and-troubleshooting","deleted":false,"title":"How Tos and Troubleshooting","dir":"ltr"},{"path":"/chromium-os/how-tos-and-troubleshooting/git-server-side-information","deleted":false,"title":"Git server-side information","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/chromium-os/how-tos-and-troubleshooting/git-server-side-information\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/chromium-os/how-tos-and-troubleshooting","parentWuid":"wuid:gx:72ecb36fa9c83ecd","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Git server-side information","locale":"en","wuid":"wuid:gx:6144b4f80f62e7dc","revision":49,"path":"/chromium-os/how-tos-and-troubleshooting/git-server-side-information","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"git-server-side-information","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Git server-side information - The Chromium Projects" />
<meta itemprop="name" content="Git server-side information - The Chromium Projects" />
<meta property="og:title" content="Git server-side information - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../../_/rsrc/1441580320000/system/app/css/overlay.css%3Fcb=beigeandblueundefineda100%2525%2525150goog-ws-leftthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../../_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Git server-side information - The Chromium Projects</title>
<meta itemprop="image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<meta property="og:image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="../../index.html" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="../../_/rsrc/1438879449147/config/customLogo.gif%3Frevision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="../../index.html" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://www.chromium.org/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../chromium-projects.html" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../Home.1.html" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../chromium-os.1.html" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../for-testers/bug-reporting-guidelines.html" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../developers/discussion-groups.html" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../../chromium-os.1.html" dir="ltr">Chromium OS</A>‎ &gt; ‎<A href="../how-tos-and-troubleshooting.1.html" dir="ltr">How Tos and Troubleshooting</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Git server-side information</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div class="sites-embed-align-right-wrapping-on"><div class="sites-embed-border-off sites-embed" style="width:350px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="git-server-side-information.html#TOC-Introduction"><strong>1 </strong>Introduction</a></li><li class="goog-toc"><a href="git-server-side-information.html#TOC-How-do-I-create-a-new-repository-on-the-git-server-"><strong>2 </strong>How do I create a new repository on the git server?</a></li><li class="goog-toc"><a href="git-server-side-information.html#TOC-How-do-I-add-files-to-a-new-repository-on-the-git-server-"><strong>3 </strong>How do I add files to a new repository on the git server?</a></li><li class="goog-toc"><a href="git-server-side-information.html#TOC-How-do-I-create-a-new-branch-on-the-git-server-"><strong>4 </strong>How do I create a new branch on the git server?</a></li><li class="goog-toc"><a href="git-server-side-information.html#TOC-How-do-I-add-my-project-to-the-manifest-"><strong>5 </strong>How do I add my project to the manifest?</a></li><li class="goog-toc"><a href="git-server-side-information.html#TOC-How-do-I-make-a-copy-of-an-upstream-repository-on-the-git-server-"><strong>6 </strong>How do I make a copy of an upstream repository on the git server?</a></li></ol></div></div></div></div>
<h2><a name="TOC-Introduction"></a>Introduction</h2>
<p>This guide contains some helpful recipes for the git source control tool that may be useful to developers working in Chromium OS.  The recipes here are focused on tasks related to maintaining the git server / adding new projects.</p>
<p><span style="font-size:10pt">Related pages:</span></p>
<div>
<ul><li><a href="../developer-guide.html" style="color:rgb(0,102,204);outline-style:none">The Chromium OS Developer Guide</a> - The main place for developers to get started.  Note that formatting / coloring conventions used on this page are explained on the developer guide.</li>
<li><a href="gclient-and-git-faq.html">The git client-side FAQ</a> - Contains recipes that are more common for everyday use.</li></ul>
</div>
<div>
<hr />
</div>
<h2><a name="TOC-How-do-I-create-a-new-repository-on-the-git-server-"></a>How do I create a new repository on the git server?</h2>
<ol><li>Talk to relevant people on IRC or the chromium-os-dev mailing list to make sure it's ok to add the new repositories</li>
<li>Open a <a href="https://code.google.com/p/chromium/issues/entry?template=Build%20Infrastructure&amp;labels=OS-Chrome,Pri-1,Infra,Infra-Git,Build,Restrict-View-Google" target="_blank">"Build Infrastructure" bug with label OS=Chrome</a>  to request the repository be created and who has access to it. If you are not a committer, please include the email address of a committer/sponsor who is working with you in the bug. Note that Build Infrastructure bugs are marked private to the build team and the reporter.</li>
</ol>
<p>Tips for getting your new repo created with minimal fuss:</p>
<ul><li style="font-family:arial;font-size:small">Be clear in the bug title that you are requesting a new git repo. </li>
<li style="font-family:arial;font-size:small">Say whether it should be on chromium.googlesource.com (public) or chrome-internal.googlesource.com (not public).</li>
<li><font face="arial" size="2">Provide a project path and name for the new repository. For public repos, the path should start with /chromiumos/. For private repos, the path should start with /chromeos/. Look at existing projects in <a href="https://chromium.googlesource.com/">git</a> or <a href="https://chrome-internal.googlesource.com/">git-internal</a> for precedents on the path to use.</font></li>
<li style="font-family:arial;font-size:small">Note: You don't need to go into too much detail about why the repo is needed.</li></ul>
<div>
<hr />
</div>
<h2><a name="TOC-How-do-I-add-files-to-a-new-repository-on-the-git-server-"></a>How do I add files to a new repository on the git server?</h2>
<p>Do this <b><font color="#ff0000">OUTSIDE</font></b> your local chromiumos source tree.  You will not be adding the files directly, but starting by adding them via a Gerrit CL.  Once the CL is uploaded and reviewed, you can use Gerrit to complete pushing the CL into the repository.</p>
<p>You'll want to set the <code>repo</code> shell variable to the name of your repository (e.g. trunks) before starting, and <span style="color:rgb(0,96,0);font-family:monospace">repo-path </span>to the full server-side path (e.g. chromiumos/platform/trunks.git).</p>
<div class="sites-codeblock sites-codesnippet-block">
<code>mkdir ${repo}<br />
cp -rp /my/repo/seed/contents/* ${repo}<br />
cd ${repo}<br />
git init<br />
git add .<br />
git commit -am "init repo"<br />
<br />
# somelabel is just a throwaway pointer (name) used between the following 2 commands<br />
git remote add somelabel https://chromium-review.googlesource.com/${repo-path}<br />
git push somelabel HEAD:refs/for/master  # Creates Gerrit Issue</code></div>
<p><b><font color="#ff0000">IMPORTANT</font></b>: One of your files should be a <font face="'courier new', monospace"><a href="../chromiumos-design-docs/source-code-management.1.html#TOC-Package-database" style="color:rgb(71,18,100);outline-style:none">README.chromium</a></font> file.  Another should probably be a <code>LICENSE</code> file, which is pointed to by the <code>README.chromium</code> file. (Note: This applies mostly to local copies of upstream repos, typically in src/third-party.  We don't seem to follow this rule for repos in src/platform.)</p>
<div>
<hr />
</div>
<h2><a name="TOC-How-do-I-create-a-new-branch-on-the-git-server-"></a>How do I create a new branch on the git server?</h2>
<p><font color="#ff0000"><b>IMPORTANT</b></font>: Only authorized server branch owners can do this. You know who you are :)</p>
<p>Once you are in a local repository and want to replicate a local branch on the server, use the following commands:</p>
<div class="sites-codeblock sites-codesnippet-block">
<code># If not yet added - add the remote server to your git repository<br />
# `somelabel' is just a throwaway pointer (name) used between the following<br />
# 2 commands<br />
git remote add somelabel https://chromium-review.googlesource.com/${repo-path}<br />
# This is the actual push which will create a branch named &lt;remote-branch-name&gt;<br />
# on the server with the contents of the &lt;local-branch-name&gt; from the local<br />
# repository.<br />
git push somelabel &lt;local-branch-name&gt;:refs/heads/&lt;remote-branch-name&gt;</code></div>
<div>
<hr />
</div>
<h2><a name="TOC-How-do-I-add-my-project-to-the-manifest-"></a>How do I add my project to the manifest?</h2>
<p><b style="color:rgb(255,0,0)">IMPORTANT NOTE: Please verify that this repo is public and non-empty before adding it to a manifest.xml file.</b></p>
<ol>
<li>Update the <code>full.xml</code> file in the <code>manifest-internal</code> and <code>manifest</code> repositories.</li>
<ul><li>They are included in the root of your Chromium OS check out to make your life easier (use `repo upload` like normal).</li>
<li>Note: the <code>default.xml</code> should be a symlink to <code>full.xml</code>; all the other files in there you can generally ignore.</li>
<li>Note: if you're using a public checkout, it only includes the public <code>manifest</code> repository.</li>
</ul>
<li>Please follow the style for the section you're adding to (which usually means alphabetical order).</li><li>See the <a href="../developer-guide/directory-structure.html">Directory Structure page</a> for guidelines as to where to put the new repository in the checkout.</li>
<li>To test your change with <code>repo sync</code>, you'll need to apply it to the <code>.repo/manifests/</code> directory within your Chromium OS checkout.</li>
<ul><li>This will verify that you didn't make an error in the XML format, and that the repository is being checked out to the location you expect.</li></ul></ol>
<div class="sites-codeblock sites-codesnippet-block">
<code><b># Change to the internal manifest</b><br />
cd ~/chromiumos/manifest-internal<br />
<b># Add your project in alphabetical order</b><br />
vi full.xml<br />
<b># Commit it locally like normal</b><br />
git commit -a<br />
<b># Upload it to the server</b><br />
repo upload --cbr .<br />
<br />
<b># Repeat all the above steps for the public manifest</b><br />
cd ~/chromiumos/manifest/<br />
...<br />
<br />
<b># Apply the change to your local checkout and verify it</b><br />
cd ~/chromiumos/manifest-internal/<br />
git format-patch -1<br />
mv 0001-* ~/chromiumos/.repo/manifests/<br />
cd ~/chromiumos/.repo/manifests/<br />
git am -3 0001-*<br />
cd ~/chromiumos<br />
repo sync<br />
... verify it checked out the repo to the right place ...<br />
... undo the changes you made to .repo/manifests/ if you want ...<br />
</code></div>
<div>
<hr />
</div>
<h2><a name="TOC-How-do-I-make-a-copy-of-an-upstream-repository-on-the-git-server-"></a>How do I make a copy of an upstream repository on the git server?</h2>
<ol style="list-style-type:decimal">
<li>Talk to relevant people on IRC or the chromium-os-dev mailing list to make sure it's ok to add the new repositories</li>
<li><a href="git-server-side-information.html#TOC-How-do-I-create-a-new-repository-on">Create a new chromium-os repo</a> for your new repository.</li>
<li>Ask chrome-infrastructure team for giving you permission to do perform merges and push branches on this repository.</li>
<li>Initialize the initial set of branches. Example below:</li>
</ol>
<div class="sites-codeblock sites-codesnippet-block">
<code># The upstream git repository is at:<br />
# http://example.com/example.git<br />
# The corresponding chromium os repo is:<br />
# https://chromium.googlesource.com/repo.git<br />
<br />
git clone http://example.com/example.git<br />
cd example<br />
<br />
# chromiumoslabel is just a pointer to our chromium os repository<br />
# (where you want the upstream repo to be<br />
<br />
git remote add chromiumoslabel https://chromium.googlesource.com/repo.git<br />
<br />
# Now push a given commit hash from the upstream repo to the chromiumos copy.
# Here we are pushing HEAD from the upstream repo as the master<br />
# branch on the chromium os copy. You can also use a specific<br />
# commit hash (man git-push for details).<br />
git push chromiumoslabel HEAD:refs/heads/master<br />
<br />
# Now also create a new branch on repo.git which may be used<br />
# to track upstream, pull in new patches, etc.<br />
git push chromiumoslabel HEAD:refs/heads/upstream<br />
<br />
# Finally, do not forget to add a README.chromium to the master<br />
# branch (This should be done as a normal Gerrit code review.)
</code></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/chromium-os/how-tos-and-troubleshooting/git-server-side-information">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9HjSzpV7UJeWDKvXihf3bEqagaPZ82m6zFX8POK00j9Y_2g9F8rff65qchidpQzeUm3pU5ZlDOt8r7phQi40hs2sTErRgxX0XTanLiJ1sKd_bVjIb/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
