<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="../../../_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/chromium-os","deleted":false,"title":"Chromium OS","dir":"ltr"},{"path":"/chromium-os/testing","deleted":false,"title":"Testing Home","dir":"ltr"},{"path":"/chromium-os/testing/test-code-labs","deleted":false,"title":"Test Code Labs","dir":"ltr"},{"path":"/chromium-os/testing/test-code-labs/autotest-client-tests","deleted":false,"title":"Autotest Client Tests","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/chromium-os/testing/test-code-labs/autotest-client-tests\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/chromium-os/testing/test-code-labs","parentWuid":"wuid:gx:80a620e4fb3984","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Autotest Client Tests","locale":"en","wuid":"wuid:gx:773909c4b81690b1","revision":125,"path":"/chromium-os/testing/test-code-labs/autotest-client-tests","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"autotest-client-tests","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Autotest Client Tests - The Chromium Projects" />
<meta itemprop="name" content="Autotest Client Tests - The Chromium Projects" />
<meta property="og:title" content="Autotest Client Tests - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../../../_/rsrc/1441580320000/system/app/css/overlay.css%3Fcb=beigeandblueundefineda100%2525%2525150goog-ws-leftthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../../../_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Autotest Client Tests - The Chromium Projects</title>
<meta itemprop="image" content="https://docs.google.com/a/google.com/drawings/d/szgUiW_L7jkUJospRoV-dlQ/image?w=668&amp;h=107&amp;rev=1&amp;ac=1" />
<meta property="og:image" content="https://docs.google.com/a/google.com/drawings/d/szgUiW_L7jkUJospRoV-dlQ/image?w=668&amp;h=107&amp;rev=1&amp;ac=1" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="../../../index.html" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="../../../_/rsrc/1438879449147/config/customLogo.gif%3Frevision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="../../../index.html" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://www.chromium.org/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../../chromium-projects.html" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../Home.1.html" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../chromium-os.1.html" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../../for-testers/bug-reporting-guidelines.html" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../developers/discussion-groups.html" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../../../chromium-os.1.html" dir="ltr">Chromium OS</A>‎ &gt; ‎<A href="../../testing.1.html" dir="ltr">Testing Home</A>‎ &gt; ‎<A href="../test-code-labs.1.html" dir="ltr">Test Code Labs</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Autotest Client Tests</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><h1 dir="ltr" style="line-height:1.15;margin-top:24pt;margin-bottom:6pt"><a name="TOC-References"></a><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:bold;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="4"><div><br /></div><div><div class="sites-embed-align-right-wrapping-on"><div class="sites-embed-border-off sites-embed" style="width:250px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-3"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-References"><strong>1 </strong>References</a></li><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-Overview"><strong>2 </strong>Overview</a><ol class="goog-toc"><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-Background"><strong>2.1 </strong>Background</a></li><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-Prerequisites"><strong>2.2 </strong>Prerequisites</a></li><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-Objectives"><strong>2.3 </strong>Objectives</a></li></ol></li><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-Running-a-test-on-the-client"><strong>3 </strong>Running a test on the client</a><ol class="goog-toc"><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-Through-test_that"><strong>3.1 </strong>Through test_that</a></li><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-Directly-on-the-DUT"><strong>3.2 </strong>Directly on the DUT</a></li></ol></li><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-Editing-a-Test"><strong>4 </strong>Editing a Test</a></li><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-Writing-a-New-Test"><strong>5 </strong>Writing a New Test</a><ol class="goog-toc"><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-Emerging-and-Running"><strong>5.1 </strong>Emerging and Running</a></li><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-Checking-results"><strong>5.2 </strong>Checking results</a></li><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-Import-helpers"><strong>5.3 </strong>Import helpers</a></li><li class="goog-toc"><a href="autotest-client-tests.1.html#TOC-run_once-cleanup-and-initialize"><strong>5.4 </strong>run_once, cleanup and initialize</a></li></ol></li></ol></div></div></div></div><span style="background-color:transparent;font-weight:normal;line-height:1.15">References </span></div></font></span></h1><span><ul><li><a href="http://www.chromium.org/chromium-os/testing/autotest-best-practices" style="line-height:1.15;text-indent:36pt;font-size:10pt;text-decoration:none"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Autotest Best Practices</span></a></li><li><a href="http://git.chromium.org/gitweb/?p=chromiumos/third_party/autotest.git;a=blob;f=CODING_STYLE;h=777cc1de3e409a69581ae44a9432d8634dc114e6;hb=HEAD" style="line-height:1.15;text-indent:36pt;font-size:10pt;text-decoration:none"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Autotest Coding Style Guide</span></a></li><li><a href="../autotest-developer-faq.html#TOC-Writing-Autotests" style="line-height:1.15;text-indent:36pt;font-size:10pt;text-decoration:none"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Writing Autotests</span></a></li><li><a href="dynamic-suite-codelab.html" style="line-height:1.15;text-indent:36pt;font-size:10pt;text-decoration:none" target="_blank"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Dynamic Suites Codelab</span></a></li><li><a href="server-side-test.1.html" style="line-height:1.15;text-indent:36pt;font-size:10pt;text-decoration:none" target="_blank"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Server Side Autotests Codelab</span></a></li><li><span style="text-indent:36pt;text-decoration:underline;font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><a href="autotest-client-tests/autotest-results-logs.html" target="_blank">Result logs </a></span><span style="text-indent:36pt;white-space:pre;background-color:transparent;font-family:Arial;font-size:15px;line-height:1.15"> </span></li><li><span style="text-indent:36pt;text-decoration:underline;font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><a href="autotest-client-tests/autotest-client-helper-libraries.html" target="_blank">Client helper libraries</a></span></li><li><a href="autotest-client-tests/basic-ebuild-troubleshooting.html" style="font-size:10pt;line-height:normal;text-decoration:none" target="_blank"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Troubleshooting ebuild files</span></a></li></ul><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt;text-indent:36pt"><a href="http://www.chromium.org/chromium-os/testing/autotest-best-practices" style="text-decoration:none"></a></p></span><div><span><h1 dir="ltr" style="line-height:1.15;margin-top:24pt;margin-bottom:6pt"><a name="TOC-Overview"></a><span style="font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><font size="5">Overview</font></span></h1><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">In this codelab, you will build a client-side Autotest to check the disk and cache throughput of a ChromiumOS device. You will learn how to:</span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt;text-indent:36pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">1. Setup the environment needed for autotest</span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt;text-indent:36pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">2. Run and edit a test</span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt;text-indent:36pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">3. Write a new test and control file</span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt;text-indent:36pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">4. Check results of the test</span></p><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">In the process of doing so you will also learn a little about the autotest framework.</span></span><div><font face="Arial"><span style="font-size:15.454545021057129px;white-space:pre-wrap"><br /></span></font><div><span><h3><a name="TOC-Background"></a><span style="font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><font size="3">Background</font></span></h3><p style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Autotest is an open source project designed for testing the linux kernel. Before starting this codelab you might benefit from scrolling through some </span><a href="https://github.com/autotest/autotest/wiki/AddingTest" style="text-decoration:none"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">upstream documentation</span></a><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"> on autotest client tests. Autotest is responsible for managing the state of multiple client devices as a distributed system, by integrating a web interface, database, servers and the clients themselves. Since this codelab is about client tests, what follows is a short description of how autotest runs a specific test, on one client. </span></p><p style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15"><br /></span></p><p style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15">Autotest looks through all directories in client/tests and client/site_tests for simple python files that begin with ‘control.’. These files contain a list of variables, and a call to job.run_test. The control variables tell autotest when to schedule the test, and the call to run_test tells autotest how. Each test instance is part of a job. Autotest creates this job object and forks a child process to execute its control file.</span></p></span><span><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><img height="107px;" src="https://docs.google.com/a/google.com/drawings/d/szgUiW_L7jkUJospRoV-dlQ/image?w=668&amp;h=107&amp;rev=1&amp;ac=1" width="668px;" /></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:11px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Note the exec mentioned above is the python keyword, not os.exec</span></p><br /><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Tests reside in a couple of key locations in your checkout, and map to similar locations on the DUT (Device Under Test). Understanding the layout of these directories might give you some perspective:</span></p><ul><li><span style="background-color:transparent;font-family:Arial;white-space:pre-wrap;line-height:1.15"><code><font size="3">&lt;cros_checkout&gt;/chromium/src/chrome/test/functional</font></code><span style="font-size:15px">: holds chrome/chromeos functional tests. </span></span></li><ul><li><span style="background-color:transparent;font-family:Arial;font-size:15px;line-height:1.15;white-space:pre-wrap">These include pyauto tests, </span><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">but not autotest tests (Note: pyauto is deprecated). </span></li><li><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">On the DUT, these map to: </span><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15">/usr/local/autotest/deps/chrome_test/test_src/chrome/test/functional/</span></li></ul><li><span style="background-color:transparent;font-family:Arial;white-space:pre-wrap;line-height:1.15"><code><font size="3">&lt;cros_checkout&gt;/src/third_party/autotest/client/site_tests</font></code><span style="font-size:15px">: holds autotest tests. </span></span></li><ul><li><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15">On the DUT, these map to /usr/local/autotest/tests.</span></li></ul><li><span style="background-color:transparent;font-family:Arial;white-space:pre-wrap;line-height:1.15"><code><font size="3">&lt;cros_checkout&gt;/src/platform/factory</font></code><span style="font-size:15px">: holds some private factory tests, although the bulk of factory tests reside in site_tests.</span></span></li></ul><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Please consult the </span><a href="dynamic-suite-codelab.html" style="text-decoration:none" target="_blank"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">dynamic suite codelab</span></a><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"> to understand how your tests can run as a suite.</span></span></div><div><span><h2><a name="TOC-Prerequisites"></a><span style="font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><font size="3">Prerequisites</font></span></h2><ul style="margin-top:0pt;margin-bottom:0pt"><li dir="ltr" style="list-style-type:disc;font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline"><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">chroot build environment.</span></p></li><li dir="ltr" style="list-style-type:disc;font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline"><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Autotest source, basic python knowledge.</span></p></li></ul><h2><a name="TOC-Objectives"></a><span style="font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><font size="3">Objectives</font></span></h2><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:#ffffff;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">In this codelab, we will:</span></p><ul style="margin-top:0pt;margin-bottom:0pt"><li dir="ltr" style="list-style-type:disc;font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline"><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:#ffffff;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Run a test, edit and rerun a test on the client device</span></p></li><li dir="ltr" style="list-style-type:disc;font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline"><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:#ffffff;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Write a new test from scratch</span></p></li><li dir="ltr" style="list-style-type:disc;font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline"><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:#ffffff;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">View and collect results of the test</span></p></li><li dir="ltr" style="list-style-type:disc;font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline"><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:#ffffff;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Get an overview of how autotest on the client works</span></p></li><li dir="ltr" style="list-style-type:disc;font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline"><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:#ffffff;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Get an overview of the classes and libraries available to help you write tests.</span></p></li></ul><h1 dir="ltr" style="line-height:1.15;margin-top:24pt;margin-bottom:6pt"><a name="TOC-Running-a-test-on-the-client"></a><span style="font-size:24px;font-family:Arial;color:#000000;background-color:transparent;font-weight:bold;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Running a test on the client</span></h1></span><span><br /><div><font size="3">First, get the autotest source:</font></div></span><span><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">a. If you </span><a href="../../developer-guide.html" style="text-decoration:none"><span style="font-size:15px;font-family:Arial;color:#1155cc;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Got the Code</span></a><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:bold;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">, </span><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">you already have autotest.</span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">b. If you do not wish to sync the entire source and reimage a device, you can run tests in a vm.</span></p><ul><li><a href="https://sites.google.com/a/google.com/chromeos/for-team-members/lab/gsutil-setup" style="line-height:1.15;font-size:10pt;text-decoration:none"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Install gsutils</span></a></li><li><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15">Get an image</span></li><ul><li><span style="background-color:transparent;font-family:Arial;white-space:pre-wrap;line-height:1.15"><span style="font-size:15px"> Select your image, e.g.,
</span><div class="sites-codeblock sites-codesnippet-block"><code><font size="3">gsutil ls gs://chromeos-releases/dev-channel/lumpy/*</font></code></div></span></li><li><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15"> </span><span style="background-color:transparent"><font face="Arial"><span style="font-size:15px;line-height:1.15;white-space:pre-wrap">Copy your image, e.g.,
</span><span style="line-height:13.800000190734863px;white-space:pre-wrap"><div class="sites-codeblock sites-codesnippet-block"><code><font size="3">gsutil cp gs://chromeos-releases/dev-channel/lumpy/3014.0.0/ChromeOS-R24-3014.0.0-lumpy.zip ./</font></code></div></span></font></span></li><li><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15"> </span><span style="background-color:transparent"><font face="Arial"><span style="font-size:15px;line-height:1.15;white-space:pre-wrap">Unzip the image and untar autotest.tar.bz2, e.g.,
</span><span style="line-height:13.800000190734863px;white-space:pre-wrap"><div class="sites-codeblock sites-codesnippet-block"><code><font size="3">unzip ChromeOS-R24-3014.0.0-lumpy.zip chromiumos_qemu_image.bin autotest.tar.bz2</font></code></div></span></font></span></li></ul><li><a href="http://www.chromium.org/running-smoke-suite-on-a-vm-image" style="line-height:1.15;font-size:10pt;text-decoration:none"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Get a VM</span></a><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">:</span></li><ul><li><span style="background-color:transparent"><font face="Arial"><span style="font-size:15px;line-height:1.15;white-space:pre-wrap">The unzipped folder from 2.b should contain a VM.
</span><span style="line-height:13.800000190734863px;white-space:pre-wrap"><div class="sites-codeblock sites-codesnippet-block"><code><font size="3">&lt;cros_checkout&gt;/src/scripts/bin/cros_start_vm --image_path=path/to/chromiumos_qemu_image.bin</font></code></div></span></font></span></li></ul></ul><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span><span style="font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><font size="3">If the cros_start_vm scripts fails you need to enable virtualization on your workstation. check for /dev/kvm or run ‘sudo kvm-ok’ (you might have to ‘sudo apt-get install cpu-checker’ first). It will either say /dev/kvm exists and kvm acceleration can be used or that /dev/kvm doesn’t and kvm acceleration can NOT be used. In the latter case, hit esc on boot and go to ‘system security:’, turn on virtualization. More information about running tests on a vm can be found <a href="http://www.chromium.org/running-smoke-suite-on-a-vm-image" target="_blank">here</a>.</font></span></span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="line-height:normal"><font size="3"><br /></font></span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="line-height:normal"><font size="3">Once you have autotest, there are 2 ways to run tests, either using your machine as a server or from the client DUT. Running it directly on the device is faster, but requires invoking it from your server at least once.</font></span></p></span><span><h4><a name="TOC-Through-test_that"></a><span style="font-family:Arial;color:rgb(102,102,102);background-color:transparent;font-weight:bold;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><font size="3">Through test_that</font></span></h4><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><span style="font-size:15px">1. enter chroot: </span></span></p><div class="sites-codeblock sites-codesnippet-block"><code><font size="3">cros_checkout_directory$ cros_sdk</font></code></div></span><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">2. Invoke test_that, t</span><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15">o run login_LoginSuccess on a vm with local autotest bits:</span></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><span style="line-height:1.15;background-color:transparent;font-family:Arial;white-space:pre-wrap"><code>test_that localhost:9222 l</code></span><span style="line-height:13.800000190734863px;font-family:Arial;white-space:pre-wrap;background-color:transparent"><code>ogin_LoginSuccess</code></span></font></div><span><p style="margin-top:0pt;margin-bottom:0pt"><span style="font-size:15.199999809265137px;line-height:13.800000190734863px;white-space:pre-wrap;font-family:Arial;background-color:transparent">The basic usage of test_that:</span></p><div class="sites-codeblock sites-codesnippet-block"><code><font size="3">test_that -b board dut_ip[:port] TEST</font></code></div></span><p style="margin-top:0pt;margin-bottom:0pt"><font face="Arial"><span style="font-size:15.199999809265137px;line-height:13.800000190734863px;white-space:pre-wrap"><br /></span></font></p><p style="margin-top:0pt;margin-bottom:0pt"><font face="Arial"><span style="font-size:15.199999809265137px;line-height:13.800000190734863px;white-space:pre-wrap">TEST can be the name of the test, or suite:suite_name for a suite. For example, to run the smoke suite on a device with board x86-mario</span></font></p><p style="margin-top:0pt;margin-bottom:0pt"><font face="Arial"><span style="font-size:15.199999809265137px;line-height:13.800000190734863px;white-space:pre-wrap"><br /></span></font></p><div class="sites-codeblock sites-codesnippet-block"><font face="Arial"><code><font size="3">test_that -b x86-mario 192.168.x.x suite:smoke</font></code></font></div><p style="margin-top:0pt;margin-bottom:0pt"><font face="Arial"><span style="font-size:15.199999809265137px;line-height:13.800000190734863px;white-space:pre-wrap"><br /></span></font></p><p style="margin-top:0pt;margin-bottom:0pt"><font face="Arial"><span style="font-size:15.199999809265137px;line-height:13.800000190734863px;white-space:pre-wrap">Please see the<a href="../test_that-basic-usage.html"> test_that </a>page for more details.</span></font></p><p style="margin-top:0pt;margin-bottom:0pt"><font face="Arial"><span style="font-size:15.199999809265137px;line-height:13.800000190734863px;white-space:pre-wrap"><br /></span></font></p><div><span style="vertical-align:baseline"><span style="font-style:normal;font-variant:normal;font-weight:normal;white-space:pre-wrap;text-decoration:none;background-color:transparent"><h2><a name="TOC-Directly-on-the-DUT"></a><span style="font-size:16px;font-family:Arial;color:rgb(102,102,102);background-color:transparent;vertical-align:baseline">Directly on the DUT</span></h2><p dir="ltr" style="font-size:15px;color:rgb(0,136,0);font-family:Inconsolata;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,0);background-color:transparent;vertical-align:baseline">You have to use test_that at least once so it copies over the test/dependencies before attempting this; If you haven’t, /usr/local/autotest may not exist on the device.</span></p><div style="white-space:normal"><font face="trebuchet ms, sans-serif"><div class="sites-codeblock sites-codesnippet-block"><font size="3"><span style="color:rgb(0,136,0);line-height:15.454545021057129px;white-space:pre-wrap;background-color:transparent;vertical-align:baseline"><code>ssh root@&lt;ip_address_of_dut&gt;, </code></span><span style="line-height:15.454545021057129px;white-space:pre-wrap;background-color:transparent;vertical-align:baseline"><font color="#6aa84f"><code>password=test0000 </code></font></span></font></div></font></div></span><p dir="ltr" style="font-style:normal;font-variant:normal;font-weight:normal;white-space:pre-wrap;text-decoration:none;background-color:transparent;font-size:15px;color:rgb(0,136,0);font-family:Inconsolata;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,0);background-color:transparent;vertical-align:baseline"><span style="white-space:pre"> </span></span></p><p style="font-style:normal;font-variant:normal;font-weight:normal;white-space:pre-wrap;text-decoration:none;background-color:transparent;font-size:15px;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><font face="Arial">Once you're on the client device:</font></p><div class="sites-codeblock sites-codesnippet-block"><p style="font-style:normal;font-variant:normal;font-weight:normal;white-space:pre-wrap;text-decoration:none;background-color:transparent;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><font face="Arial" size="3"><code>cd /usr/local/autotest</code></font></p><p style="font-style:normal;font-variant:normal;font-weight:normal;white-space:pre-wrap;text-decoration:none;background-color:transparent;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><font face="Arial" size="3"><code>./bin/autotest_client tests/login_LoginSuccess/control</code></font></p></div><p dir="ltr" style="font-style:normal;font-variant:normal;font-weight:normal;white-space:pre-wrap;text-decoration:none;background-color:transparent;font-size:15px;color:rgb(0,136,0);font-family:Inconsolata;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><br /></p><h1 dir="ltr" style="line-height:1.15;margin-top:24pt;margin-bottom:6pt"><a name="TOC-Editing-a-Test"></a><span style="font-size:24px;font-family:Arial;color:#000000;background-color:transparent;font-weight:bold;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Editing a Test</span></h1><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><br /></span></p><p style="background-color:transparent;white-space:pre-wrap;font-size:15px;font-family:Inconsolata;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><i><font color="#0000ff"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline">For python-only changes, test_that uses<code> autotest_quickmerge</code></span><span style="background-color:transparent;font-family:Arial;vertical-align:baseline"> to copy your python changes to the sysroot. There is no need to run rcp/scp to copy the change over to your DUT.</span></font></i></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><br /></span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">The fastest way to edit a test is directly on the client. If you find the text editor on a Chromium OS device non-intuitive then edit the file locally and use a copy tool like rcp/scp to send it to the DUT. </span></p><p dir="ltr" style="font-style:normal;font-variant:normal;font-weight:normal;white-space:pre-wrap;text-decoration:none;background-color:transparent;font-size:15px;color:rgb(0,136,0);font-family:Inconsolata;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><b style="font-weight:normal"><br /></b></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">1. Add a print statement to the </span><a href="https://gerrit.chromium.org/gerrit/gitweb?p=chromiumos/third_party/autotest.git;a=blob;f=client/site_tests/login_LoginSuccess/login_LoginSuccess.py;h=2b46ccbb0b37c2eaaa5e0c1a0a23b37c7d877546;hb=HEAD" style="text-decoration:none"><span style="font-size:15px;font-family:Arial;color:#1155cc;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">login_LoginSuccess</span></a><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"> test you just ran</span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">2. rsync it into /usr/local/autotest/tests on the client</span></p><div class="sites-codeblock sites-codesnippet-block"><font face="Arial" size="3"><code>rcp path/to/login_LoginSuccess.py root@&lt;DUT_ip&gt;:/usr/local/autotest/tests/login_LoginSuccess/</code></font></div></span><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">3. run it by invoking autotest_client, as described in the section on Running Tests Directly on the client. Note a print statement won’t show up when the test is run via test_that.</span><span style="background-color:transparent;font-family:Arial;font-size:19px;line-height:1.15;white-space:pre-wrap"> </span></p><p dir="ltr" style="font-style:normal;font-variant:normal;font-weight:normal;white-space:pre-wrap;background-color:transparent;font-size:15px;font-family:Inconsolata;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><br /></p><p dir="ltr" style="font-style:normal;font-variant:normal;font-weight:normal;white-space:pre-wrap;background-color:transparent;font-size:15px;font-family:Inconsolata;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="color:rgb(0,0,0);text-decoration:none;font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline">The more formal way of editing a test is to change the source and emerge it. The steps to doing this are very similar to those described in the section on </span><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline"><font color="#1155cc"><u><a href="autotest-client-tests.1.html#TOC-Emerging-and-Running">emerging tests</a></u></font></span><span style="color:rgb(0,0,0);text-decoration:none;font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline">. You might want to perform a full emerge if you’ve modified several files, or would like to run your test in an environment similar to the automated build/test pipeline. </span></p><p dir="ltr" style="font-style:normal;font-variant:normal;font-weight:normal;white-space:pre-wrap;text-decoration:none;background-color:transparent;font-size:15px;color:rgb(0,136,0);font-family:Inconsolata;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,0);background-color:transparent;vertical-align:baseline"><br /></span></p><h1 dir="ltr" style="line-height:1.15;margin-top:24pt;margin-bottom:6pt"><a name="TOC-Writing-a-New-Test"></a><span style="font-size:24px;font-family:Arial;color:#000000;background-color:transparent;font-weight:bold;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">Writing a New Test</span></h1><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:12px;font-family:Arial;color:#000000;background-color:transparent;font-weight:bold;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">A word of caution: copy-pasting from Google Docs has been known to convert consecutive whitespace characters into unicode characters, which will break your control file. Using CTRL-C + CTRL-V is safer than using middle-click pasting on Linux.</span></p><p dir="ltr" style="font-style:normal;font-variant:normal;font-weight:normal;white-space:pre-wrap;text-decoration:none;background-color:transparent;font-size:15px;color:rgb(0,136,0);font-family:Inconsolata;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><br /></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Our aim is to create a test which does the following:</span></p><ul><li><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15">run <code>hdparm -T &lt;disk&gt;</code></span></li><li><span style="background-color:transparent;font-family:Arial;font-size:15px;line-height:1.15;text-indent:36pt;white-space:pre-wrap">Search output for timing numbers. </span></li><li><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15">Report this as a result.</span></li></ul><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><span style="font-size:15px">1. Create a directory in </span><code><font size="3">client/site_tests</font></code><span style="font-size:15px">, name</span><code><font size="3"> kernel_HdParmBasic</font></code><span style="font-size:15px">.</span></span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">2. Create a control file </span><span style="color:rgb(0,96,0);font-family:monospace;font-size:medium;line-height:11.960000038146973px;white-space:pre-wrap;background-color:transparent">kernel_HdParmBasic/control</span><span style="background-color:transparent;font-size:15px;font-family:Arial;vertical-align:baseline;white-space:pre-wrap">, a</span><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15"> bare minimum control file for the hdparm test:</span></p><div class="sites-codeblock sites-codesnippet-block"><p dir="ltr" style="margin-top:0pt;margin-bottom:0pt"><font color="#006000" face="monospace" size="3"><span style="line-height:13.800000190734863px;white-space:pre-wrap">AUTHOR = "Chrome OS Team"
NAME = "kernel_HdParmBasic"
TIME = "SHORT"
TEST_TYPE = "client"

DOC = """
This test uses hdparm to measure disk performance.
"""

job.run_test('kernel_HdParmBasic', named_arg='kernel test')</span></font></p></div><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><br /></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">To which you can add the necessary control variables as described in the </span><a href="http://www.chromium.org/chromium-os/testing/autotest-best-practices" style="text-decoration:none"><span style="font-size:15px;font-family:Arial;color:#1155cc;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">autotest best practices</span></a><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">. Job.run_test can take any named arguments, and the appropriate ones will be </span><span style="font-size:15px;font-family:Arial;color:#1155cc;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap"><a href="http://git.chromium.org/gitweb/?p=chromiumos/third_party/autotest.git;a=blob;f=client/common_lib/test.py;h=9b51cd65f25b05b9f9a0b60339f77af85f46dc4b;hb=546142013484dbdb2c1322debe9e5fc5e91f63c1#l474" target="_blank">cherry picked</a></span><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"> and passed on to the test.</span></p><p dir="ltr" style="font-style:normal;font-variant:normal;font-weight:normal;white-space:pre-wrap;text-decoration:none;background-color:transparent;font-size:15px;color:rgb(0,136,0);font-family:Inconsolata;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,0);background-color:transparent;vertical-align:baseline"><b style="font-weight:normal"><br /></b></span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">3. Create a test file:</span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">At a bare minimum the test needs a run_once method, which should contain the implementation of the test; it also needs to inherit from</span><a href="https://gerrit.chromium.org/gerrit/gitweb?p=chromiumos/third_party/autotest.git;a=blob;f=client/bin/test.py;h=33f194ca39e955d030789b08ae8f89bda8f45cab;hb=HEAD" style="text-decoration:none"><span style="font-size:15px;font-family:Arial;color:#1155cc;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap"> test.test</span></a><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">. Most tests also need initialize and cleanup methods. Create a test file </span><span style="font-family:Arial;line-height:13.800000190734863px;white-space:pre-wrap;background-color:transparent"><code><font size="3">client/site_tests/kernel_HdParmBasic/kernel_HdParmBasic.py</font></code><span style="font-size:15.199999809265137px">:</span></span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><br /></span></p><div class="sites-codeblock sites-codesnippet-block"><p style="margin-top:0pt;margin-bottom:0pt"><font size="3"><span style="background-color:transparent;vertical-align:baseline;line-height:13.800000190734863px;white-space:pre-wrap"><font face="Arial"><code>import logging</code></font></span></font></p><p dir="ltr" style="margin-top:0pt;margin-bottom:0pt"><font size="3"><span style="background-color:transparent;vertical-align:baseline;line-height:13.800000190734863px;white-space:pre-wrap"><font face="Arial"><code><br /></code></font></span></font></p><p dir="ltr" style="margin-top:0pt;margin-bottom:0pt"><font size="3"><span style="background-color:transparent;vertical-align:baseline;line-height:13.800000190734863px;white-space:pre-wrap"><font face="Arial"><code>from autotest_lib.client.bin import test


class kernel_HdParmBasic(test.test):
    version = 1

    def initialize(self):
      logging.debug('initialize')

    def run_once(self, named_arg=''):
      logging.debug(named_arg)

    def cleanup(self):
      logging.debug('cleanup')</code></font></span><span style="line-height:1.15;font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">
</span></font></p><div></div></div><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><br /></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-family:Arial;color:rgb(0,0,0);background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap"><span style="font-size:15px">Notice how only run_once takes the argument named_arg, which was passed in by the </span><code><font size="3">job.run_test</font><span style="font-size:15px"> </span></code><span style="font-size:15px">method. You can pass arguments to initialize and cleanup this way too. You can find examples of initialize and cleanup methods in helper classes, like </span></span><a href="https://gerrit.chromium.org/gerrit/gitweb?p=chromiumos/third_party/autotest.git;a=blob;f=client/cros/cros_ui_test.py;h=1f95267d8dce01626e7bcb560922e9513eef265d;hb=HEAD" style="text-decoration:none"><span style="font-size:15px;font-family:Arial;color:#1155cc;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">cros_ui_test</span></a><span style="font-size:15px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap">.</span></p></div><div><span><h2 dir="ltr" style="line-height:1.15;margin-top:18pt;margin-bottom:4pt"><a name="TOC-Emerging-and-Running"></a><span style="font-size:19px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Emerging and Running</span></h2><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Basic flow:</span></p></span><span><ul><li><span style="font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><span style="font-size:15px">Add the new test: add </span><font size="3"><code>+tests_kernel_HdParmBasic</code> in the<code> IUSE_TESTS</code> s</font></span><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">ection of the autotest-tests ebuild file:</span></li></ul></span></div><div class="sites-codeblock sites-codesnippet-block"><div><span style="background-color:transparent;font-family:Arial;vertical-align:baseline;white-space:pre-wrap"><font size="3"><span style="background-color:transparent;font-family:Inconsolata;color:rgb(0,136,0);vertical-align:baseline"><code>#</code></span><span style="background-color:transparent;font-family:trebuchet ms,sans-serif;color:rgb(0,136,0);vertical-align:baseline"><code>third_party/chromiumos-overlay/chromeos-base/autotest-tests/autotest-tests-9999.</code></span><span style="background-color:transparent;font-family:trebuchet ms,sans-serif;color:rgb(0,136,0);line-height:12.727272033691406px"><code>ebuild</code></span></font></span></div><div><font size="3"><br /></font></div><div><font color="#006000" face="monospace" size="3"><span style="line-height:12.727272033691406px;white-space:pre-wrap"><code>IUSE_TESTS="${IUSE_TESTS}</code></span></font></div><div><font color="#006000" face="monospace" size="3"><span style="line-height:12.727272033691406px;white-space:pre-wrap"><code>  # some other tests</code></span></font></div><div><font color="#006000" face="monospace" size="3"><span style="line-height:12.727272033691406px;white-space:pre-wrap"><code>  # some other tests</code></span></font></div><div><font color="#006000" face="monospace" size="3"><span style="line-height:12.727272033691406px;white-space:pre-wrap"><code>  # ...</code></span></font></div><div><font size="3"><span style="line-height:12.727272033691406px;white-space:pre-wrap;color:rgb(0,96,0);font-family:monospace;background-color:transparent"><code>  </code></span><span style="font-family:Arial;white-space:pre-wrap;background-color:transparent"><code>+tests_kernel_HdParmBasic</code></span></font></div><div><font size="3"><span style="font-family:Arial;white-space:pre-wrap;background-color:transparent"><code>"</code></span></font></div></div><div><span><ul><li><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15">cros_workon autotest-test</span></li></ul><font face="Arial"><span style="line-height:13.800000190734863px;white-space:pre-wrap"><div class="sites-codeblock sites-codesnippet-block"><code><font size="3">cros_workon --board=lumpy start autotest-tests</font></code></div></span></font><ul><li><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15">emerge autotest-tests</span></li></ul><span style="font-family:Arial;line-height:13.8000001907349px;white-space:pre-wrap"><div class="sites-codeblock sites-codesnippet-block"><code><font size="3">emerge-lumpy chromeos-base/autotest-tests</font></code></div></span><span style="line-height:17.25px;white-space:pre-wrap"><div style="font-size:15px;font-family:Arial"><span style="background-color:transparent"><br /></span></div><div><span style="font-size:15px;font-family:Arial;background-color:transparent">(if that fails because of dependency problems, you can try </span><span style="font-size:medium;font-family:monospace;color:rgb(0,96,0);line-height:normal">cros_workon --board=lumpy autotest-chrome</span><span style="font-size:15px;font-family:Arial;background-color:transparent"> and append </span><span style="line-height:normal;background-color:transparent"><font face="arial, sans-serif"><font size="3"><code>chromeos-base/autotest-chrome</code></font></font><font face="Arial" style="font-size:15px"> to the line above)</font></span></div></span></span><span><ul><li><span style="font-family:Arial;font-size:15px;line-height:1.15;white-space:pre-wrap;background-color:transparent">run test_that</span></li></ul><font face="Arial"><span style="line-height:13.800000190734863px;white-space:pre-wrap"><div class="sites-codeblock sites-codesnippet-block"><code><font size="3">test_that -b lumpy DUT_IP kernel_HdParmBasics</font></code></div></span></font></span><div style="font-size:13px"><br /></div><div style="font-size:13px"></div><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">If you’d like more perspective you might benefit from consulting the </span><a href="autotest-client-tests/basic-ebuild-troubleshooting.html" style="text-decoration:none" target="_blank"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">troubleshooting</span></a><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"> doc.</span></p><h2 dir="ltr" style="line-height:1.15;margin-top:18pt;margin-bottom:4pt"><a name="TOC-Checking-results"></a><span style="font-size:19px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Checking results</span></h2><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">The results folder contains </span><a href="autotest-client-tests/autotest-results-logs.html" style="text-decoration:none" target="_blank"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">many logs</span></a><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">, to analyze client test logging messages you need to find kernel_HdParmBasic.(DEBUG, INFO, ERROR) depending on which logging macro you used. Note: logging message priorities escalate, and debug &lt; info &lt; warning &lt; error. If you want to see all logging messages just look in the debug logs.</span></p><br /><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Client test logs should be in: </span><span style="background-color:transparent;font-family:Arial;white-space:pre-wrap;line-height:1.15"><font size="3"><code>/tmp/test_that.&lt;RESULTS_DIR_HASH&gt;/kernel_HdParmBasic/kernle_HdParmBasic/debug</code></font></span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><span style="font-size:15px">where you will have to replace ‘</span><code><font size="3">/tmp/test_that.&lt;RESULTS_DIR_HASH&gt;</font></code><span style="font-size:15px">’ with anything you might have specified through the --results_dir_root option.</span></span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><span style="font-size:15px"><br /></span></span></p><p style="margin-top:0pt;margin-bottom:0pt"><span style="line-height:1.15;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><span style="font-size:15px">You can also find the latest results in </span></span><span style="background-color:transparent;font-size:15.199999809265137px;line-height:13.800000190734863px;white-space:pre-wrap"><font face="Arial"><code>/tmp/test_that_latest</code></font></span></p><br /><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">In the DEBUG logs you should see messages like: </span></p><div class="sites-codeblock sites-codesnippet-block"><code><font size="3">01/18 12:22:46.716 DEBUG|     kernel_HdParmBasic:0025| Your logging message</font></code></div><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><br /></span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Note that print messages will not show up in these logs since we redirect stdout. </span><span style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15">If you’ve already performed a ‘run_remote’ once you can directly invoke your test on a client, as described in the previous section.  Two things to note when using this approach:</span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><span style="white-space:pre"> </span>a. print messages do show up</span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><span style="white-space:pre"> </span>b. logging messages are also available under autotest/results/default/</span></p><div><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap"><br /></span></div><div><span style="vertical-align:baseline"><h2 dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:18pt;margin-bottom:4pt"><a name="TOC-Import-helpers"></a><span style="font-size:19px;background-color:transparent;vertical-align:baseline">Import helpers</span></h2><p dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;background-color:transparent;vertical-align:baseline">You can import any autotest client helper module with the line</span></p><div class="sites-codeblock sites-codesnippet-block"><font face="Arial"><code><font size="3">from autotest_lib.client.&lt;dir&gt; import &lt;module&gt;</font></code></font></div></span><p dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><br /></p><p dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;background-color:transparent;vertical-align:baseline">You might also benefit from reading how the framework </span><a href="../autotest-developer-faq.html#TOC-Writing-Autotests" style="text-decoration:none"><span style="font-size:15px;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline">makes autotest_lib</span></a><span style="font-size:15px;background-color:transparent;vertical-align:baseline"> available for you.</span></p><p dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;background-color:transparent;vertical-align:baseline">kernel_HdParmBasic Needs test.test, so it needs to import test from client/bin.</span></p><p dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;background-color:transparent;vertical-align:baseline">Looking back at our initial test plan, it also needs to:</span></p><p dir="ltr" style="background-color:transparent;font-family:Arial;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="background-color:transparent;vertical-align:baseline"><span style="font-size:15px">1. run </span><code><font size="3">hdparm -T &lt;disk&gt;</font></code></span></p><p dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt;text-indent:36pt"><span style="font-size:15px;background-color:transparent;vertical-align:baseline">This implies running things on the command line, modules to look at are base/site utils. </span></p><p dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt;text-indent:36pt"><span style="font-size:15px;background-color:transparent;vertical-align:baseline">However common_lib’s ‘utils.py’ conveniently gives us both.</span></p><div class="sites-codeblock sites-codesnippet-block"><font face="Arial"><code><font size="3">from autotest_lib.client.bin import test, utils</font></code></font></div><p dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;background-color:transparent;vertical-align:baseline">2. Search output for timing numbers. </span></p><p dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;background-color:transparent;vertical-align:baseline">3. Report this as a result.</span></p><div class="sites-codeblock sites-codesnippet-block"><code><font size="3">import logging, re</font></code></div><div style="background-color:transparent;font-family:Arial,Verdana,sans-serif;font-size:13px;white-space:normal"><br /></div><div style="background-color:transparent;font-family:Arial,Verdana,sans-serif;font-size:13px;white-space:normal"></div><h2 style="background-color:transparent"><a name="TOC-run_once-cleanup-and-initialize"></a><span style="background-color:transparent;font-size:19px;line-height:1.15">run_once, cleanup and initialize</span></h2><p dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;background-color:transparent;vertical-align:baseline">If your test manages any state on the DUT it might need initialization and cleanup. In our case the subprocess handles it’s own cleanup, if any. Putting together all we’ve talked about, our run_once method looks like:</span></p><p dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt;margin-left:6pt"><br /></p><div class="sites-codeblock sites-codesnippet-block"><p dir="ltr" style="background-color:transparent;font-family:Arial;font-size:15px;white-space:pre-wrap;line-height:1.15;margin-top:0pt;margin-bottom:0pt;margin-left:6pt"><span style="font-family:trebuchet ms,sans-serif;color:rgb(0,0,136);font-size:13px;line-height:1;vertical-align:baseline"><code>import</code></span><a href="https://cs.corp.google.com/#search&amp;q=package:%5Echromeos_public$%20file:(/%7C%5E)logging(%5C.(swig%7Cpy)$%7C/__init__%5C.(swig%7Cpy)$)&amp;is_navigation=1" style="font-family:trebuchet ms,sans-serif;background-color:transparent;line-height:1;font-size:10pt;text-decoration:none"><span style="font-size:13px;color:rgb(0,0,0);vertical-align:baseline"> </span><span style="font-size:13px;color:rgb(85,26,139);vertical-align:baseline"><code>logging</code></span></a><span style="font-family:trebuchet ms,sans-serif;font-size:13px;line-height:1;vertical-align:baseline"><code>,</code></span><a href="https://cs.corp.google.com/#search&amp;q=package:%5Echromeos_public$%20file:(/%7C%5E)re(%5C.(swig%7Cpy)$%7C/__init__%5C.(swig%7Cpy)$)&amp;is_navigation=1" style="font-family:trebuchet ms,sans-serif;background-color:transparent;line-height:1;font-size:10pt;text-decoration:none"><span style="line-height:1;background-color:transparent;font-size:13px;color:rgb(0,0,0);vertical-align:baseline"> </span><span style="line-height:1;background-color:transparent;font-size:13px;color:rgb(85,26,139);vertical-align:baseline"><code>re</code></span></a></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt;margin-left:6pt"><span style="font-size:13px;color:rgb(0,0,136);vertical-align:baseline;white-space:pre-wrap"><font face="trebuchet ms, sans-serif"><br /></font></span></p><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt;margin-left:6pt"><font face="trebuchet ms, sans-serif"><span style="font-size:13px;color:rgb(0,0,136);vertical-align:baseline;white-space:pre-wrap"><code>from</code></span><a href="https://cs.corp.google.com/#search&amp;q=package:%5Echromeos_public$%20file:(/%7C%5E)autotest_lib/client/bin(%5C.(swig%7Cpy)$%7C/__init__%5C.(swig%7Cpy)$)&amp;is_navigation=1" style="text-decoration:none"><span style="font-size:13px;color:rgb(0,0,0);vertical-align:baseline;white-space:pre-wrap"> </span><span style="font-size:13px;color:rgb(85,26,139);vertical-align:baseline;white-space:pre-wrap"><code>autotest_lib.client.bin</code></span></a><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"> </span><span style="font-size:13px;color:rgb(0,0,136);vertical-align:baseline;white-space:pre-wrap"><code>import</code></span><a href="https://cs.corp.google.com/#search&amp;q=package:%5Echromeos_public$%20file:(/%7C%5E)autotest_lib/client/bin/test(%5C.(swig%7Cpy)$%7C/__init__%5C.(swig%7Cpy)$)&amp;is_navigation=1" style="text-decoration:none"><span style="font-size:13px;color:rgb(0,0,0);vertical-align:baseline;white-space:pre-wrap"> </span><span style="font-size:13px;color:rgb(85,26,139);vertical-align:baseline;white-space:pre-wrap"><code>test</code></span></a><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code>,</code></span><a href="https://cs.corp.google.com/#search&amp;q=package:%5Echromeos_public$%20file:(/%7C%5E)autotest_lib/client/bin/utils(%5C.(swig%7Cpy)$%7C/__init__%5C.(swig%7Cpy)$)&amp;is_navigation=1" style="text-decoration:none"><span style="font-size:13px;color:rgb(0,0,0);vertical-align:baseline;white-space:pre-wrap"> </span><span style="font-size:13px;color:rgb(85,26,139);vertical-align:baseline;white-space:pre-wrap"><code>utils</code></span></a><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><br /><br /></span><span style="font-size:13px;color:rgb(0,0,136);vertical-align:baseline;white-space:pre-wrap"><code>class</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"> </span><span style="font-size:13px;background-color:transparent;font-weight:bold;vertical-align:baseline;white-space:pre-wrap"><code>kernel_HdParmBasic</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code>(test.test):</code><br /><code>    </code></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>"""</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><br /></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>    Measure disk performance: both disk (-t) and cache (-T).</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><br /></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>    """</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><br /><code>    version = </code></span><span style="font-size:13px;color:rgb(0,102,102);vertical-align:baseline;white-space:pre-wrap"><code>1</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><br /><br /><code>    </code></span><span style="font-size:13px;color:rgb(0,0,136);vertical-align:baseline;white-space:pre-wrap"><code>def</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code> run_once(self):</code><br /><code>        </code></span><span style="font-size:13px;color:rgb(0,0,136);vertical-align:baseline;white-space:pre-wrap"><code>if</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code> (utils.get_cpu_arch() == </code></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>"arm"</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code>):</code><br /><code>            disk = </code></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>'/dev/mmcblk0'</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><br /><code>        </code></span><span style="font-size:13px;color:rgb(0,0,136);vertical-align:baseline;white-space:pre-wrap"><code>else</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code>:</code><br /><code>            disk = </code></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>'/dev/sda'</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><br /><br /><code>        logging.debug(</code></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>"Using device %s"</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code>, disk)</code><br /><br /><code>        result = utils.system_output(</code></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>'hdparm -T %s'</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code> % disk)</code><br /><code>        match = re.search(</code></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>'(\d+\.\d+) MB\/sec'</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code>, result)</code><br /><code>        self.write_perf_keyval({</code></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>'cache_throughput'</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code>: match.groups()[</code></span><span style="font-size:13px;color:rgb(0,102,102);vertical-align:baseline;white-space:pre-wrap"><code>0</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code>]})</code><br /><code>        result = utils.system_output(</code></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>'hdparm -t %s'</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code> % disk)</code><br /><code>        match = re.search(</code></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>'(\d+\.\d+) MB\/sec'</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code>, result)</code><br /><code>        self.write_perf_keyval({</code></span><span style="font-size:13px;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap"><code>'disk_throughput'</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code>: match.groups()[</code></span><span style="font-size:13px;color:rgb(0,102,102);vertical-align:baseline;white-space:pre-wrap"><code>0</code></span><span style="font-size:13px;vertical-align:baseline;white-space:pre-wrap"><code>]})</code></span></font></p></div><span style="background-color:transparent;font-family:Inconsolata;white-space:pre-wrap;vertical-align:baseline"><div style="font-size:13px"><span style="font-size:13px;vertical-align:baseline"><br /></span></div><div><span style="vertical-align:baseline"><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline">Note the use of </span><a href="../autotest-developer-faq.html#TOC-How-do-I-write-a-performance-test-" style="font-size:13px;text-decoration:none"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;text-decoration:underline;vertical-align:baseline">performance keyvals</span></a><span style="font-family:Arial;background-color:transparent;vertical-align:baseline"><span style="font-size:15px"> instead of plain logging statements. The keyvals are written to </span><code><font size="3">/usr/local/autotest/results/default/kernel_HdParmBasic/results/keyval </font></code><span style="font-size:15px">on the client and will be reported on your console when run through run_remote_tests:</span></span></p><font size="2"><br /></font><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline">---------------------------------------<br />kernel_HdParmBasic/kernel_HdParmBasic   cache_throughput          4346.76<br />kernel_HdParmBasic/kernel_HdParmBasic   disk_throughput           144.28<br />---------------------------------------</span></span></div><div style="font-size:13px"><span style="font-size:13px;vertical-align:baseline"><span style="font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline"><span><p dir="ltr" style="line-height:1.15;margin-top:0pt;margin-bottom:0pt;text-indent:36pt"><a href="http://www.chromium.org/chromium-os/testing/autotest-best-practices" style="text-decoration:none"></a></p></span></span></span></div></span></div></div></div></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages" class="sites-canvas-bottom-panel-wrapper" style="">
<div class="sites-subpages">
            Subpages <span id="subpages-total-number">(3):</span>
<span>
<a href="autotest-client-tests/autotest-client-helper-libraries.html" dir="ltr">Autotest Client Helper Libraries</a>
</span>
<span>
<a href="autotest-client-tests/autotest-results-logs.html" dir="ltr">Autotest Results Logs</a>
</span>
<span>
<a href="autotest-client-tests/basic-ebuild-troubleshooting.html" dir="ltr">Basic Ebuild Troubleshooting</a>
</span>
</div>
</div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/chromium-os/testing/test-code-labs/autotest-client-tests">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9Jz7lFCIRNdYTjp4pLfKiWNtf4XYiHfHZU-bpK-U_D9ij97rtNP04Xx4hkw6f-xXNXiALqI8EQ4Gh6QJT86HSnfOtqZ6ONgpflpHnGbGqmotL4v0q/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
