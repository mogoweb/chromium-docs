<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="../../../_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/chromium-os","deleted":false,"title":"Chromium OS","dir":"ltr"},{"path":"/chromium-os/testing","deleted":false,"title":"Testing Home","dir":"ltr"},{"path":"/chromium-os/testing/moblab","deleted":false,"title":"MobLab","dir":"ltr"},{"path":"/chromium-os/testing/moblab/faft-testing-with-moblab","deleted":false,"title":"Running FAFT with MobLab","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/chromium-os/testing/moblab/faft-testing-with-moblab\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/chromium-os/testing/moblab","parentWuid":"wuid:gx:5588e293ccd896e3","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Running FAFT with MobLab","locale":"en","wuid":"wuid:gx:368c746b35c7c4a6","revision":9,"path":"/chromium-os/testing/moblab/faft-testing-with-moblab","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"faft-testing-with-moblab","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Running FAFT with MobLab - The Chromium Projects" />
<meta itemprop="name" content="Running FAFT with MobLab - The Chromium Projects" />
<meta property="og:title" content="Running FAFT with MobLab - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../../../_/rsrc/1441580320000/system/app/css/overlay.css%3Fcb=beigeandblueundefineda100%2525%2525150goog-ws-leftthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../../../_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Running FAFT with MobLab - The Chromium Projects</title>
<meta itemprop="image" content="https://www.chromium.org/_/rsrc/1437673884653/chromium-os/testing/moblab/faft-testing-with-moblab/Running%20FAFT%20%28Fully%20Automated%20Firmware%20Tests%29%20with%20MobLab.png?height=300&amp;width=400" />
<meta property="og:image" content="https://www.chromium.org/_/rsrc/1437673884653/chromium-os/testing/moblab/faft-testing-with-moblab/Running%20FAFT%20%28Fully%20Automated%20Firmware%20Tests%29%20with%20MobLab.png?height=300&amp;width=400" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="../../../index.html" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="../../../_/rsrc/1438879449147/config/customLogo.gif%3Frevision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="../../../index.html" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://www.chromium.org/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../../chromium-projects.html" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../Home.1.html" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../chromium-os.1.html" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../../for-testers/bug-reporting-guidelines.html" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../developers/discussion-groups.html" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:4c0f552cb393ed23" class="sites-navigation-link">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../../../chromium-os.1.html" dir="ltr">Chromium OS</A>‎ &gt; ‎<A href="../../testing.1.html" dir="ltr">Testing Home</A>‎ &gt; ‎<A href="../moblab.1.html" dir="ltr">MobLab</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Running FAFT with MobLab</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><h2><a name="TOC-Background"></a>Background</h2><h2><a name="TOC-FAFT-Fully-Automated-Firmware-Tests-is-a-collection-of-tests-that-exercise-and-verify-low-level-capabilities-of-Chrome-OS.-The-features-tested-by-FAFT-are-implemented-through-low-level-software-firmware-BIOS-and-hardware.-For-additional-information-please-"></a><span style="font-size:13.3333330154419px;font-weight:normal">FAFT (Fully Automated Firmware Tests) is a collection of tests that exercise and verify low level capabilities of Chrome OS. The features tested by FAFT are implemented through low-level software (firmware/BIOS) and hardware.  </span><span style="font-size:10pt;font-weight:normal;background-color:transparent">For additional information, please see the </span><a href="../../../for-testers/faft.1.html" style="font-size:10pt;font-weight:normal;background-color:transparent" target="_blank">main FAFT page</a><span style="font-size:10pt;font-weight:normal;background-color:transparent">.</span><div style="font-size:13.3333330154419px;font-weight:normal"><div><br /></div><div>FAFT can either be run using a desktop set up or using a MobLab.  MobLab is a self-contained automated test environment running on a Chromebox.  </div><div><br /></div><div><b>Below are instructions to run FAFT on a single DUT using MobLab.</b>  These instructions assume that you have a <a href="../../servo.1.html" target="_blank">servo v2 board</a> as well as a development device and are aware of how to install a servo cable onto the device.</div><div><br /></div><div>Running FAFT tests with servo v2 requires a non-standard MobLab set-up.  The servo v2 board provides several capabilities.  It provides the ability to send additional hardware signals through the debug connector.  These include recovery mode, dev mode, lid close, power button, reset, etc.</div></div></h2><h2><a name="TOC-Prerequisites:"></a>Prerequisites:</h2><ul><li><span style="font-size:10pt;background-color:transparent">Functional MobLab on version 7073 </span><span style="font-size:10pt;background-color:transparent">or later.  You can confirm what version MobLab is running by reviewing the version and platform at chrome://chrome on your MobLab device.</span></li><li><span style="font-size:10pt;background-color:transparent">Device Under Test (DUT):</span></li><li><span style="font-size:10pt;background-color:transparent">Running test image</span></li><li><span style="font-size:10pt;background-color:transparent">Servo cable attached.  If you are unsure of how to attach a servo cable to your development device, please contact your Google Partner Representative.</span></li></ul><h2><a name="TOC-Additional-Items-needed-for-running-FAFT-through-MobLabServo-V2-SetupServo-V2-board8-GB-USB-stick-for-SERVO-BOARD-for-storing-device-image-Note-this-is-not-the-USB-stick-that-is-plugged-into-the-MobLab.2-USB-to-micro-USB-cables.-Note-that-cables-with-surge"></a><div style="font-size:13.3333330154419px;font-weight:normal"><h2><a name="TOC-Additional-Items-needed-for-running-FAFT-through-MobLab"></a>Additional Items needed for running FAFT through MobLab</h2><h2><a name="TOC-Servo-V2-Setup"></a><span style="font-size:13.3333330154419px;font-weight:normal;background-color:transparent">Servo V2 Setup</span></h2><div><ul><li><span style="font-size:13.3333330154419px;background-color:transparent"><a href="../../servo.1.html" target="_blank">Servo V2 board</a></span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">8 GB USB stick for SERVO BOARD (for storing device image)</span></li><ul><li><span style="font-size:13.3333330154419px;background-color:transparent">Note this is not the USB stick that is plugged into the MobLab.</span></li></ul><li><span style="font-size:13.3333330154419px;background-color:transparent">2 USB to micro-USB cables.  Note that cables with surge protection could affect the data connection and lead to “No servos found” error when starting servod</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Ethernet cable</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent"><a href="http://www.amazon.com/gp/product/B007U5MGDC/ref=oh_aui_search_detailpage?ie=UTF8&amp;psc=1" target="_blank">StarTech USB 2.0 to Gigabit Ethernet NIC Network Adapters (USB21000S2)</a></span></li></ul></div><h2><a name="TOC-Instructions"></a>Instructions</h2><div>Running tests with servo v2 requires a non-standard MobLab set-up.  At this time, you can only run FAFT tests on a single DUT using the MobLab.  You should disconnect all DUTs from the MobLab except for the one you plan to test.</div><div><br /></div><div><div style="display:block;text-align:left"><a href="https://www.chromium.org/chromium-os/testing/moblab/faft-testing-with-moblab/Running%20FAFT%20%28Fully%20Automated%20Firmware%20Tests%29%20with%20MobLab.png?attredirects=0" imageanchor="1"><img border="0" height="300" src="https://www.chromium.org/_/rsrc/1437673884653/chromium-os/testing/moblab/faft-testing-with-moblab/Running%20FAFT%20%28Fully%20Automated%20Firmware%20Tests%29%20with%20MobLab.png?height=300&amp;width=400" width="400" /></a></div><div style="display:block;text-align:left"><div style="display:block;text-align:left"><a href="https://www.chromium.org/chromium-os/testing/moblab/faft-testing-with-moblab/servo%20v2%20diagram.png?attredirects=0" imageanchor="1"><img border="0" src="https://www.chromium.org/_/rsrc/1437674051182/chromium-os/testing/moblab/faft-testing-with-moblab/servo%20v2%20diagram.png" /></a></div><br /></div><br /></div><h3><a name="TOC-Connecting-the-Servo-V2-Board-to-the-MobLab"></a>Connecting the Servo V2 Board to the MobLab</h3><div><ol><li><span style="font-size:13.3333330154419px;background-color:transparent">Using an ethernet cable, connect the Servo V2 board to the MobLab.  You will need a usb-to-ethernet dongle on the Moblab side.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Connect the HOST_IN port on the servo v2 board to the MobLab using a micro-usb to usb cable.</span></li></ol></div><h3><a name="TOC-Connecting-the-DUT-to-the-Servo-V2-Board"></a>Connecting the DUT to the Servo V2 Board</h3><div><span style="font-size:13.3333330154419px;background-color:transparent">Your device needs to be a developer device, that is a debug port should be located on the motherboard in order to connect the servoflex cable.  If you have additional questions regarding hardware setup, please see your Chrome OS partner representative.</span></div><div><ol><li><span style="font-size:13.3333330154419px;background-color:transparent">Connect the DUT_CONN_V2 port on the servo board to the DUT with the flex cable as pictured in the diagram above.  Instructions is additional detail are available at <a href="../../../for-testers/faft.html">http://www.chromium.org/for-testers/faft</a>.  The servo cable allows you to simulate keystrokes and mouse actions.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Connect the DUT_HUB_IN port on the servo board to the DUT using a micro-USB to USB cable.   The micro-USB connection should be plugged into the servo v2 board.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Load a recovery test image onto a USB key and plug it into the USB port on the servo board.</span></li></ol></div><h3><a name="TOC-Servo-software-set-up-and-basic-tests"></a>Servo software set up and basic tests</h3><div>Before running tests, you will need to register the DUT if it has not been registered.  In addition, you will need to make some changes to run FAFT.</div><div><ol><li><span style="font-size:13.3333330154419px;background-color:transparent"><a href="usingmoblab.html#TOC-Register-hosts" target="_blank">Register the DUT</a></span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Configure host attributes for the DUT</span></li><ol><li><span style="font-size:13.3333330154419px;background-color:transparent">From the AFE</span></li><ol><li><span style="font-size:13.3333330154419px;background-color:transparent">Click on the “Admin Interface” link in the top right corner of the MobLab Front End.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Select Labels</span></li><ol><li><span style="font-size:13.3333330154419px;background-color:transparent">Ensure label “pool:suites” exists</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">If not click Add label and create it.</span></li></ol><li><span style="font-size:13.3333330154419px;background-color:transparent">Click on AFE at the top right to go back to the main menu.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Select <i>Hosts</i></span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Select the host to which the servo will be attached and enter the host configuration page</span></li><ol><li><span style="font-size:13.3333330154419px;background-color:transparent">Add the following to the labels field for the DUT with servo attached:  pool:faft</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Add the following attribute to the DUT under test:  </span><span style="font-size:13.3333330154419px;background-color:transparent">servo_host=localhost</span></li></ol></ol></ol><li><span style="font-size:13.3333330154419px;background-color:transparent">Test that servo is properly working with the DUT by typing the following commands in the terminal.  See the troubleshooting section at the bottom if things are not working.</span></li><ol><li><span style="font-size:13.3333330154419px;background-color:transparent">dut-control power_state:off</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">dut-control power_state:on</span></li></ol></ol></div><h3><a name="TOC-Running-FAFT-Suites-or-a-Single-FAFT-Test"></a>Running FAFT Suites or a Single FAFT Test</h3><div><div style="display:block;text-align:left"><a href="https://www.chromium.org/chromium-os/testing/moblab/faft-testing-with-moblab/create_job_faft.png?attredirects=0" imageanchor="1"><img border="0" src="https://www.chromium.org/_/rsrc/1437675745827/chromium-os/testing/moblab/faft-testing-with-moblab/create_job_faft.png" /></a></div><br /></div><div><ol><li><span style="font-size:13.3333330154419px;background-color:transparent">To run FAFT on a given image, you will first need to put the recovery test image for DUT on the USB stick attached to the servo.  </span><span style="font-size:13.3333330154419px;background-color:transparent">To put a recovery image on the USB, you can use <a href="http://www.chromium.org/chromium-os/build/cros-flash">cros flash</a> from the chroot at your workstation.  The <a href="../../developer-guide.html" target="_blank">Chrome OS developer guide</a> has additional information.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Go to the terminal to start servod.  You can a</span><span style="font-size:13.3333330154419px;background-color:transparent">ccess the Moblab command line via by pressing</span><span style="font-size:13.3333330154419px;background-color:transparent"> ctrl+alt+f2 to access vt2 from the physical MobLab device or by </span><span style="font-size:13.3333330154419px;background-color:transparent">SSHing into the MobLab</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Type <font face="courier new, monospace">sudo start servod --board=&lt;BOARD&gt;</font></span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Return back to the AFE by pressing ctrl+alt+f1.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">To run a FAFT suite (faft_ec, faft_bios)</span></li><ol><li><span style="font-size:13.3333330154419px;background-color:transparent">Click <font face="arial, sans-serif"><i>Create Job</i></font> link from moblab web url</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Next to <i>Job name: field</i>, enter an unique job name.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Next to the <i>Image URL/Build:</i> field enter an available build name (ex gnawty-release/R40-6380.0.0).</span></li></ol><li><span style="font-size:13.3333330154419px;background-color:transparent">[Optional] Expand <i>Firmware Build Options (optional)</i> in order to specify different firmware builds.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">[Optional] Specify <i>Test Source Build</i>.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">In the <i>Select Tests to Run</i>: section, select Server next to Filter by test type:</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">[For Suite]  Type in the suite name in <i>Filter by test name</i>.  </span><span style="font-size:13.3333330154419px;background-color:transparent">FAFT suites include include:  “test_suites:faft_ec” AND “test_suites:faft_bios”</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">[For a single test]</span></li><ol><li><span style="font-size:13.3333330154419px;background-color:transparent"><span style="font-size:13.3333330154419px">Type in the test name in <i>Filter by test name.</i></span></span></li></ol><li><span style="font-size:13.3333330154419px;background-color:transparent">Click on the check box for the test you want to run in the search result</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">[For a single test]  </span><span style="font-size:13.3333330154419px;background-color:transparent">Under the <i>Select Hosts for Running Tests</i> section, click on the hostname. This should result in the same host to be displayed in the ‘Selected hosts’ section.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">[For Suite] Click on <i>Advanced Options</i>.  </span><span style="font-size:13.3333330154419px;background-color:transparent">Next to the Pool (Optional): field, enter faft</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Click Submit job to run. </span></li></ol></div><h2><a name="TOC-Troubleshooting"></a>Troubleshooting</h2><div><ul><li><span style="font-size:13.3333330154419px;background-color:transparent">The servo cable has a tendency to come loose from the DUT.  Make sure that it has not fallen off.  While running FAFT tests, you may need to prop the DUT sideways if the servo cable keeps falling off the DUT.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">You may need to restart the servo v2 board (by pressing the button on the board) or restart the MobLab.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Make sure that you are not accidentally running two instances of servod.  In addition, make sure that the one running is running on port 9999 which is the default port.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">If you need to specify another port, when calling <font face="courier new, monospace">sudo start servod</font> in the terminal, add the following option:  “PORT=nnnn” </span></li><ul><li><span style="font-size:13.3333330154419px;background-color:transparent">If you use a different port you need to assign the servo_port host attribute.</span></li><ul><li><span style="font-size:13.3333330154419px;background-color:transparent">From the AFE</span></li><ul><li><span style="font-size:13.3333330154419px;background-color:transparent">Click on the <i>Admin Interface</i> link in the top right corner of the MobLab Front End.</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Select Hosts</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Select the host to which the servo will be attached and enter the host configuration page</span></li><li><span style="font-size:13.3333330154419px;background-color:transparent">Add the following attribute to the DUT under test:  </span><span style="font-size:13.3333330154419px;background-color:transparent">servo_port=&lt;port&gt;</span></li></ul></ul></ul></ul></div></div></h2></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/chromium-os/testing/moblab/faft-testing-with-moblab">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9lhq5wpQdxCwywmCvRUU0ISzqCoorkZKqY1Uzq2oKSB-7XCbFjK5siHhipNBDi64XtxFts6GkB6lATzIwbXn0B4JLXrWdMJnxOvROxPsClz_5YhRz/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
