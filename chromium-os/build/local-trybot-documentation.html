<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="../../_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/chromium-os","deleted":false,"title":"Chromium OS","dir":"ltr"},{"path":"/chromium-os/build","deleted":false,"title":"Chromium OS Build","dir":"ltr"},{"path":"/chromium-os/build/local-trybot-documentation","deleted":false,"title":"Chromium OS Local Trybots","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/chromium-os/build/local-trybot-documentation\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/chromium-os/build","parentWuid":"wuid:gx:7c2378e91050b97e","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Chromium OS Local Trybots","locale":"en","wuid":"wuid:gx:1a1a9994f9b31d4a","revision":50,"path":"/chromium-os/build/local-trybot-documentation","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"local-trybot-documentation","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Chromium OS Local Trybots - The Chromium Projects" />
<meta itemprop="name" content="Chromium OS Local Trybots - The Chromium Projects" />
<meta property="og:title" content="Chromium OS Local Trybots - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../../_/rsrc/1441580320000/system/app/css/overlay.css%3Fcb=beigeandblueundefineda100%2525%2525150goog-ws-leftthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../../_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Chromium OS Local Trybots - The Chromium Projects</title>
<meta itemprop="image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<meta property="og:image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="../../index.html" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="../../_/rsrc/1438879449147/config/customLogo.gif%3Frevision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="../../index.html" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://www.chromium.org/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../chromium-projects.html" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../Home.1.html" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../chromium-os.1.html" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="../../for-testers/bug-reporting-guidelines.html" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../developers/discussion-groups.html" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="../../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../../chromium-os.1.html" dir="ltr">Chromium OS</A>‎ &gt; ‎<A href="../build.1.html" dir="ltr">Chromium OS Build</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Chromium OS Local Trybots</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div><div class="sites-embed-align-right-wrapping-on"><div class="sites-embed-border-off sites-embed" style="width:250px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="local-trybot-documentation.html#TOC-Introduction"><strong>1 </strong>Introduction</a></li><li class="goog-toc"><a href="local-trybot-documentation.html#TOC-Pre-instructions-These-are-important-"><strong>2 </strong>Pre-instructions (These are important!)</a></li><li class="goog-toc"><a href="local-trybot-documentation.html#TOC-Verifying-the-Trybot"><strong>3 </strong>Verifying the Trybot</a></li><li class="goog-toc"><a href="local-trybot-documentation.html#TOC-Instructions-For-Using-the-Trybot"><strong>4 </strong>Instructions For Using the Trybot</a><ol class="goog-toc"><li class="goog-toc"><a href="local-trybot-documentation.html#TOC-To-patch-in-a-gerrit-CL"><strong>4.1 </strong>To patch in a gerrit CL</a></li><li class="goog-toc"><a href="local-trybot-documentation.html#TOC-To-patch-in-a-rietveld-CL"><strong>4.2 </strong>To patch in a rietveld CL</a></li><li class="goog-toc"><a href="local-trybot-documentation.html#TOC-To-patch-in-a-local-change"><strong>4.3 </strong>To patch in a local change</a></li></ol></li><li class="goog-toc"><a href="local-trybot-documentation.html#TOC-Sample-Trybot-Run"><strong>5 </strong>Sample Trybot Run</a></li><li class="goog-toc"><a href="local-trybot-documentation.html#TOC-Tips"><strong>6 </strong>Tips</a></li><li class="goog-toc"><a href="local-trybot-documentation.html#TOC-Overview-of-Trybot-Operation"><strong>7 </strong>Overview of Trybot Operation</a></li><li class="goog-toc"><a href="local-trybot-documentation.html#TOC-Feedback"><strong>8 </strong>Feedback</a></li></ol></div></div></div></div></div>
<h2><a name="TOC-Introduction"></a>Introduction</h2>
<p>The local trybot allows you to emulate a buildbot run on your local machine with a set of your changes.  The changes are patched to tip of tree (TOT).  It supports running of paladin and full buildbot configurations.</p>
<p>It supports patching of both gerrit CL's and local changes.</p>
<div style="background-color:transparent">
<p>For Google developers, please also take a look at the <a href="https://www.chromium.org/chromium-os/build/using-remote-trybots">Remote Trybot documentation</a>.</p>
</div>
<div style="background-color:transparent">
<p><font color="#0000ff">NOTE:</font><font color="#274e13"> </font>The first time you run the trybot it will sync down a fresh checkout of the source, build a new chroot and board, which will make the initial run take longer than subsequent runs.  An incremental run with an existing board takes 30min-40min.</p>
<p><font color="#0000ff">NOTE:</font> Because the trybot syncs the source tree to TOT, your trybot run may fail if the tree is red, or if TOT was broken at the time you ran trybot.  With the commit queue this should be less of a problem.</p>
</div>
<div style="background-color:transparent">
<h2><a name="TOC-Pre-instructions-These-are-important-"></a><b><font size="3">Pre-instructions (These are important!)</font></b></h2>
<ol><li><span style="background-color:transparent;font-size:10pt">Make sure you’ve read through the </span><a href="../developer-guide.html" style="background-color:transparent;font-size:10pt">ChromiumOS Developer Guide</a><span style="background-color:transparent;font-size:10pt"> and can kick off a build properly.</span></li>
<li><font color="#0000ff" style="background-color:transparent;font-size:10pt;font-weight:bold"><a href="../tips-and-tricks-for-chromium-os-developers.html#TOC-Making-sudo-a-little-more-permissive">Modify your sudo config</a></font><font style="background-color:transparent;font-size:10pt"><font color="#0000ff" style="font-weight:bold">.  </font>If you are at Google, you need to follow <a href="https://sites.google.com/a/google.com/chromeos/resources/ubuntu-workstation-notes">these instructions</a> first (Under '</font><span style="background-color:transparent;font-size:10pt">Tweaking with /etc/sudoers' section).</span></li>
<li><span style="background-color:transparent;font-size:10pt">Run </span><font face="'courier new', monospace" style="background-color:transparent;font-size:10pt"><span style="background-color:rgb(238,238,238)"><font color="#274e13">sudo aptitude install kvm pbzip2 zip</font></span><span style="background-color:transparent">.</span></font></li>
<li><span style="background-color:transparent;font-size:10pt">Run </span><font face="'courier new', monospace" style="background-color:transparent;font-size:10pt"><font color="#274e13" style="background-color:rgb(238,238,238)">sudo aptitude safe-upgrade</font><span style="background-color:transparent">.</span></font></li>
<li><span style="background-color:transparent;font-size:10pt">Run </span><font color="#274e13" face="'courier new', monospace" style="font-size:10pt;background-color:rgb(238,238,238)">gclient</font><span style="background-color:transparent;font-size:10pt"> from outside the chroot to update depot_tools.</span></li>
<li><span style="background-color:transparent;font-size:10pt">If you haven’t rebooted your computer in a while, reboot it now after updating.</span></li>
</ol>
</div>
<div style="background-color:transparent">
<h2><a name="TOC-Verifying-the-Trybot"></a><b><font size="3">Verifying the Trybot</font></b></h2>
<p>It’s good to first verify things are working properly with your system setup.  </p>
</div>
<p>To do so, run the following from within your repo source checkout:</p>
<div>
<ol><li><span style="background-color:transparent;font-size:10pt">Run </span><font face="'courier new', monospace" style="background-color:transparent;font-size:10pt"><span style="background-color:rgb(238,238,238)"><font color="#274e13">repo sync --jobs=&lt;jobs&gt;</font></span><span style="background-color:transparent"> </span></font><span style="background-color:transparent;font-size:10pt">to get latest version of trybot.</span></li>
<li><span style="background-color:transparent;font-size:10pt">Run </span><font color="#274e13" face="'courier new', monospace" style="font-size:10pt;background-color:rgb(238,238,238)">cbuildbot x86-generic-paladin</font><font color="#ffffff" face="'courier new', monospace" style="font-size:10pt"> </font><span style="background-color:transparent;font-size:10pt">to do a test run with the current TOT.  Everything should pass.  Contact rcui@chromium.org if you fail here (after you have run the pre-instructions).</span></li>
</ol>
</div>
<div style="background-color:transparent">
<h2><a name="TOC-Instructions-For-Using-the-Trybot"></a><b><font size="3">Instructions For Using the Trybot</font></b></h2>
<p>Run the following from within your repo source checkout:</p>
</div>
<div>
<ol><li><span style="background-color:transparent;font-size:10pt">Run </span><font face="'courier new', monospace" style="background-color:transparent;font-size:10pt"><span style="background-color:rgb(238,238,238)"><font color="#274e13">repo sync --jobs=&lt;jobs&gt;</font></span></font><span style="background-color:transparent;font-size:10pt"> to get latest version of trybot.</span></li>
<li><span style="background-color:transparent;font-size:10pt">Run </span><font color="#274e13" face="'courier new', monospace" style="font-size:10pt;background-color:rgb(238,238,238)">cbuildbot --list</font><span style="background-color:transparent;font-size:10pt"> to see a list of common configs to run with.  Use the </span><font color="#274e13" face="'courier new', monospace" style="font-size:10pt;background-color:rgb(238,238,238)">--all</font><span style="background-color:transparent;font-size:10pt"> flag to see all possible configs.</span></li>
</ol>
<h3><a name="TOC-To-patch-in-a-gerrit-CL"></a><span style="background-color:transparent">To patch in a gerrit CL</span></h3>
<span style="background-color:transparent"><b>3a.</b> Run</span></div>
<div><span style="background-color:transparent"><br />
</span></div>
<div><font face="'courier new', monospace"><font color="#274e13" style="background-color:rgb(238,238,238)">
<div class="sites-codeblock sites-codesnippet-block"><code>cbuildbot -g '[*]&lt;cl_1&gt; [*]&lt;cl_2&gt; .. [*]&lt;cl_N&gt;' config</code></div>
</font></font></div>
<p><span style="background-color:transparent">Substitute &lt;config&gt; with your desired config.  Prepend a '*' to the CL ID to indicate it's an internal CL.  The CL ID can be a Gerrit Change-ID or a change number.</span></p>
<p><span style="background-color:transparent">An example:</span></p>
<div><span style="background-color:rgb(238,238,238)"><font color="#274e13">
<div class="sites-codeblock sites-codesnippet-block"><font face="'courier new', monospace"><code>cbuildbot -g</code></font><code> </code><span style="font-family:Courier New;white-space:pre-wrap"><code>I5bed88ef -g '4168 *Idfd9fcab' x86-alex-paladin</code></span></div>
</font></span>
<p><span style="background-color:transparent;color:rgb(32,32,32);white-space:pre-wrap"><font face="arial, sans-serif">This p</font></span><span style="background-color:transparent">atches in three CL's: 1) an external CL using Gerrit change-ID 2) an external CL using Gerrit change number 3) internal CL using change-iD. In case a CL has several patches associated with it, the latest patch is used.</span></p>
</div>
<div style="background-color:transparent">
<div style="color:rgb(40,55,105);text-align:-webkit-auto">
<h3><a name="TOC-To-patch-in-a-rietveld-CL"></a><span style="color:rgb(0,0,0);background-color:transparent">To patch in a rietveld CL</span></h3>
</div>
<p><span style="color:rgb(0,0,0);background-color:transparent"><b>3b.</b> Run</span></p>
<div style="text-align:-webkit-auto"><font face="'courier new', monospace"><font color="#274e13" style="background-color:rgb(238,238,238)">
<div class="sites-codeblock sites-codesnippet-block"><code>cbuildbot --remote --rietveld-patches=id[:subdir1]...idN[:subdirN]</code></div>
</font></font></div>
<p><span style="background-color:transparent">An example:</span></p>
<div style="color:rgb(40,55,105);font-family:Droid Sans,serif;line-height:20px;text-align:-webkit-auto"><span style="background-color:rgb(238,238,238)">
<div class="sites-codeblock sites-codesnippet-block"><font style="color:rgb(0,0,0);font-family:Arial,Verdana,sans-serif;line-height:normal"><code>cbuildbot --remote </code></font><span style="color:rgb(0,0,0);font-family:Courier New;line-height:normal;white-space:pre-wrap"><code>--rietveld-patches=</code></span><span style="background-color:rgb(238,238,238);text-align:-webkit-auto;white-space:pre-wrap"><font color="#006000" face="monospace">11659002:src/tools/gyp x86-alex-paladin x86-alex-release</font></span></div>
</span></div>
<p><span style="background-color:transparent">This patches the CL </span><a href="https://codereview.chromium.org/11659002" style="color:rgb(46,73,135)!important;text-align:-webkit-auto;font-family:Droid Sans,serif;line-height:1.5;font-size:10pt">https://codereview.chromium.org/11659002</a> into chromium/src/tools/gyp.</p>
<p>Internal rietveld CLs are not yet supported.</p>
</div>
<div style="background-color:transparent">
<h3><a name="TOC-To-patch-in-a-local-change"></a>To patch in a local change</h3>
<p><b>3c.</b> Run</p>
</div>
<div><font face="'courier new', monospace" style="background-color:transparent">
<div class="sites-codeblock sites-codesnippet-block"><code>cbuildbot -p '&lt;project1&gt;[:&lt;branch1&gt;]...&lt;projectN&gt;[:&lt;branchN&gt;]' config</code></div>
</font>
<p>Specify the name of the project (not the path) and optionally the project branch.  If no branch is specified the current branch of the project will be used. </p>
<p><font color="#0000ff" style="background-color:transparent">NOTE:</font><font color="#ff0000" style="background-color:transparent"> </font><span style="background-color:transparent">To get the project name of the project you're working on run </span><font face="'courier new', monospace"><font color="#274e13" style="background-color:rgb(238,238,238)">repo list</font></font><span style="background-color:transparent">.</span></p>
</div>
<p><font color="#0000ff">NOTE:</font><font color="#ff0000"> </font>Do not do development within the trybot buildroot!  Your changes will get wiped out on the next trybot run.  Develop within your source root, and patch in changes.</p>
<p><font color="#0000ff" style="background-color:transparent">NOTE: </font><span style="background-color:transparent">Use the </span><font color="#274e13" face="'courier new', monospace" style="background-color:rgb(238,238,238)">--nosync</font><span style="background-color:transparent"> option to prevent the trybot from updating its source checkout.  See the Tips section below for more info.</span></p>
<div style="background-color:transparent">
<h2><a name="TOC-Sample-Trybot-Run"></a><b><font size="3">Sample Trybot Run</font></b></h2>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block">
<p dir="ltr" style="font-family:Times New Roman;font-size:medium;margin-left:30pt;margin-top:0pt;margin-bottom:0pt"><span style="font-size:10pt;font-family:Courier New;color:rgb(32,32,32);font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;background-color:rgb(238,238,238)"><code>rcui@ryanc$ cbuildbot -g 'I5bed88ef 4168' -p 'chromiumos/chromite chromiumos/platform/crosutils' </code></span><span style="color:rgb(0,96,0);font-family:monospace;white-space:pre-wrap">x86-alex-paladin</span></p>
<span style="background-color:rgb(238,238,238)"><br />
</span>
<p dir="ltr" style="font-family:Times New Roman;font-size:medium;margin-left:30pt;margin-top:0pt;margin-bottom:0pt"><span style="font-size:10pt;font-family:Courier New;color:rgb(32,32,32);font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;background-color:rgb(238,238,238)"><code>WARNING: Using default directory /usr/local/google/home/rcui/trybot as buildroot</code></span></p>
<span style="background-color:rgb(238,238,238)"><br />
</span>
<p dir="ltr" style="font-family:Times New Roman;font-size:medium;margin-left:30pt;margin-top:0pt;margin-bottom:0pt"><span style="font-size:10pt;font-family:Courier New;color:rgb(32,32,32);font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;background-color:rgb(238,238,238)"><code>Do you want to continue (yes/NO)? yes</code></span></p>
<span style="background-color:rgb(238,238,238)"><br />
</span>
<p dir="ltr" style="font-family:Times New Roman;font-size:medium;margin-left:30pt;margin-top:0pt;margin-bottom:0pt"><span style="font-size:10pt;font-family:Courier New;color:rgb(32,32,32);font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;background-color:rgb(238,238,238)"><code>INFO: Saving output to cbuildbot.log file</code></span></p>
<p dir="ltr" style="font-family:Times New Roman;font-size:medium;margin-left:30pt;margin-top:0pt;margin-bottom:0pt"><span style="font-size:10pt;font-family:Courier New;color:rgb(32,32,32);font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;background-color:rgb(238,238,238)"><code>[sudo] password for rcui: </code></span></p>
</div>
<p><font color="#0000ff" style="background-color:transparent">NOTE:</font><font color="#ff0000" style="background-color:transparent"> </font><span style="background-color:transparent">The output of the trybot is automatically saved to a cbuildbot.log file in &lt;trybot_root&gt;/cbuildbot_logs. The log directory is printed out at the end of a run.</span></p>
</div>
<div>
<h2><a name="TOC-Tips"></a><font size="3"><b style="background-color:transparent">Tips</b></font></h2>
<p><span style="background-color:transparent">Say you’ve run the trybot once with your patches, and it fails.  After making some changes to fix it you want to test the patches again, but you don’t want the trybot to update the source checkout.  In this case, you can use the</span><font face="'courier new', monospace"> <span style="background-color:rgb(238,238,238)"><font color="#274e13">--nosync</font></span></font><span style="background-color:transparent"> option.  Trybot will skip the sync stage and apply your patches to the previously checked out source.</span></p>
</div>
<div>
<h2><a name="TOC-Overview-of-Trybot-Operation"></a><b><font size="3">Overview of Trybot Operation</font></b></h2>
<p>The first time you run the trybot, it will sync down its own checkout of the source, and build its own chroot.  The CL's you specify to patch are patched to the trybot's own source tree.</p>
<p>When you specify local changes to patch (by specifying a project and branch the changes are on) the trybot will generate git patch files based on those changes and apply the patch files to its private source checkout.</p>
<p>When you specify a Gerrit changelist, the trybot will look up the changelist info from Gerrit, fetch the ref of the change, and rebase it to TOT in its private source checkout.</p>
</div>
<h2><a name="TOC-Feedback"></a><font size="3"><b>Feedback</b></font></h2>
<p>Thanks for using the trybot! Please contact <a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-os-dev">chromium-os-dev@chromium.org</a> for any issues you run into.  Please report any bugs you find, and file feature requests.  There will be active development on the trybot, so please sync to the latest version before you run it.</p></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/chromium-os/build/local-trybot-documentation">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvrAwjAfmld0ObrebBiGRq9pZXRsz5U8ZJ6kblUmPhnBs59qt0XxuydNfphdYcjBY2zcOOKSPjIAE49uxeYlwXAuExDKT6Ik55Nl0ioKwQLXGxB3jDkj0xeBgi5-dgYkFGOycp0/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
