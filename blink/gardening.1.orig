<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e="wtsrt_",g="tbsd_",h="tbnd_",k="start",l="_wtsrt",m="_tbnd",n="CSI/";(function(){function f(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp(n+a)}catch(d){}};this.tick(k,null,a)}var a;window.performance&&(a=window.performance.timing);var p=a?new f(a.responseStart):new f;window.jstiming={Timer:f,load:p};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick(l,void 0,c),b.tick(e,l,d),b.tick(g,e))}try{a=null,
window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick(m,void 0,window.chrome.csi().startE),b.tick(h,m,c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick(m,void 0,window.external.startE),b.tick(h,m,c))),a&&(window.jstiming.pt=a)}catch(q){}})(); })()
</script>
<link rel="shortcut icon" href="/_/rsrc/1354323194313/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/56e332/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d="",g="__duration__",h="function";function k(c){return document.getElementById(c)}window.byId=k;function l(c){return c.replace(/^\s+|\s+$/g,d)}window.trim=l;var m=[],n=0;window.JOT_addListener=function(c,a,b){var e=new String(n++);c={eventName:c,handler:a,compId:b,key:e};m.push(c);return e};window.JOT_removeListenerByKey=function(c){for(var a=0;a<m.length;a++)if(m[a].key==c){m.splice(a,1);break}};
window.JOT_removeAllListenersForName=function(c){for(var a=0;a<m.length;a++)m[a].eventName==c&&m.splice(a,1)};window.JOT_postEvent=function(c,a,b){var e={eventName:c,eventSrc:a||{},payload:b||{}};if(window.JOT_fullyLoaded)for(a=m.length,b=0;b<a&&b<m.length;b++){var f=m[b];f&&f.eventName==c&&(e.listenerCompId=f.compId||d,(f=typeof f.handler==h?f.handler:window[f.handler])&&f(e))}else window.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};window.JOT_delayedEvents=[];
window.JOT_fullyLoaded=!1;window.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var e=0;60<=b&&(b/=60,e=2);2<=b&&e++;return a?window.JOT_siteRelTimeStrs[e].replace(g,Math.floor(b)):window.JOT_userRelTimeStrs[e].replace(g,Math.floor(b))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/blink","deleted":false,"title":"Blink","dir":"ltr"},{"path":"/blink/gardening","deleted":false,"title":"Gardening Blink","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/56e332/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"enableAnalytics":true,"pageSharingId":"jotspot_page","enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","isStartPageEnabled":true,"adsensePublisherId":null,"features":{"languageSelectDefaultTextSetToDefault":true,"validateClientGvizDataSourceUrls":true,"moreMobileStyleImprovements":true,"newInsertMenuIcons":true,"accessibleSortingButtons":true,"domainAnalyticsInGAOnly":true,"noCaptcha":true,"fileCabinetScreenReaderFix":true,"updatedTosAndPrivacyLinks":null,"pageDrafts":false,"mobileOrientationFix":true,"plusBadge":false,"pdfEmbedSupport":false,"jsClickFix":true},"isPublic":true,"isConsumer":false,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"onepickBaseUrl":"https://docs.google.com","domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttps://sites.google.com/a/chromium.org/dev/blink/gardening\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/56e332/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/56e332/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/56e332/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/56e332/system/app/css/trogedit.css","/_/rsrc/1441580320000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/56e332/system/app/css/codeeditor.css","/_/rsrc/1441580320000/system/app/css/camelot/editor-jfk-wlb.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/blink","parentWuid":"wuid:gx:1c15db3ef1df1880","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Gardening Blink","locale":"en","wuid":"wuid:gx:73ea63eeb14ccc17","revision":242,"path":"/blink/gardening","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"gardening","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Gardening Blink - The Chromium Projects" />
<meta itemprop="name" content="Gardening Blink - The Chromium Projects" />
<meta property="og:title" content="Gardening Blink - The Chromium Projects" />
<meta name="description" content="Home of the Chromium Open Source Project" />
<meta itemprop="description" content="Home of the Chromium Open Source Project" />
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/56e332/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/overlay.css?cb=beigeandblueundefineda100%25%25150goog-ws-leftthemedefaultstandard" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1441580320000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Gardening Blink - The Chromium Projects</title>
<meta itemprop="image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<meta property="og:image" content="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="https://www.chromium.org/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1438879449147/config/customLogo.gif?revision=3" alt="The Chromium Projects" class="sites-logo  " /></a><h2><a href="https://www.chromium.org/" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-projects" jotId="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/Home" jotId="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/chromium-os" jotId="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/for-testers/bug-reporting-guidelines" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/developers/discussion-groups" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:4b58a9a350ad12f" class="sites-navigation-link">网站地图</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" role="complementary"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://developers.google.com/site-policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br /></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="/blink" dir="ltr">Blink</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Gardening Blink</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-one-column-hf sites-layout-vbox"><div class="sites-layout-tile sites-tile-name-header"><div dir="ltr">Relax.  Keeping track of all the Blink commits can be stressful.  Sometimes the best approach is to be patient and clean up one mess at a time until the tree is sparkling green again.  Blink contributors are only human, and we all make mistakes from time to time.</div></div><div class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><h2><a name="TOC-Goals"></a>Goals</h2><div>There are two overarching goals to gardening Blink:<br /><ol><li>Increase the revision of Blink we use in Chromium without regressing any tests.</li><li>Prevent or fix any Blink regressions in tip of tree Blink.</li></ol></div><div>Ideally, we would increase the Blink revision in Chromium (“roll DEPS”) in small increments, more closely approximating continuous integration.  That’s not always possible, but we aim to roll <a href="https://chromium.googlesource.com/chromium/src/+/master/DEPS">DEPS</a> at least once a day to avoid falling too far behind. <b>When things are rolling smoothly, the gardener should always have a Blink roll in the commit queue</b>. The moment the commit queue lands a roll, queue up the next one. See <a href="https://codereview.chromium.org/user/blink-deps-roller">closed and ongoing DEPS roll in http://crrev.com</a><br /><h2><a name="TOC-Prerequisites"></a>Prerequisites</h2></div><div><ul><li><a href="https://www.chromium.org/getting-involved/become-a-committer">Commit access to Chromium</a>.</li></ul></div><h3><a name="TOC-Bots"></a>Bots</h3><div><b style="font-size:10pt">For goal 1, </b><span style="font-size:10pt">of increasing the Blink revision, fix any </span><a href="http://build.chromium.org/p/chromium.webkit/waterfall?category=nonlayout&amp;failures_only=true" style="font-size:10pt;color:rgb(85,26,139)">failing canary Chromium test buildbots</a><span style="font-size:10pt">.</span><span style="font-size:10pt"> Once all these bots are green you can roll the Blink revision. </span><b style="font-size:10pt">You do NOT need to wait for the layout test bots to be green.</b><span style="font-size:10pt"> But use your judgement. If there are hundreds of layout test failures or there are failures you think are likely to cause significant problems in the next Chrome Canary release, then fix those before doing the Blink roll.</span></div><div><span style="font-size:10pt"><br /></span></div><div><b>For goal 2,</b> fix any <a href="http://build.chromium.org/p/chromium.webkit/waterfall?category=layout&amp;failures_only=true" style="font-size:10pt;color:rgb(85,26,139)">failing canary LayoutTest buildbots</a> and <a href="http://build.chromium.org/p/chromium.webkit/waterfall?category=deps&amp;failures_only=true">failing deps LayoutTests bots</a> <span style="font-size:10pt">using the tools listed below. Getting no failures in sheriff-o-matic is usually (not always!) sufficient to achieve this.</span></div><div><br /></div><div>LayoutTests can have different expected results on different platforms. To avoiding having to store a complete set of results for each platform, most platforms "fall back" to the results used by other platforms if they don't have specific results. Here's a <a href="https://docs.google.com/a/chromium.org/drawings/d/1KBTihR80H42GB0be0qK2CyM-pPUoMdnHqYaOsNK85vI/edit" style="font-size:10pt">diagram of the expected results fallback graph</a>.</div><div><br /></div><div>The <a href="http://build.chromium.org/p/chromium.webkit/waterfall?show=WebKit%20Linux%20ASAN">ASAN bot</a> is slightly unusual; generally speaking we only care about memory failures on that bot (currently we are actually looking at the test results, but <a href="http://crbug.com/336971">that's a bug</a>). You can suppress ASAN-specific failures using the <a href="https://code.google.com/p/chromium/codesearch?q=LayoutTests%2FASANExpectations#chromium/src/third_party/WebKit/LayoutTests/ASANExpectations&amp;q=LayoutTests/ASANExpectations&amp;sq=package:chromium">LayoutTests/ASANExpectations</a> file.</div><div><br /></div><div>The <a href="http://build.chromium.org/p/chromium.webkit/waterfall?builder=WebKit+Win+Oilpan&amp;builder=WebKit+Win+Oilpan+(dbg)&amp;builder=WebKit+Mac+Oilpan&amp;builder=WebKit+Mac+Oilpan+(dbg)&amp;builder=WebKit+Linux+Oilpan&amp;builder=WebKit+Linux+Oilpan+(dbg)">Oilpan bots</a> are currently not tree closers and gardeners can ignore them. The <a href="https://groups.google.com/a/chromium.org/forum/#!topic/blink-dev/59fb1FIirx0">Oilpan</a> <a href="https://docs.google.com/a/google.com/document/d/1y7_0ni0E_kxvrah-QtnreMlzCDKN3QP4BN1Aw7eSLfY/edit">team</a> is responsible for them (though they won't object if you have the time to help keep them running).</div><div><br /></div><div>Gardeners should <a href="https://docs.google.com/a/google.com/document/d/11C7zFNKydrorESnE6Nbq98QNmKRMrhSwVMGxkx4fiZM/edit#heading=h.26irfde6145p">watch the Leak Bots</a>.</div><div> </div><div><div><span style="font-size:10pt">Blink gardeners don't have to worry about the GPU bots (the bots whose names start with "GPU").  </span><a href="http://www.chromium.org/developers/how-tos/gpu-wrangling" style="font-size:10pt" target="_blank">GPU wranglers</a><span style="font-size:10pt"> will take care of these bots.</span></div></div><div><h2><a name="TOC-Tools"></a>Tools</h2></div><div>Generally speaking, Blink developers are not supposed to land changes that knowingly break the bots (and the try jobs and the commit queue are supposed to catch failures ahead of time). However, sometimes things slip through ...</div><div><h3><a name="TOC-Rebaseline-O-Matic"></a>Rebaseline-O-Matic</h3><h3><a name="TOC-Developers-are-supposed-to-know-ahead-of-time-which-changes-will-require-new-baselines-and-mark-the-affected-tests-as-either-NeedsRebaseline-or-NeedsManualRebaseline-in-LayoutTests-TestExpectations-as-part-of-the-change-that-lands.-"></a><font size="2"><span style="font-weight:normal">Developers are supposed to know ahead of time which changes will require new baselines, and mark the affected tests as either "NeedsRebaseline" or "NeedsManualRebaseline" in LayoutTests/TestExpectations as part of the change that lands. </span></font></h3><h3><a name="TOC-A-bot-called-the-Auto-Rebaseline-Bot-or-rebaseline-o-matic-periodically-runs-the-webkit-patch-rebaseline-o-matic-command-to-update-a-checkout-look-for-new-entries-run-webkit-patch-rebaseline-expectations-to-pull-down-new-baselines-when-they-are-available-a"></a><span style="font-weight:normal;font-size:small;background-color:transparent">A bot called the Auto-Rebaseline-Bot (or <a href="http://blinkrebaseline.appspot.com">rebaseline-o-matic</a>) </span><span style="background-color:transparent;font-size:small;font-weight:normal">periodically </span><span style="background-color:transparent;font-size:small;font-weight:normal">runs the "webkit-patch rebaseline-o-matic" command to update a checkout, look for new entries, run "webkit-patch rebaseline-expectations" to pull down new baselines when they are available, and then automatically land CLs with the new baselines.</span></h3><div>So if you see TestExpectations entries for "NeedsRebaseline", you can ignore them. If you don't see a bot periodically removing these lines and landing baselines, bug someone via the gardening-big-red-button@chromium.org list (or blink-dev if you still don't get a response).</div><div><br /></div><div>If you see entries with "NeedsManualRebaseline", this is basically equivalent to "Failure" but indicates that someone (the developer who made the change) needs to manually review and update the baselines. You should also ignore these entries, or nag the people that added them to clean up after themselves if you're bored.</div><h3><a name="TOC-Sheriff-O-Matic"></a>Sheriff-O-Matic</h3></div><div><a href="http://sheriff-o-matic.appspot.com/" target="_blank">Sheriff-O-Matic</a> is a tool that watches the Canary buildbots and clusters test failures with the SVN revisions that might have caused the failures.  The tool also lets you examine the failures.<br /></div><div><h3><a name="TOC-Rolling-back-patches"></a>Rolling back patches</h3></div><div>To roll back patches, you can use either git revert or <a href="https://www.chromium.org/developers/how-tos/drover">drover</a>. You can also use "Revert Patchset" on the <a href="https://codereview.chromium.org/">Rietveld</a> issue.</div><div><div><h3><a name="TOC-Flakiness-dashboard"></a>Flakiness dashboard</h3></div><div>The <a href="http://test-results.appspot.com/dashboards/flakiness_dashboard.html#useWebKitCanary=true">flakiness dashboard</a> is a tool for understanding a test’s behavior over time.  Originally designed for managing flaky tests, the dashboard shows a timeline view of the test’s behavior over time.  The tool may be overwhelming at first, but <a href="http://dev.chromium.org/developers/testing/flakiness-dashboard">the documentation</a> should help.</div><h3><a name="TOC-Contacting-patch-authors"></a>Contacting patch authors</h3><div>Use either <b>#blink</b> on <b>irc.freenode.net</b> or comment on the corresponding <a href="https://codereview.chromium.org/">Rietveld</a> issue to contact the author. It is patch author's responsibility to reply promptly to your query.</div><h3><a name="TOC-Keeping-track-of-ongoing-issues"></a>Keeping track of ongoing issues</h3><div>Fixing some problems are out of your control. You did your job filing the bug, and now it is being fixed: a bot is being brought back to life by the infrastructure team or another team is hunting down a flaky bug in browsercontentinteractive_testsorwhatevers. To keep your fellow gardeners informed of these problems, add a <b>gardening-blink</b> label to these bugs. This way, a gardener could always check <a href="http://crbug.com/?q=label:gardening-blink">http://crbug.com/?q=label:gardening-blink</a> whenever an issue pops up and comfort themselves in knowing it is under control.</div><div><h2><a name="TOC-Workflows"></a>Workflows</h2></div><div>Different gardeners prefer different workflows.  One common workflow watches for new failures, attempts to resolve the failures as they occur, and rolls DEPS opportunistically.<br /><h3><a name="TOC-Resolving-Failures"></a>Resolving Failures</h3></div><div>Sheriff-O-Matic’s will help you watch all the canary bots for build failures and LayoutTest failures.<br /><br /><b>If a canary fails to build</b>, fixing the compile error is the highest priority because build errors prevent us from getting test coverage:<br /><ol><li>Follow <i>Examine</i> the link from Sheriff-O-Matic to the compile error.</li><li>Determine which patch caused the regression.</li><li>Contact the author of the patch and ask him to fix the failure.</li><li>If the author fails to respond in reasonable time, roll out the patch.</li></ol><b>If the failure appears to be a flaky test</b> (e.g., because it appears only on one cycle of one bot), you can either ignore the failure or mark the test as flaky in <a href="https://chromium.googlesource.com/chromium/blink/+/master/LayoutTests/TestExpectations">TestExpectations</a>.  The <a href="http://test-results.appspot.com/dashboards/flakiness_dashboard.html#useWebKitCanary=true">flakiness dashboard</a> can be helpful in guessing whether a failure is due to flakiness.<br /><br /><b>If a patch introduces a new failing test</b>, and the author did not create baselines for various Blink configurations:<br /><ol><li>Determine which patch caused the regression</li><li>Contact the author of the patch and ask him to fix the failure.</li><li>If the author fails to respond in reasonable time, roll out the patch.</li></ol><div><span style="font-size:10pt">Unfortunately, there is a window of time between when a failure occurs and when you can address the failure.  Sometimes patches land during that window that cause more failures.  If that happens to you, do not worry.  If you calmly address each failure in turn, the process will eventually converge and you’ll have a sparkling green tree again.</span></div><h3><a name="TOC-Rolling-Blink-DEPS"></a>Rolling Blink DEPS</h3></div><div>The <a href="http://www.chromium.org/blink/blinkrollbot">Blink AutoRollBot (ARB) script</a>  tries to submit autogenerated rolling DEPS changes. Its current in-progress roll can be found on its <a href="https://codereview.chromium.org/user/blink-deps-roller">Rietveld page</a>. If it's not working, you'll have to roll manually using the roll-dep script (located in depot_tools), as described below.</div><div><br /></div><div>Once you’ve got a Blink revision that does not contain any regressions, it’s time to incorporate that revision in Chromium.</div><div><div class="sites-codeblock sites-codesnippet-block"><code>cd src<br />git checkout -b blink_roll_&lt;new_rev&gt; origin/master<br />roll-dep third_party/WebKit &lt;new_rev&gt;<br />git add DEPS<br />git commit --no-edit<br />git cl upload --bypass-hooks --use-commit-queue -f [ -r &lt;reviewer&gt; --send-mail ]</code></div><font size="2"><div><font size="2"><br /></font></div>This will do the following:</font></div><div><ol><li>Change the <b>webkit_revision</b> in Chromium’s <a href="http://src.chromium.org/viewvc/chrome/trunk/src/DEPS">DEPS</a> to new_revision_number (the revision number can either be a git hash or an SVN revision; if the later, use a leading "r", as in "r123456").</li><li>Create a changelist and add it to the commit queue.</li></ol><div><div><font size="2">It is a good practice to set &lt;</font><span style="color:rgb(0,96,0);font-family:monospace">reviewer&gt;</span><font size="2"> to the gardener taking the next shift.</font></div></div><div><code><br /></code></div>The <a href="http://build.chromium.org/p/chromium.webkit/waterfall?category=nonlayout">Canary Chromium test buildbots</a> should be an accurate predictor of your try job will fair, but running the job through the commit queue covers more configurations and can ease your peace of mind.  <span style="font-size:10pt;background-color:transparent">If you want to check whether you’ve succeeded in creating a blindingly green roll, you can look at the </span><a href="http://build.chromium.org/p/chromium.webkit/waterfall?category=deps" style="font-size:10pt;background-color:transparent">DEPS LayoutTest waterfall</a><span style="font-size:10pt;background-color:transparent">, which tests the most recent Chromium revision with the current DEPS revision of Blink.</span></div><h2><a name="TOC-If-a-Test-Blocks-the-Roll"></a><font size="3">If a Test Blocks the Roll</font></h2><div><font size="2">Blink rolls can get stopped by Chromium trybots, for instance if a V8 change breaks a downstream browser_test. If so, try to find the culprit and revert it. In emergencies you may disable the test to get the roll through, but in that case file a high-prio tracking bug with the appropriate label (for instance, Cr-Blink-WebRTC if the broken test is a WebRTC test, etc).</font></div><div><h3><a name="TOC-Handling-Disasters"></a>Handling Disasters</h3></div><div>Sometimes a patch comes through that changes the behavior of a massive number of tests.  For example, rendering tree or SVG patches can require updates to a large number of image baselines.  Don’t be afraid to ask for help.  We’d rather put in the extra effort to handle these cases carefully than to be surprised when <a href="https://bugs.webkit.org/show_bug.cgi?id=65796#c0">a nasty regression sneaks through</a>.<br /><br /><b>Close the tree</b> by clicking on <b><a href="http://blink-status.appspot.com/">blink status</a></b> on a build page, e.g. <a href="http://build.chromium.org/p/chromium.webkit/console?branch=src&amp;reload=60" style="font-size:10pt" target="_blank">Canary Console View</a>.</div><div><span style="font-size:10pt;background-color:transparent"><br /></span></div><div><span style="font-size:10pt;background-color:transparent">If all else fails, you are still stuck, and getting further and further behind (say, building up a &gt;150-revision roll), don't hesitate to press the </span><span style="font-size:10pt;background-color:rgb(255,0,0)"><font color="#ffffff"><b>BIG RED BUTTON</b></font></span><span style="font-size:10pt;background-color:transparent"> to summon the few seasoned gardeners who'd seen it all and will gladly help you out of this predicament. No, there's no actual button. That was a metaphor (I think). Just send an email to </span><a href="mailto:gardening-big-red-button@chromium.org" style="font-size:10pt;background-color:transparent">gardening-big-red-button@chromium.org</a><span style="font-size:10pt;background-color:transparent">, and cc</span><span style="font-size:10pt;background-color:transparent"> </span><a href="https://groups.google.com/a/chromium.org/group/blink-dev/topics" style="font-size:10pt;background-color:transparent">blink-dev@chromium.org</a><span style="font-size:10pt;background-color:transparent">.</span></div><h3><a name="TOC-Wrapping-up-the-day"></a>Wrapping up the day</h3><div>At the end of each day of gardening, write a summary email to <a href="https://groups.google.com/a/chromium.org/group/blink-dev/topics">blink-dev@chromium.org</a>. As you finish your shift, look over <a href="http://crbug.com/?q=label:gardening-blink" style="background-color:transparent;font-size:10pt">http://crbug.com/?q=label:gardening-blink</a><span style="background-color:transparent;font-size:10pt"> and remove the <b>gardening-blink</b> label from bugs that don't have useful content for the next gardener.</span></div><div><h2><a name="TOC-Final-Thoughts"></a>Final Thoughts</h2></div><div>Gardening Blink requires a certain amount of Zen.  If you feel yourself getting frustrated, don’t be afraid to stand up from your desk and get some fresh air.  If you’re calm and relaxed, you’ll make better decisions and you’ll have more pleasant interactions with other contributors.<br /><br />Good luck, and thanks for helping to make Blink and Chromium better.<br /><br /><font size="4"><b>Gardening Schedule</b></font><br />See: <a href="https://www.google.com/calendar/embed?src=google.com_h1kjbmjo6p29ta0rluu8eh5qjo@group.calendar.google.com&amp;ctz=America/Los_Angeles" target="_blank">Chrome WebKit Sheriff Calendar</a></div></div></div></div><div class="sites-layout-tile sites-tile-name-footer sites-layout-empty-tile"><div dir="ltr"></div></div></div>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages" class="sites-canvas-bottom-panel-wrapper" style="">
<div class="sites-subpages">
            Subpages <span id="subpages-total-number">(1):</span>
<span>
<a href="/blink/gardening/triaging-gasper-alerts" dir="ltr">Triaging Gasper Alerts</a>
</span>
</div>
</div>
<div id="sites-attachments-container">
</div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=https://sites.google.com/a/chromium.org/dev/blink/gardening">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/recentChanges">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/56e332/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
      
          sites.core.Analytics.createTracker();
          sites.core.Analytics.trackPageview();
        
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://www.chromium.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
